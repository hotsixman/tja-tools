<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="./vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title></title>
    <script type="module" crossorigin>(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const u of i)if(u.type==="childList")for(const o of u.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const u={};return i.integrity&&(u.integrity=i.integrity),i.referrerPolicy&&(u.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?u.credentials="include":i.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function n(i){if(i.ep)return;i.ep=!0;const u=r(i);fetch(i.href,u)}})();const Ho=!1;var Ln=Array.isArray,Un=Array.from,Yo=Object.defineProperty,vr=Object.getOwnPropertyDescriptor,Go=Object.prototype,Jo=Array.prototype,jo=Object.getPrototypeOf;function Ko(e){for(var t=0;t<e.length;t++)e[t]()}const Zt=2,ru=4,un=8,kn=16,Ct=32,on=64,cr=128,Lr=256,dt=512,ur=1024,an=2048,Nt=4096,_r=8192,Qo=16384,Xn=32768,ea=1<<18,ta=1<<19,tr=Symbol("$state");function ra(e){return e===this.v}function na(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function ia(e){return!na(e,this.v)}function ua(e){throw new Error("effect_in_teardown")}function oa(){throw new Error("effect_in_unowned_derived")}function aa(e){throw new Error("effect_orphan")}function sa(){throw new Error("effect_update_depth_exceeded")}function la(){throw new Error("state_descriptors_fixed")}function fa(){throw new Error("state_prototype_fixed")}function ca(){throw new Error("state_unsafe_local_read")}function ha(){throw new Error("state_unsafe_mutation")}function at(e){return{f:0,v:e,reactions:null,equals:ra,version:0}}function Ne(e){return va(at(e))}function da(e,t=!1){var n;const r=at(e);return t||(r.equals=ia),Ve!==null&&Ve.l!==null&&((n=Ve.l).s??(n.s=[])).push(r),r}function va(e){return xe!==null&&xe.f&Zt&&(Ft===null?xa([e]):Ft.push(e)),e}function le(e,t){return xe!==null&&ln()&&xe.f&(Zt|kn)&&(Ft===null||!Ft.includes(e))&&ha(),pa(e,t)}function pa(e,t){return e.equals(t)||(e.v=t,e.version=gu(),nu(e,ur),ln()&&ye!==null&&ye.f&dt&&!(ye.f&Ct)&&(Je!==null&&Je.includes(e)?(St(ye,ur),cn(ye)):Rt===null?Ta([e]):Rt.push(e))),t}function nu(e,t){var r=e.reactions;if(r!==null)for(var n=ln(),i=r.length,u=0;u<i;u++){var o=r[u],a=o.f;a&ur||!n&&o===ye||(St(o,t),a&(dt|cr)&&(a&Zt?nu(o,an):cn(o)))}}const Da=1,ma=2,ga=16,ya=1,wa=2,ut=Symbol();let Ea=!1;function gt(e,t=null,r){if(typeof e!="object"||e===null||tr in e)return e;const n=jo(e);if(n!==Go&&n!==Jo)return e;var i=new Map,u=Ln(e),o=at(0);u&&i.set("length",at(e.length));var a;return new Proxy(e,{defineProperty(f,l,s){(!("value"in s)||s.configurable===!1||s.enumerable===!1||s.writable===!1)&&la();var c=i.get(l);return c===void 0?(c=at(s.value),i.set(l,c)):le(c,gt(s.value,a)),!0},deleteProperty(f,l){var s=i.get(l);if(s===void 0)l in f&&i.set(l,at(ut));else{if(u&&typeof l=="string"){var c=i.get("length"),d=Number(l);Number.isInteger(d)&&d<c.v&&le(c,d)}le(s,ut),di(o)}return!0},get(f,l,s){var D;if(l===tr)return e;var c=i.get(l),d=l in f;if(c===void 0&&(!d||(D=vr(f,l))!=null&&D.writable)&&(c=at(gt(d?f[l]:ut,a)),i.set(l,c)),c!==void 0){var v=$(c);return v===ut?void 0:v}return Reflect.get(f,l,s)},getOwnPropertyDescriptor(f,l){var s=Reflect.getOwnPropertyDescriptor(f,l);if(s&&"value"in s){var c=i.get(l);c&&(s.value=$(c))}else if(s===void 0){var d=i.get(l),v=d==null?void 0:d.v;if(d!==void 0&&v!==ut)return{enumerable:!0,configurable:!0,value:v,writable:!0}}return s},has(f,l){var v;if(l===tr)return!0;var s=i.get(l),c=s!==void 0&&s.v!==ut||Reflect.has(f,l);if(s!==void 0||ye!==null&&(!c||(v=vr(f,l))!=null&&v.writable)){s===void 0&&(s=at(c?gt(f[l],a):ut),i.set(l,s));var d=$(s);if(d===ut)return!1}return c},set(f,l,s,c){var w;var d=i.get(l),v=l in f;if(u&&l==="length")for(var D=s;D<d.v;D+=1){var h=i.get(D+"");h!==void 0?le(h,ut):D in f&&(h=at(ut),i.set(D+"",h))}d===void 0?(!v||(w=vr(f,l))!=null&&w.writable)&&(d=at(void 0),le(d,gt(s,a)),i.set(l,d)):(v=d.v!==ut,le(d,gt(s,a)));var p=Reflect.getOwnPropertyDescriptor(f,l);if(p!=null&&p.set&&p.set.call(c,s),!v){if(u&&typeof l=="string"){var y=i.get("length"),C=Number(l);Number.isInteger(C)&&C>=y.v&&le(y,C+1)}di(o)}return!0},ownKeys(f){$(o);var l=Reflect.ownKeys(f).filter(d=>{var v=i.get(d);return v===void 0||v.v!==ut});for(var[s,c]of i)c.v!==ut&&!(s in f)&&l.push(s);return l},setPrototypeOf(){fa()}})}function di(e,t=1){le(e,e.v+t)}function vi(e){return e!==null&&typeof e=="object"&&tr in e?e[tr]:e}function Fa(e,t){return Object.is(vi(e),vi(t))}var pi,iu,uu;function Aa(){if(pi===void 0){pi=window;var e=Element.prototype,t=Node.prototype;iu=vr(t,"firstChild").get,uu=vr(t,"nextSibling").get,e.__click=void 0,e.__className="",e.__attributes=null,e.__e=void 0,Text.prototype.__t=void 0}}function Wn(e=""){return document.createTextNode(e)}function Ur(e){return iu.call(e)}function sn(e){return uu.call(e)}function re(e){return Ur(e)}function mr(e,t){{var r=Ur(e);return r instanceof Comment&&r.data===""?sn(r):r}}function oe(e,t=1,r=!1){let n=e;for(;t--;)n=sn(n);return n}function Ca(e){e.textContent=""}function ou(e){var t=e.children;if(t!==null){e.children=null;for(var r=0;r<t.length;r+=1){var n=t[r];n.f&Zt?Zn(n):Vt(n)}}}function au(e){var t,r=ye;ar(e.parent);try{ou(e),t=yu(e)}finally{ar(r)}return t}function su(e){var t=au(e),r=(er||e.f&cr)&&e.deps!==null?an:dt;St(e,r),e.equals(t)||(e.v=t,e.version=gu())}function Zn(e){ou(e),yr(e,0),St(e,_r),e.v=e.children=e.deps=e.reactions=null}function _a(e){ye===null&&xe===null&&aa(),xe!==null&&xe.f&cr&&oa(),Gn&&ua()}function ba(e,t){var r=t.last;r===null?t.last=t.first=e:(r.next=e,e.prev=r,t.last=e)}function br(e,t,r,n=!0){var i=(e&on)!==0,u=ye,o={ctx:Ve,deps:null,deriveds:null,nodes_start:null,nodes_end:null,f:e|ur,first:null,fn:t,last:null,next:null,parent:i?null:u,prev:null,teardown:null,transitions:null,version:0};if(r){var a=rr;try{Di(!0),fn(o),o.f|=Qo}catch(s){throw Vt(o),s}finally{Di(a)}}else t!==null&&cn(o);var f=r&&o.deps===null&&o.first===null&&o.nodes_start===null&&o.teardown===null&&(o.f&ta)===0;if(!f&&!i&&n&&(u!==null&&ba(o,u),xe!==null&&xe.f&Zt)){var l=xe;(l.children??(l.children=[])).push(o)}return o}function lu(e){_a();var t=ye!==null&&(ye.f&Ct)!==0&&Ve!==null&&!Ve.m;if(t){var r=Ve;(r.e??(r.e=[])).push({fn:e,effect:ye,reaction:xe})}else{var n=Br(e);return n}}function Ba(e){const t=br(on,e,!0);return()=>{Vt(t)}}function Br(e){return br(ru,e,!1)}function Vn(e){return br(un,e,!0)}function fu(e){return Hn(e)}function Hn(e,t=0){return br(un|kn|t,e,!0)}function gr(e,t=!0){return br(un|Ct,e,!0,t)}function cu(e){var t=e.teardown;if(t!==null){const r=Gn,n=xe;mi(!0),or(null);try{t.call(null)}finally{mi(r),or(n)}}}function hu(e){var t=e.deriveds;if(t!==null){e.deriveds=null;for(var r=0;r<t.length;r+=1)Zn(t[r])}}function du(e,t=!1){var r=e.first;for(e.first=e.last=null;r!==null;){var n=r.next;Vt(r,t),r=n}}function Na(e){for(var t=e.first;t!==null;){var r=t.next;t.f&Ct||Vt(t),t=r}}function Vt(e,t=!0){var r=!1;if((t||e.f&ea)&&e.nodes_start!==null){var n=e.nodes_start,i=e.nodes_end,u=xe,o=ye;or(null),ar(null);try{for(;n!==null;){var a=n===i?null:sn(n);n.remove(),n=a}}finally{or(u),ar(o)}r=!0}hu(e),du(e,t&&!r),yr(e,0),St(e,_r);var f=e.transitions;if(f!==null)for(const s of f)s.stop();cu(e);var l=e.parent;l!==null&&l.first!==null&&vu(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.parent=e.fn=e.nodes_start=e.nodes_end=null}function vu(e){var t=e.parent,r=e.prev,n=e.next;r!==null&&(r.next=n),n!==null&&(n.prev=r),t!==null&&(t.first===e&&(t.first=n),t.last===e&&(t.last=r))}function Cn(e,t){var r=[];Yn(e,r,!0),pu(r,()=>{Vt(e),t&&t()})}function pu(e,t){var r=e.length;if(r>0){var n=()=>--r||t();for(var i of e)i.out(n)}else t()}function Yn(e,t,r){if(!(e.f&Nt)){if(e.f^=Nt,e.transitions!==null)for(const o of e.transitions)(o.is_global||r)&&t.push(o);for(var n=e.first;n!==null;){var i=n.next,u=(n.f&Xn)!==0||(n.f&Ct)!==0;Yn(n,t,u?r:!1),n=i}}}function kr(e){Du(e,!0)}function Du(e,t){if(e.f&Nt){e.f^=Nt,Nr(e)&&fn(e);for(var r=e.first;r!==null;){var n=r.next,i=(r.f&Xn)!==0||(r.f&Ct)!==0;Du(r,i?t:!1),r=n}if(e.transitions!==null)for(const u of e.transitions)(u.is_global||t)&&u.in()}}let _n=!1,bn=[];function Sa(){_n=!1;const e=bn.slice();bn=[],Ko(e)}function Ma(e){_n||(_n=!0,queueMicrotask(Sa)),bn.push(e)}let Xr=!1,rr=!1,Gn=!1;function Di(e){rr=e}function mi(e){Gn=e}let Bn=[],pr=0;let xe=null;function or(e){xe=e}let ye=null;function ar(e){ye=e}let Ft=null;function xa(e){Ft=e}let Je=null,ot=0,Rt=null;function Ta(e){Rt=e}let mu=0,er=!1,Ve=null;function gu(){return++mu}function ln(){return Ve!==null&&Ve.l===null}function Nr(e){var o,a;var t=e.f;if(t&ur)return!0;if(t&an){var r=e.deps,n=(t&cr)!==0;if(r!==null){var i;if(t&Lr){for(i=0;i<r.length;i++)((o=r[i]).reactions??(o.reactions=[])).push(e);e.f^=Lr}for(i=0;i<r.length;i++){var u=r[i];if(Nr(u)&&su(u),n&&ye!==null&&!er&&!((a=u==null?void 0:u.reactions)!=null&&a.includes(e))&&(u.reactions??(u.reactions=[])).push(e),u.version>e.version)return!0}}n||St(e,dt)}return!1}function Pa(e,t,r){throw e}function yu(e){var c;var t=Je,r=ot,n=Rt,i=xe,u=er,o=Ft,a=e.f;Je=null,ot=0,Rt=null,xe=a&(Ct|on)?null:e,er=!rr&&(a&cr)!==0,Ft=null;try{var f=(0,e.fn)(),l=e.deps;if(Je!==null){var s;if(yr(e,ot),l!==null&&ot>0)for(l.length=ot+Je.length,s=0;s<Je.length;s++)l[ot+s]=Je[s];else e.deps=l=Je;if(!er)for(s=ot;s<l.length;s++)((c=l[s]).reactions??(c.reactions=[])).push(e)}else l!==null&&ot<l.length&&(yr(e,ot),l.length=ot);return f}finally{Je=t,ot=r,Rt=n,xe=i,er=u,Ft=o}}function Oa(e,t){let r=t.reactions;if(r!==null){var n=r.indexOf(e);if(n!==-1){var i=r.length-1;i===0?r=t.reactions=null:(r[n]=r[i],r.pop())}}r===null&&t.f&Zt&&(Je===null||!Je.includes(t))&&(St(t,an),t.f&(cr|Lr)||(t.f^=Lr),yr(t,0))}function yr(e,t){var r=e.deps;if(r!==null)for(var n=t;n<r.length;n++)Oa(e,r[n])}function fn(e){var t=e.f;if(!(t&_r)){St(e,dt);var r=ye,n=Ve;ye=e,Ve=e.ctx;try{hu(e),t&kn?Na(e):du(e),cu(e);var i=yu(e);e.teardown=typeof i=="function"?i:null,e.version=mu}catch(u){Pa(u)}finally{ye=r,Ve=n}}}function Ia(){pr>1e3&&(pr=0,sa()),pr++}function Ra(e){var t=e.length;if(t!==0){Ia();var r=rr;rr=!0;try{for(var n=0;n<t;n++){var i=e[n];i.f&dt||(i.f^=dt);var u=[];wu(i,u),za(u)}}finally{rr=r}}}function za(e){var t=e.length;if(t!==0)for(var r=0;r<t;r++){var n=e[r];!(n.f&(_r|Nt))&&Nr(n)&&(fn(n),n.deps===null&&n.first===null&&n.nodes_start===null&&(n.teardown===null?vu(n):n.fn=null))}}function qa(){if(Xr=!1,pr>1001)return;const e=Bn;Bn=[],Ra(e),Xr||(pr=0)}function cn(e){Xr||(Xr=!0,queueMicrotask(qa));for(var t=e;t.parent!==null;){t=t.parent;var r=t.f;if(r&(on|Ct)){if(!(r&dt))return;t.f^=dt}}Bn.push(t)}function wu(e,t){var r=e.first,n=[];e:for(;r!==null;){var i=r.f,u=(i&Ct)!==0,o=u&&(i&dt)!==0;if(!o&&!(i&Nt))if(i&un){u?r.f^=dt:Nr(r)&&fn(r);var a=r.first;if(a!==null){r=a;continue}}else i&ru&&n.push(r);var f=r.next;if(f===null){let c=r.parent;for(;c!==null;){if(e===c)break e;var l=c.next;if(l!==null){r=l;continue e}c=c.parent}}r=f}for(var s=0;s<n.length;s++)a=n[s],t.push(a),wu(a,t)}function $(e){var a;var t=e.f,r=(t&Zt)!==0;if(r&&t&_r){var n=au(e);return Zn(e),n}if(xe!==null){Ft!==null&&Ft.includes(e)&&ca();var i=xe.deps;Je===null&&i!==null&&i[ot]===e?ot++:Je===null?Je=[e]:Je.push(e),Rt!==null&&ye!==null&&ye.f&dt&&!(ye.f&Ct)&&Rt.includes(e)&&(St(ye,ur),cn(ye))}else if(r&&e.deps===null){var u=e,o=u.parent;o!==null&&!((a=o.deriveds)!=null&&a.includes(u))&&(o.deriveds??(o.deriveds=[])).push(u)}return r&&(u=e,Nr(u)&&su(u)),e.v}function $a(e){const t=xe;try{return xe=null,e()}finally{xe=t}}const La=-3585;function St(e,t){e.f=e.f&La|t}function Jn(e,t=!1,r){Ve={p:Ve,c:null,e:null,m:!1,s:e,x:null,l:null},t||(Ve.l={s:null,u:null,r1:[],r2:at(!1)})}function jn(e){const t=Ve;if(t!==null){const o=t.e;if(o!==null){var r=ye,n=xe;t.e=null;try{for(var i=0;i<o.length;i++){var u=o[i];ar(u.effect),or(u.reaction),Br(u.fn)}}finally{ar(r),or(n)}}Ve=t.p,t.m=!0}return{}}const Eu=new Set,Nn=new Set;function Fu(e){for(var t=0;t<e.length;t++)Eu.add(e[t]);for(var r of Nn)r(e)}function Or(e){var p;var t=this,r=t.ownerDocument,n=e.type,i=((p=e.composedPath)==null?void 0:p.call(e))||[],u=i[0]||e.target,o=0,a=e.__root;if(a){var f=i.indexOf(a);if(f!==-1&&(t===document||t===window)){e.__root=t;return}var l=i.indexOf(t);if(l===-1)return;f<=l&&(o=f)}if(u=i[o]||e.target,u!==t){Yo(e,"currentTarget",{configurable:!0,get(){return u||r}});try{for(var s,c=[];u!==null;){var d=u.assignedSlot||u.parentNode||u.host||null;try{var v=u["__"+n];if(v!==void 0&&!u.disabled)if(Ln(v)){var[D,...h]=v;D.apply(u,[e,...h])}else v.call(u,e)}catch(y){s?c.push(y):s=y}if(e.cancelBubble||d===t||d===null)break;u=d}if(s){for(let y of c)queueMicrotask(()=>{throw y});throw s}}finally{e.__root=t,delete e.currentTarget}}}function Ua(e){var t=document.createElement("template");return t.innerHTML=e,t.content}function Sn(e,t){var r=ye;r.nodes_start===null&&(r.nodes_start=e,r.nodes_end=t)}function Ht(e,t){var r=(t&ya)!==0,n=(t&wa)!==0,i,u=!e.startsWith("<!>");return()=>{i===void 0&&(i=Ua(u?e:"<!>"+e),r||(i=Ur(i)));var o=n?document.importNode(i,!0):i.cloneNode(!0);if(r){var a=Ur(o),f=o.lastChild;Sn(a,f)}else Sn(o,o);return o}}function Au(){var e=document.createDocumentFragment(),t=document.createComment(""),r=Wn();return e.append(t,r),Sn(t,r),e}function bt(e,t){e!==null&&e.before(t)}const ka=["touchstart","touchmove"];function Xa(e){return ka.includes(e)}function Cu(e,t){var r=t==null?"":typeof t=="object"?t+"":t;r!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=r,e.nodeValue=r==null?"":r+"")}function Wa(e,t){return Za(e,t)}const Jt=new Map;function Za(e,{target:t,anchor:r,props:n={},events:i,context:u,intro:o=!0}){Aa();var a=new Set,f=c=>{for(var d=0;d<c.length;d++){var v=c[d];if(!a.has(v)){a.add(v);var D=Xa(v);t.addEventListener(v,Or,{passive:D});var h=Jt.get(v);h===void 0?(document.addEventListener(v,Or,{passive:D}),Jt.set(v,1)):Jt.set(v,h+1)}}};f(Un(Eu)),Nn.add(f);var l=void 0,s=Ba(()=>{var c=r??t.appendChild(Wn());return gr(()=>{if(u){Jn({});var d=Ve;d.c=u}i&&(n.$$events=i),l=e(c,n)||{},u&&jn()}),()=>{var D;for(var d of a){t.removeEventListener(d,Or);var v=Jt.get(d);--v===0?(document.removeEventListener(d,Or),Jt.delete(d)):Jt.set(d,v)}Nn.delete(f),gi.delete(l),c!==r&&((D=c.parentNode)==null||D.removeChild(c))}});return gi.set(l,s),l}let gi=new WeakMap;function Wr(e,t,r,n=null,i=!1){var u=e,o=null,a=null,f=null,l=i?Xn:0;Hn(()=>{f!==(f=!!t())&&(f?(o?kr(o):o=gr(()=>r(u)),a&&Cn(a,()=>{a=null})):(a?kr(a):n&&(a=gr(()=>n(u))),o&&Cn(o,()=>{o=null})))},l)}let yn=null;function _u(e,t){return t}function Va(e,t,r,n){for(var i=[],u=t.length,o=0;o<u;o++)Yn(t[o].e,i,!0);var a=u>0&&i.length===0&&r!==null;if(a){var f=r.parentNode;Ca(f),f.append(r),n.clear(),Tt(e,t[0].prev,t[u-1].next)}pu(i,()=>{for(var l=0;l<u;l++){var s=t[l];a||(n.delete(s.k),Tt(e,s.prev,s.next)),Vt(s.e,!a)}})}function bu(e,t,r,n,i,u=null){var o=e,a={flags:t,items:new Map,first:null};{var f=e;o=f.appendChild(Wn())}var l=null,s=!1;Hn(()=>{var c=r(),d=Ln(c)?c:c==null?[]:Un(c),v=d.length;s&&v===0||(s=v===0,Ha(d,a,o,i,t,n),u!==null&&(v===0?l?kr(l):l=gr(()=>u(o)):l!==null&&Cn(l,()=>{l=null})),r())})}function Ha(e,t,r,n,i,u){var o=e.length,a=t.items,f=t.first,l=f,s,c=null,d=[],v=[],D,h,p,y;for(y=0;y<o;y+=1){if(D=e[y],h=u(D,y),p=a.get(h),p===void 0){var C=l?l.e.nodes_start:r;c=Ya(C,t,c,c===null?t.first:c.next,D,h,y,n,i),a.set(h,c),d=[],v=[],l=c.next;continue}if(p.e.f&Nt&&kr(p.e),p!==l){if(s!==void 0&&s.has(p)){if(d.length<v.length){var w=v[0],A;c=w.prev;var E=d[0],m=d[d.length-1];for(A=0;A<d.length;A+=1)yi(d[A],w,r);for(A=0;A<v.length;A+=1)s.delete(v[A]);Tt(t,E.prev,m.next),Tt(t,c,E),Tt(t,m,w),l=w,c=m,y-=1,d=[],v=[]}else s.delete(p),yi(p,l,r),Tt(t,p.prev,p.next),Tt(t,p,c===null?t.first:c.next),Tt(t,c,p),c=p;continue}for(d=[],v=[];l!==null&&l.k!==h;)l.e.f&Nt||(s??(s=new Set)).add(l),v.push(l),l=l.next;if(l===null)continue;p=l}d.push(p),c=p,l=p.next}if(l!==null||s!==void 0){for(var _=s===void 0?[]:Un(s);l!==null;)l.e.f&Nt||_.push(l),l=l.next;var b=_.length;if(b>0){var N=o===0?r:null;Va(t,_,N,a)}}ye.first=t.first&&t.first.e,ye.last=c&&c.e}function Ya(e,t,r,n,i,u,o,a,f){var l=yn;try{var s=(f&Da)!==0,c=(f&ga)===0,d=s?c?da(i):at(i):i,v=f&ma?at(o):o,D={i:v,v:d,k:u,a:null,e:null,prev:r,next:n};return yn=D,D.e=gr(()=>a(e,d,v),Ea),D.e.prev=r&&r.e,D.e.next=n&&n.e,r===null?t.first=D:(r.next=D,r.e.next=D.e),n!==null&&(n.prev=D,n.e.prev=D.e),D}finally{yn=l}}function yi(e,t,r){for(var n=e.next?e.next.e.nodes_start:r,i=t?t.e.nodes_start:r,u=e.e.nodes_start;u!==n;){var o=sn(u);i.before(u),u=o}}function Tt(e,t,r){t===null?e.first=r:(t.next=r,t.e.next=r&&r.e),r!==null&&(r.prev=t,r.e.prev=t&&t.e)}let wi=!1;function Ga(){wi||(wi=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var t;if(!e.defaultPrevented)for(const r of e.target.elements)(t=r.__on_r)==null||t.call(r)})},{capture:!0}))}function Kn(e,t,r,n=r){e.addEventListener(t,r);const i=e.__on_r;i?e.__on_r=()=>{i(),n()}:e.__on_r=n,Ga()}function Ot(e,t,r=t){var n=ln();Kn(e,"input",()=>{var i=Ei(e)?Fi(e.value):e.value;r(i),n&&i!==(i=t())&&(e.value=i??"")}),Vn(()=>{var i=t();Ei(e)&&i===Fi(e.value)||e.type==="date"&&!i&&!e.value||i!==e.value&&(e.value=i??"")})}function Zr(e,t,r=t){Kn(e,"change",()=>{var n=e.checked;r(n)}),t()==null&&r(!1),Vn(()=>{var n=t();e.checked=!!n})}function Ei(e){var t=e.type;return t==="number"||t==="range"}function Fi(e){return e===""?null:+e}function Bu(e,t,r){if(e.multiple)return ja(e,t);for(var n of e.options){var i=Dr(n);if(Fa(i,t)){n.selected=!0;return}}(!r||t!==void 0)&&(e.selectedIndex=-1)}function Ja(e,t){Br(()=>{var r=new MutationObserver(()=>{var n=e.__value;Bu(e,n)});return r.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{r.disconnect()}})}function Nu(e,t,r=t){var n=!0;Kn(e,"change",()=>{var i;if(e.multiple)i=[].map.call(e.querySelectorAll(":checked"),Dr);else{var u=e.querySelector(":checked");i=u&&Dr(u)}r(i)}),Br(()=>{var i=t();if(Bu(e,i,n),n&&i===void 0){var u=e.querySelector(":checked");u!==null&&(i=Dr(u),r(i))}e.__value=i,n=!1}),Ja(e)}function ja(e,t){for(var r of e.options)r.selected=~t.indexOf(Dr(r))}function Dr(e){return"__value"in e?e.__value:e.value}function Ai(e,t){return e===t||(e==null?void 0:e[tr])===t}function nr(e={},t,r,n){return Br(()=>{var i,u;return Vn(()=>{i=u,u=[],$a(()=>{e!==r(...u)&&(t(e,...u),i&&Ai(r(...i),e)&&t(null,...i))})}),()=>{Ma(()=>{u&&Ai(r(...u),e)&&t(null,...u)})}}),e}const Ka="5";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Ka);class Qa extends Error{constructor(t,r,n){super(r,n),this.code=t}}class Vr extends Qa{}(e=>{e.codes={TJA_COURSE_NOT_ENDED:"#END가 선언되지 않음.",UNKNOWN_DIFFICULTY:"알 수 없는 난이도."}})(Vr||(Vr={}));class Qn{static parse(t,r){let n=t.indexOf(" ");n===-1&&(n=t.length);const i=t.slice(1,n),u=t.slice(n+1);return new Qn({name:i,value:u,time:r})}constructor(t){this.name=t.name,this.value=t.value,this.time=t.time}}function Hr(){return Hr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hr.apply(null,arguments)}var Su={relTol:1e-12,absTol:1e-15,matrix:"Matrix",number:"number",numberFallback:"number",precision:64,predictable:!1,randomSeed:null};function es(e,t){if(Yr(e,t))return e[t];throw typeof e[t]=="function"&&rs(e,t)?new Error('Cannot access method "'+t+'" as a property'):new Error('No access to property "'+t+'"')}function ts(e,t,r){if(Yr(e,t))return e[t]=r,r;throw new Error('No access to property "'+t+'"')}function Yr(e,t){return!ns(e)&&!Array.isArray(e)?!1:wr(is,t)?!0:!(t in Object.prototype||t in Function.prototype)}function rs(e,t){return e==null||typeof e[t]!="function"||wr(e,t)&&Object.getPrototypeOf&&t in Object.getPrototypeOf(e)?!1:wr(us,t)?!0:!(t in Object.prototype||t in Function.prototype)}function ns(e){return typeof e=="object"&&e&&e.constructor===Object}var is={length:!0,name:!0},us={toString:!0,valueOf:!0,toLocaleString:!0};class os{constructor(t){this.wrappedObject=t,this[Symbol.iterator]=this.entries}keys(){return Object.keys(this.wrappedObject).filter(t=>this.has(t)).values()}get(t){return es(this.wrappedObject,t)}set(t,r){return ts(this.wrappedObject,t,r),this}has(t){return Yr(this.wrappedObject,t)&&t in this.wrappedObject}entries(){return as(this.keys(),t=>[t,this.get(t)])}forEach(t){for(var r of this.keys())t(this.get(r),r,this)}delete(t){Yr(this.wrappedObject,t)&&delete this.wrappedObject[t]}clear(){for(var t of this.keys())this.delete(t)}get size(){return Object.keys(this.wrappedObject).length}}function as(e,t){return{next:()=>{var r=e.next();return r.done?r:{value:t(r.value),done:!1}}}}function _e(e){return typeof e=="number"}function ze(e){return!e||typeof e!="object"||typeof e.constructor!="function"?!1:e.isBigNumber===!0&&typeof e.constructor.prototype=="object"&&e.constructor.prototype.isBigNumber===!0||typeof e.constructor.isDecimal=="function"&&e.constructor.isDecimal(e)===!0}function ss(e){return typeof e=="bigint"}function Mu(e){return e&&typeof e=="object"&&Object.getPrototypeOf(e).isComplex===!0||!1}function xu(e){return e&&typeof e=="object"&&Object.getPrototypeOf(e).isFraction===!0||!1}function Tu(e){return e&&e.constructor.prototype.isUnit===!0||!1}function wt(e){return typeof e=="string"}var ke=Array.isArray;function Oe(e){return e&&e.constructor.prototype.isMatrix===!0||!1}function Gr(e){return Array.isArray(e)||Oe(e)}function ls(e){return e&&e.isDenseMatrix&&e.constructor.prototype.isMatrix===!0||!1}function fs(e){return e&&e.isSparseMatrix&&e.constructor.prototype.isMatrix===!0||!1}function cs(e){return e&&e.constructor.prototype.isRange===!0||!1}function ei(e){return e&&e.constructor.prototype.isIndex===!0||!1}function hs(e){return typeof e=="boolean"}function ds(e){return e&&e.constructor.prototype.isResultSet===!0||!1}function vs(e){return e&&e.constructor.prototype.isHelp===!0||!1}function ps(e){return typeof e=="function"}function Ds(e){return e instanceof Date}function ms(e){return e instanceof RegExp}function ti(e){return!!(e&&typeof e=="object"&&e.constructor===Object&&!Mu(e)&&!xu(e))}function gs(e){return e?e instanceof Map||e instanceof os||typeof e.set=="function"&&typeof e.get=="function"&&typeof e.keys=="function"&&typeof e.has=="function":!1}function ys(e){return e===null}function ws(e){return e===void 0}function Es(e){return e&&e.isAccessorNode===!0&&e.constructor.prototype.isNode===!0||!1}function Fs(e){return e&&e.isArrayNode===!0&&e.constructor.prototype.isNode===!0||!1}function As(e){return e&&e.isAssignmentNode===!0&&e.constructor.prototype.isNode===!0||!1}function Cs(e){return e&&e.isBlockNode===!0&&e.constructor.prototype.isNode===!0||!1}function _s(e){return e&&e.isConditionalNode===!0&&e.constructor.prototype.isNode===!0||!1}function bs(e){return e&&e.isConstantNode===!0&&e.constructor.prototype.isNode===!0||!1}function Bs(e){return e&&e.isFunctionAssignmentNode===!0&&e.constructor.prototype.isNode===!0||!1}function Ns(e){return e&&e.isFunctionNode===!0&&e.constructor.prototype.isNode===!0||!1}function Ss(e){return e&&e.isIndexNode===!0&&e.constructor.prototype.isNode===!0||!1}function Ms(e){return e&&e.isNode===!0&&e.constructor.prototype.isNode===!0||!1}function xs(e){return e&&e.isObjectNode===!0&&e.constructor.prototype.isNode===!0||!1}function Ts(e){return e&&e.isOperatorNode===!0&&e.constructor.prototype.isNode===!0||!1}function Ps(e){return e&&e.isParenthesisNode===!0&&e.constructor.prototype.isNode===!0||!1}function Os(e){return e&&e.isRangeNode===!0&&e.constructor.prototype.isNode===!0||!1}function Is(e){return e&&e.isRelationalNode===!0&&e.constructor.prototype.isNode===!0||!1}function Rs(e){return e&&e.isSymbolNode===!0&&e.constructor.prototype.isNode===!0||!1}function zs(e){return e&&e.constructor.prototype.isChain===!0||!1}function zt(e){var t=typeof e;return t==="object"?e===null?"null":ze(e)?"BigNumber":e.constructor&&e.constructor.name?e.constructor.name:"Object":t}function Pe(e){var t=typeof e;if(t==="number"||t==="bigint"||t==="string"||t==="boolean"||e===null||e===void 0)return e;if(typeof e.clone=="function")return e.clone();if(Array.isArray(e))return e.map(function(r){return Pe(r)});if(e instanceof Date)return new Date(e.valueOf());if(ze(e))return e;if(ti(e))return qs(e,Pe);if(t==="function")return e;throw new TypeError("Cannot clone: unknown type of value (value: ".concat(e,")"))}function qs(e,t){var r={};for(var n in e)wr(e,n)&&(r[n]=t(e[n]));return r}function Pu(e,t){for(var r in t)wr(t,r)&&(e[r]=t[r]);return e}function qt(e,t){var r,n,i;if(Array.isArray(e)){if(!Array.isArray(t)||e.length!==t.length)return!1;for(n=0,i=e.length;n<i;n++)if(!qt(e[n],t[n]))return!1;return!0}else{if(typeof e=="function")return e===t;if(e instanceof Object){if(Array.isArray(t)||!(t instanceof Object))return!1;for(r in e)if(!(r in t)||!qt(e[r],t[r]))return!1;for(r in t)if(!(r in e))return!1;return!0}else return e===t}}function wr(e,t){return e&&Object.hasOwnProperty.call(e,t)}function $s(e,t){for(var r={},n=0;n<t.length;n++){var i=t[n],u=e[i];u!==void 0&&(r[i]=u)}return r}var Ls=["Matrix","Array"],Us=["number","BigNumber","Fraction"],Sr=function(t){if(t)throw new Error(`The global config is readonly. 
Please create a mathjs instance if you want to change the default configuration. 
Example:

  import { create, all } from 'mathjs';
  const mathjs = create(all);
  mathjs.config({ number: 'BigNumber' });
`);return Object.freeze(Su)};Hr(Sr,Su,{MATRIX_OPTIONS:Ls,NUMBER_OPTIONS:Us});function Ci(){return!0}function lt(){return!1}function jt(){}const _i="Argument is not a typed-function.";function Ou(){function e(g){return typeof g=="object"&&g!==null&&g.constructor===Object}const t=[{name:"number",test:function(g){return typeof g=="number"}},{name:"string",test:function(g){return typeof g=="string"}},{name:"boolean",test:function(g){return typeof g=="boolean"}},{name:"Function",test:function(g){return typeof g=="function"}},{name:"Array",test:Array.isArray},{name:"Date",test:function(g){return g instanceof Date}},{name:"RegExp",test:function(g){return g instanceof RegExp}},{name:"Object",test:e},{name:"null",test:function(g){return g===null}},{name:"undefined",test:function(g){return g===void 0}}],r={name:"any",test:Ci,isAny:!0};let n,i,u=0,o={createCount:0};function a(g){const F=n.get(g);if(F)return F;let B='Unknown type "'+g+'"';const x=g.toLowerCase();let T;for(T of i)if(T.toLowerCase()===x){B+='. Did you mean "'+T+'" ?';break}throw new TypeError(B)}function f(g){let F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"any";const B=F?a(F).index:i.length,x=[];for(let I=0;I<g.length;++I){if(!g[I]||typeof g[I].name!="string"||typeof g[I].test!="function")throw new TypeError("Object with properties {name: string, test: function} expected");const Z=g[I].name;if(n.has(Z))throw new TypeError('Duplicate type name "'+Z+'"');x.push(Z),n.set(Z,{name:Z,test:g[I].test,isAny:g[I].isAny,index:B+I,conversionsTo:[]})}const T=i.slice(B);i=i.slice(0,B).concat(x).concat(T);for(let I=B+x.length;I<i.length;++I)n.get(i[I]).index=I}function l(){n=new Map,i=[],u=0,f([r],!1)}l(),f(t);function s(){let g;for(g of i)n.get(g).conversionsTo=[];u=0}function c(g){const F=i.filter(B=>{const x=n.get(B);return!x.isAny&&x.test(g)});return F.length?F:["any"]}function d(g){return g&&typeof g=="function"&&"_typedFunctionData"in g}function v(g,F,B){if(!d(g))throw new TypeError(_i);const x=B&&B.exact,T=Array.isArray(F)?F.join(","):F,I=A(T),Z=p(I);if(!x||Z in g.signatures){const ge=g._typedFunctionData.signatureMap.get(Z);if(ge)return ge}const q=I.length;let V;if(x){V=[];let ge;for(ge in g.signatures)V.push(g._typedFunctionData.signatureMap.get(ge))}else V=g._typedFunctionData.signatures;for(let ge=0;ge<q;++ge){const Ce=I[ge],qe=[];let tt;for(tt of V){const Ke=b(tt.params,ge);if(!(!Ke||Ce.restParam&&!Ke.restParam)){if(!Ke.hasAny){const pt=w(Ke);if(Ce.types.some(Dt=>!pt.has(Dt.name)))continue}qe.push(tt)}}if(V=qe,V.length===0)break}let z;for(z of V)if(z.params.length<=q)return z;throw new TypeError("Signature not found (signature: "+(g.name||"unnamed")+"("+p(I,", ")+"))")}function D(g,F,B){return v(g,F,B).implementation}function h(g,F){const B=a(F);if(B.test(g))return g;const x=B.conversionsTo;if(x.length===0)throw new Error("There are no conversions to "+F+" defined.");for(let T=0;T<x.length;T++)if(a(x[T].from).test(g))return x[T].convert(g);throw new Error("Cannot convert "+g+" to "+F)}function p(g){let F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:",";return g.map(B=>B.name).join(F)}function y(g){const F=g.indexOf("...")===0,x=(F?g.length>3?g.slice(3):"any":g).split("|").map(q=>a(q.trim()));let T=!1,I=F?"...":"";return{types:x.map(function(q){return T=q.isAny||T,I+=q.name+"|",{name:q.name,typeIndex:q.index,test:q.test,isAny:q.isAny,conversion:null,conversionIndex:-1}}),name:I.slice(0,-1),hasAny:T,hasConversion:!1,restParam:F}}function C(g){const F=g.types.map(Z=>Z.name),B=G(F);let x=g.hasAny,T=g.name;const I=B.map(function(Z){const q=a(Z.from);return x=q.isAny||x,T+="|"+Z.from,{name:Z.from,typeIndex:q.index,test:q.test,isAny:q.isAny,conversion:Z,conversionIndex:Z.index}});return{types:g.types.concat(I),name:T,hasAny:x,hasConversion:I.length>0,restParam:g.restParam}}function w(g){return g.typeSet||(g.typeSet=new Set,g.types.forEach(F=>g.typeSet.add(F.name))),g.typeSet}function A(g){const F=[];if(typeof g!="string")throw new TypeError("Signatures must be strings");const B=g.trim();if(B==="")return F;const x=B.split(",");for(let T=0;T<x.length;++T){const I=y(x[T].trim());if(I.restParam&&T!==x.length-1)throw new SyntaxError('Unexpected rest parameter "'+x[T]+'": only allowed for the last parameter');if(I.types.length===0)return null;F.push(I)}return F}function E(g){const F=W(g);return F?F.restParam:!1}function m(g){if(!g||g.types.length===0)return Ci;if(g.types.length===1)return a(g.types[0].name).test;if(g.types.length===2){const F=a(g.types[0].name).test,B=a(g.types[1].name).test;return function(T){return F(T)||B(T)}}else{const F=g.types.map(function(B){return a(B.name).test});return function(x){for(let T=0;T<F.length;T++)if(F[T](x))return!0;return!1}}}function _(g){let F,B,x;if(E(g)){F=Ue(g).map(m);const T=F.length,I=m(W(g)),Z=function(q){for(let V=T;V<q.length;V++)if(!I(q[V]))return!1;return!0};return function(V){for(let z=0;z<F.length;z++)if(!F[z](V[z]))return!1;return Z(V)&&V.length>=T+1}}else return g.length===0?function(I){return I.length===0}:g.length===1?(B=m(g[0]),function(I){return B(I[0])&&I.length===1}):g.length===2?(B=m(g[0]),x=m(g[1]),function(I){return B(I[0])&&x(I[1])&&I.length===2}):(F=g.map(m),function(I){for(let Z=0;Z<F.length;Z++)if(!F[Z](I[Z]))return!1;return I.length===F.length})}function b(g,F){return F<g.length?g[F]:E(g)?W(g):null}function N(g,F){const B=b(g,F);return B?w(B):new Set}function M(g){return g.conversion===null||g.conversion===void 0}function P(g,F){const B=new Set;return g.forEach(x=>{const T=N(x.params,F);let I;for(I of T)B.add(I)}),B.has("any")?["any"]:Array.from(B)}function L(g,F,B){let x,T;const I=g||"unnamed";let Z=B,q;for(q=0;q<F.length;q++){const Ce=[];if(Z.forEach(qe=>{const tt=b(qe.params,q),Ke=m(tt);(q<qe.params.length||E(qe.params))&&Ke(F[q])&&Ce.push(qe)}),Ce.length===0){if(T=P(Z,q),T.length>0){const qe=c(F[q]);return x=new TypeError("Unexpected type of argument in function "+I+" (expected: "+T.join(" or ")+", actual: "+qe.join(" | ")+", index: "+q+")"),x.data={category:"wrongType",fn:I,index:q,actual:qe,expected:T},x}}else Z=Ce}const V=Z.map(function(Ce){return E(Ce.params)?1/0:Ce.params.length});if(F.length<Math.min.apply(null,V))return T=P(Z,q),x=new TypeError("Too few arguments in function "+I+" (expected: "+T.join(" or ")+", index: "+F.length+")"),x.data={category:"tooFewArgs",fn:I,index:F.length,expected:T},x;const z=Math.max.apply(null,V);if(F.length>z)return x=new TypeError("Too many arguments in function "+I+" (expected: "+z+", actual: "+F.length+")"),x.data={category:"tooManyArgs",fn:I,index:F.length,expectedLength:z},x;const ge=[];for(let Ce=0;Ce<F.length;++Ce)ge.push(c(F[Ce]).join("|"));return x=new TypeError('Arguments of type "'+ge.join(", ")+'" do not match any of the defined signatures of function '+I+"."),x.data={category:"mismatch",actual:ge},x}function H(g){let F=i.length+1;for(let B=0;B<g.types.length;B++)M(g.types[B])&&(F=Math.min(F,g.types[B].typeIndex));return F}function X(g){let F=u+1;for(let B=0;B<g.types.length;B++)M(g.types[B])||(F=Math.min(F,g.types[B].conversionIndex));return F}function U(g,F){if(g.hasAny){if(!F.hasAny)return 1}else if(F.hasAny)return-1;if(g.restParam){if(!F.restParam)return 1}else if(F.restParam)return-1;if(g.hasConversion){if(!F.hasConversion)return 1}else if(F.hasConversion)return-1;const B=H(g)-H(F);if(B<0)return-1;if(B>0)return 1;const x=X(g)-X(F);return x<0?-1:x>0?1:0}function O(g,F){const B=g.params,x=F.params,T=W(B),I=W(x),Z=E(B),q=E(x);if(Z&&T.hasAny){if(!q||!I.hasAny)return 1}else if(q&&I.hasAny)return-1;let V=0,z=0,ge;for(ge of B)ge.hasAny&&++V,ge.hasConversion&&++z;let Ce=0,qe=0;for(ge of x)ge.hasAny&&++Ce,ge.hasConversion&&++qe;if(V!==Ce)return V-Ce;if(Z&&T.hasConversion){if(!q||!I.hasConversion)return 1}else if(q&&I.hasConversion)return-1;if(z!==qe)return z-qe;if(Z){if(!q)return 1}else if(q)return-1;const tt=(B.length-x.length)*(Z?-1:1);if(tt!==0)return tt;const Ke=[];let pt=0;for(let Gt=0;Gt<B.length;++Gt){const Tr=U(B[Gt],x[Gt]);Ke.push(Tr),pt+=Tr}if(pt!==0)return pt;let Dt;for(Dt of Ke)if(Dt!==0)return Dt;return 0}function G(g){if(g.length===0)return[];const F=g.map(a);g.length>1&&F.sort((T,I)=>T.index-I.index);let B=F[0].conversionsTo;if(g.length===1)return B;B=B.concat([]);const x=new Set(g);for(let T=1;T<F.length;++T){let I;for(I of F[T].conversionsTo)x.has(I.from)||(B.push(I),x.add(I.from))}return B}function J(g,F){let B=F;if(g.some(T=>T.hasConversion)){const T=E(g),I=g.map(Y);B=function(){const q=[],V=T?arguments.length-1:arguments.length;for(let z=0;z<V;z++)q[z]=I[z](arguments[z]);return T&&(q[V]=arguments[V].map(I[V])),F.apply(this,q)}}let x=B;if(E(g)){const T=g.length-1;x=function(){return B.apply(this,j(arguments,0,T).concat([j(arguments,T)]))}}return x}function Y(g){let F,B,x,T;const I=[],Z=[];switch(g.types.forEach(function(q){q.conversion&&(I.push(a(q.conversion.from).test),Z.push(q.conversion.convert))}),Z.length){case 0:return function(V){return V};case 1:return F=I[0],x=Z[0],function(V){return F(V)?x(V):V};case 2:return F=I[0],B=I[1],x=Z[0],T=Z[1],function(V){return F(V)?x(V):B(V)?T(V):V};default:return function(V){for(let z=0;z<Z.length;z++)if(I[z](V))return Z[z](V);return V}}}function te(g){function F(B,x,T){if(x<B.length){const I=B[x];let Z=[];if(I.restParam){const q=I.types.filter(M);q.length<I.types.length&&Z.push({types:q,name:"..."+q.map(V=>V.name).join("|"),hasAny:q.some(V=>V.isAny),hasConversion:!1,restParam:!0}),Z.push(I)}else Z=I.types.map(function(q){return{types:[q],name:q.name,hasAny:q.isAny,hasConversion:q.conversion,restParam:!1}});return de(Z,function(q){return F(B,x+1,T.concat([q]))})}else return[T]}return F(g,0,[])}function ce(g,F){const B=Math.max(g.length,F.length);for(let q=0;q<B;q++){const V=N(g,q),z=N(F,q);let ge=!1,Ce;for(Ce of z)if(V.has(Ce)){ge=!0;break}if(!ge)return!1}const x=g.length,T=F.length,I=E(g),Z=E(F);return I?Z?x===T:T>=x:Z?x>=T:x===T}function fe(g){return g.map(F=>Me(F)?me(F.referToSelf.callback):Ie(F)?ie(F.referTo.references,F.referTo.callback):F)}function he(g,F,B){const x=[];let T;for(T of g){let I=B[T];if(typeof I!="number")throw new TypeError('No definition for referenced signature "'+T+'"');if(I=F[I],typeof I!="function")return!1;x.push(I)}return x}function Fe(g,F,B){const x=fe(g),T=new Array(x.length).fill(!1);let I=!0;for(;I;){I=!1;let Z=!0;for(let q=0;q<x.length;++q){if(T[q])continue;const V=x[q];if(Me(V))x[q]=V.referToSelf.callback(B),x[q].referToSelf=V.referToSelf,T[q]=!0,Z=!1;else if(Ie(V)){const z=he(V.referTo.references,x,F);z?(x[q]=V.referTo.callback.apply(this,z),x[q].referTo=V.referTo,T[q]=!0,Z=!1):I=!0}}if(Z&&I)throw new SyntaxError("Circular reference detected in resolving typed.referTo")}return x}function be(g){const F=/\bthis(\(|\.signatures\b)/;Object.keys(g).forEach(B=>{const x=g[B];if(F.test(x.toString()))throw new SyntaxError("Using `this` to self-reference a function is deprecated since typed-function@3. Use typed.referTo and typed.referToSelf instead.")})}function Ae(g,F){if(o.createCount++,Object.keys(F).length===0)throw new SyntaxError("No signatures provided");o.warnAgainstDeprecatedThis&&be(F);const B=[],x=[],T={},I=[];let Z;for(Z in F){if(!Object.prototype.hasOwnProperty.call(F,Z))continue;const De=A(Z);if(!De)continue;B.forEach(function(dr){if(ce(dr,De))throw new TypeError('Conflicting signatures "'+p(dr)+'" and "'+p(De)+'".')}),B.push(De);const rt=x.length;x.push(F[Z]);const Zo=De.map(C);let Pr;for(Pr of te(Zo)){const dr=p(Pr);I.push({params:Pr,name:dr,fn:rt}),Pr.every(Vo=>!Vo.hasConversion)&&(T[dr]=rt)}}I.sort(O);const q=Fe(x,T,hr);let V;for(V in T)Object.prototype.hasOwnProperty.call(T,V)&&(T[V]=q[T[V]]);const z=[],ge=new Map;for(V of I)ge.has(V.name)||(V.fn=q[V.fn],z.push(V),ge.set(V.name,V));const Ce=z[0]&&z[0].params.length<=2&&!E(z[0].params),qe=z[1]&&z[1].params.length<=2&&!E(z[1].params),tt=z[2]&&z[2].params.length<=2&&!E(z[2].params),Ke=z[3]&&z[3].params.length<=2&&!E(z[3].params),pt=z[4]&&z[4].params.length<=2&&!E(z[4].params),Dt=z[5]&&z[5].params.length<=2&&!E(z[5].params),Gt=Ce&&qe&&tt&&Ke&&pt&&Dt;for(let De=0;De<z.length;++De)z[De].test=_(z[De].params);const Tr=Ce?m(z[0].params[0]):lt,mo=qe?m(z[1].params[0]):lt,go=tt?m(z[2].params[0]):lt,yo=Ke?m(z[3].params[0]):lt,wo=pt?m(z[4].params[0]):lt,Eo=Dt?m(z[5].params[0]):lt,Fo=Ce?m(z[0].params[1]):lt,Ao=qe?m(z[1].params[1]):lt,Co=tt?m(z[2].params[1]):lt,_o=Ke?m(z[3].params[1]):lt,bo=pt?m(z[4].params[1]):lt,Bo=Dt?m(z[5].params[1]):lt;for(let De=0;De<z.length;++De)z[De].implementation=J(z[De].params,z[De].fn);const No=Ce?z[0].implementation:jt,So=qe?z[1].implementation:jt,Mo=tt?z[2].implementation:jt,xo=Ke?z[3].implementation:jt,To=pt?z[4].implementation:jt,Po=Dt?z[5].implementation:jt,Oo=Ce?z[0].params.length:-1,Io=qe?z[1].params.length:-1,Ro=tt?z[2].params.length:-1,zo=Ke?z[3].params.length:-1,qo=pt?z[4].params.length:-1,$o=Dt?z[5].params.length:-1,Lo=Gt?6:0,Uo=z.length,ko=z.map(De=>De.test),Xo=z.map(De=>De.implementation),Wo=function(){for(let rt=Lo;rt<Uo;rt++)if(ko[rt](arguments))return Xo[rt].apply(this,arguments);return o.onMismatch(g,arguments,z)};function hr(De,rt){return arguments.length===Oo&&Tr(De)&&Fo(rt)?No.apply(this,arguments):arguments.length===Io&&mo(De)&&Ao(rt)?So.apply(this,arguments):arguments.length===Ro&&go(De)&&Co(rt)?Mo.apply(this,arguments):arguments.length===zo&&yo(De)&&_o(rt)?xo.apply(this,arguments):arguments.length===qo&&wo(De)&&bo(rt)?To.apply(this,arguments):arguments.length===$o&&Eo(De)&&Bo(rt)?Po.apply(this,arguments):Wo.apply(this,arguments)}try{Object.defineProperty(hr,"name",{value:g})}catch{}return hr.signatures=T,hr._typedFunctionData={signatures:z,signatureMap:ge},hr}function pe(g,F,B){throw L(g,F,B)}function Ue(g){return j(g,0,g.length-1)}function W(g){return g[g.length-1]}function j(g,F,B){return Array.prototype.slice.call(g,F,B)}function ve(g,F){for(let B=0;B<g.length;B++)if(F(g[B]))return g[B]}function de(g,F){return Array.prototype.concat.apply([],g.map(F))}function ne(){const g=Ue(arguments).map(B=>p(A(B))),F=W(arguments);if(typeof F!="function")throw new TypeError("Callback function expected as last argument");return ie(g,F)}function ie(g,F){return{referTo:{references:g,callback:F}}}function me(g){if(typeof g!="function")throw new TypeError("Callback function expected as first argument");return{referToSelf:{callback:g}}}function Ie(g){return g&&typeof g.referTo=="object"&&Array.isArray(g.referTo.references)&&typeof g.referTo.callback=="function"}function Me(g){return g&&typeof g.referToSelf=="object"&&typeof g.referToSelf.callback=="function"}function Ye(g,F){if(!g)return F;if(F&&F!==g){const B=new Error("Function names do not match (expected: "+g+", actual: "+F+")");throw B.data={actual:F,expected:g},B}return g}function et(g){let F;for(const B in g)Object.prototype.hasOwnProperty.call(g,B)&&(d(g[B])||typeof g[B].signature=="string")&&(F=Ye(F,g[B].name));return F}function Re(g,F){let B;for(B in F)if(Object.prototype.hasOwnProperty.call(F,B)){if(B in g&&F[B]!==g[B]){const x=new Error('Signature "'+B+'" is defined twice');throw x.data={signature:B,sourceFunction:F[B],destFunction:g[B]},x}g[B]=F[B]}}const vt=o;o=function(g){const F=typeof g=="string",B=F?1:0;let x=F?g:"";const T={};for(let I=B;I<arguments.length;++I){const Z=arguments[I];let q={},V;if(typeof Z=="function"?(V=Z.name,typeof Z.signature=="string"?q[Z.signature]=Z:d(Z)&&(q=Z.signatures)):e(Z)&&(q=Z,F||(V=et(Z))),Object.keys(q).length===0){const z=new TypeError("Argument to 'typed' at index "+I+" is not a (typed) function, nor an object with signatures as keys and functions as values.");throw z.data={index:I,argument:Z},z}F||(x=Ye(x,V)),Re(T,q)}return Ae(x||"",T)},o.create=Ou,o.createCount=vt.createCount,o.onMismatch=pe,o.throwMismatchError=pe,o.createError=L,o.clear=l,o.clearConversions=s,o.addTypes=f,o._findType=a,o.referTo=ne,o.referToSelf=me,o.convert=h,o.findSignature=v,o.find=D,o.isTypedFunction=d,o.warnAgainstDeprecatedThis=!0,o.addType=function(g,F){let B="any";F!==!1&&n.has("Object")&&(B="Object"),o.addTypes([g],B)};function Mt(g){if(!g||typeof g.from!="string"||typeof g.to!="string"||typeof g.convert!="function")throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");if(g.to===g.from)throw new SyntaxError('Illegal to define conversion from "'+g.from+'" to itself.')}return o.addConversion=function(g){let F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{override:!1};Mt(g);const B=a(g.to),x=B.conversionsTo.find(T=>T.from===g.from);if(x)if(F&&F.override)o.removeConversion({from:x.from,to:g.to,convert:x.convert});else throw new Error('There is already a conversion from "'+g.from+'" to "'+B.name+'"');B.conversionsTo.push({from:g.from,convert:g.convert,index:u++})},o.addConversions=function(g,F){g.forEach(B=>o.addConversion(B,F))},o.removeConversion=function(g){Mt(g);const F=a(g.to),B=ve(F.conversionsTo,T=>T.from===g.from);if(!B)throw new Error("Attempt to remove nonexistent conversion from "+g.from+" to "+g.to);if(B.convert!==g.convert)throw new Error("Conversion to remove does not match existing conversion");const x=F.conversionsTo.indexOf(B);F.conversionsTo.splice(x,1)},o.resolve=function(g,F){if(!d(g))throw new TypeError(_i);const B=g._typedFunctionData.signatures;for(let x=0;x<B.length;++x)if(B[x].test(F))return B[x];return null},o}const Jr=Ou();function se(e,t,r,n){function i(u){var o=$s(u,t.map(Ws));return ks(e,t,u),r(o)}return i.isFactory=!0,i.fn=e,i.dependencies=t.slice().sort(),n&&(i.meta=n),i}function ks(e,t,r){var n=t.filter(u=>!Xs(u)).every(u=>r[u]!==void 0);if(!n){var i=t.filter(u=>r[u]===void 0);throw new Error('Cannot create function "'.concat(e,'", ')+"some dependencies are missing: ".concat(i.map(u=>'"'.concat(u,'"')).join(", "),"."))}}function Xs(e){return e&&e[0]==="?"}function Ws(e){return e&&e[0]==="?"?e.slice(1):e}function Le(e){return typeof e=="boolean"?!0:isFinite(e)?e===Math.round(e):!1}function wn(e,t,r){var n={2:"0b",8:"0o",16:"0x"},i=n[t],u="";if(r){if(r<1)throw new Error("size must be in greater than 0");if(!Le(r))throw new Error("size must be an integer");if(e>2**(r-1)-1||e<-(2**(r-1)))throw new Error("Value must be in range [-2^".concat(r-1,", 2^").concat(r-1,"-1]"));if(!Le(e))throw new Error("Value must be an integer");e<0&&(e=e+2**r),u="i".concat(r)}var o="";return e<0&&(e=-e,o="-"),"".concat(o).concat(i).concat(e.toString(t)).concat(u)}function Mn(e,t){if(typeof t=="function")return t(e);if(e===1/0)return"Infinity";if(e===-1/0)return"-Infinity";if(isNaN(e))return"NaN";var{notation:r,precision:n,wordSize:i}=Iu(t);switch(r){case"fixed":return Vs(e,n);case"exponential":return Ru(e,n);case"engineering":return Zs(e,n);case"bin":return wn(e,2,i);case"oct":return wn(e,8,i);case"hex":return wn(e,16,i);case"auto":return Hs(e,n,t).replace(/((\.\d*?)(0+))($|e)/,function(){var u=arguments[2],o=arguments[4];return u!=="."?u+o:o});default:throw new Error('Unknown notation "'+r+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function Iu(e){var t="auto",r,n;if(e!==void 0)if(_e(e))r=e;else if(ze(e))r=e.toNumber();else if(ti(e))e.precision!==void 0&&(r=bi(e.precision,()=>{throw new Error('Option "precision" must be a number or BigNumber')})),e.wordSize!==void 0&&(n=bi(e.wordSize,()=>{throw new Error('Option "wordSize" must be a number or BigNumber')})),e.notation&&(t=e.notation);else throw new Error("Unsupported type of options, number, BigNumber, or object expected");return{notation:t,precision:r,wordSize:n}}function hn(e){var t=String(e).toLowerCase().match(/^(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!t)throw new SyntaxError("Invalid number "+e);var r=t[1],n=t[2],i=parseFloat(t[4]||"0"),u=n.indexOf(".");i+=u!==-1?u-1:n.length-1;var o=n.replace(".","").replace(/^0*/,function(a){return i-=a.length,""}).replace(/0*$/,"").split("").map(function(a){return parseInt(a)});return o.length===0&&(o.push(0),i++),{sign:r,coefficients:o,exponent:i}}function Zs(e,t){if(isNaN(e)||!isFinite(e))return String(e);var r=hn(e),n=dn(r,t),i=n.exponent,u=n.coefficients,o=i%3===0?i:i<0?i-3-i%3:i-i%3;if(_e(t))for(;t>u.length||i-o+1>u.length;)u.push(0);else for(var a=Math.abs(i-o)-(u.length-1),f=0;f<a;f++)u.push(0);for(var l=Math.abs(i-o),s=1;l>0;)s++,l--;var c=u.slice(s).join(""),d=_e(t)&&c.length||c.match(/[1-9]/)?"."+c:"",v=u.slice(0,s).join("")+d+"e"+(i>=0?"+":"")+o.toString();return n.sign+v}function Vs(e,t){if(isNaN(e)||!isFinite(e))return String(e);var r=hn(e),n=typeof t=="number"?dn(r,r.exponent+1+t):r,i=n.coefficients,u=n.exponent+1,o=u+(t||0);return i.length<o&&(i=i.concat(ir(o-i.length))),u<0&&(i=ir(-u+1).concat(i),u=1),u<i.length&&i.splice(u,0,u===0?"0.":"."),n.sign+i.join("")}function Ru(e,t){if(isNaN(e)||!isFinite(e))return String(e);var r=hn(e),n=t?dn(r,t):r,i=n.coefficients,u=n.exponent;i.length<t&&(i=i.concat(ir(t-i.length)));var o=i.shift();return n.sign+o+(i.length>0?"."+i.join(""):"")+"e"+(u>=0?"+":"")+u}function Hs(e,t,r){if(isNaN(e)||!isFinite(e))return String(e);var n=Bi(r==null?void 0:r.lowerExp,-3),i=Bi(r==null?void 0:r.upperExp,5),u=hn(e),o=t?dn(u,t):u;if(o.exponent<n||o.exponent>=i)return Ru(e,t);var a=o.coefficients,f=o.exponent;a.length<t&&(a=a.concat(ir(t-a.length))),a=a.concat(ir(f-a.length+1+(a.length<t?t-a.length:0))),a=ir(-f).concat(a);var l=f>0?f:0;return l<a.length-1&&a.splice(l+1,0,"."),o.sign+a.join("")}function dn(e,t){for(var r={sign:e.sign,coefficients:e.coefficients,exponent:e.exponent},n=r.coefficients;t<=0;)n.unshift(0),r.exponent++,t++;if(n.length>t){var i=n.splice(t,n.length-t);if(i[0]>=5){var u=t-1;for(n[u]++;n[u]===10;)n.pop(),u===0&&(n.unshift(0),r.exponent++,u++),u--,n[u]++}}return r}function ir(e){for(var t=[],r=0;r<e;r++)t.push(0);return t}function Ys(e){return e.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length}function jr(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e-8,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;if(r<=0)throw new Error("Relative tolerance must be greater than 0");if(n<0)throw new Error("Absolute tolerance must be at least 0");return isNaN(e)||isNaN(t)?!1:!isFinite(e)||!isFinite(t)?e===t:e===t?!0:Math.abs(e-t)<=Math.max(r*Math.max(Math.abs(e),Math.abs(t)),n)}function bi(e,t){if(_e(e))return e;if(ze(e))return e.toNumber();t()}function Bi(e,t){return _e(e)?e:ze(e)?e.toNumber():t}var zu=function(){return zu=Jr.create,Jr},Gs=["?BigNumber","?Complex","?DenseMatrix","?Fraction"],Js=se("typed",Gs,function(t){var{BigNumber:r,Complex:n,DenseMatrix:i,Fraction:u}=t,o=zu();return o.clear(),o.addTypes([{name:"number",test:_e},{name:"Complex",test:Mu},{name:"BigNumber",test:ze},{name:"bigint",test:ss},{name:"Fraction",test:xu},{name:"Unit",test:Tu},{name:"identifier",test:a=>wt&&/^(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC4\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC4\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])*$/.test(a)},{name:"string",test:wt},{name:"Chain",test:zs},{name:"Array",test:ke},{name:"Matrix",test:Oe},{name:"DenseMatrix",test:ls},{name:"SparseMatrix",test:fs},{name:"Range",test:cs},{name:"Index",test:ei},{name:"boolean",test:hs},{name:"ResultSet",test:ds},{name:"Help",test:vs},{name:"function",test:ps},{name:"Date",test:Ds},{name:"RegExp",test:ms},{name:"null",test:ys},{name:"undefined",test:ws},{name:"AccessorNode",test:Es},{name:"ArrayNode",test:Fs},{name:"AssignmentNode",test:As},{name:"BlockNode",test:Cs},{name:"ConditionalNode",test:_s},{name:"ConstantNode",test:bs},{name:"FunctionNode",test:Ns},{name:"FunctionAssignmentNode",test:Bs},{name:"IndexNode",test:Ss},{name:"Node",test:Ms},{name:"ObjectNode",test:xs},{name:"OperatorNode",test:Ts},{name:"ParenthesisNode",test:Ps},{name:"RangeNode",test:Os},{name:"RelationalNode",test:Is},{name:"SymbolNode",test:Rs},{name:"Map",test:gs},{name:"Object",test:ti}]),o.addConversions([{from:"number",to:"BigNumber",convert:function(f){if(r||Ir(f),Ys(f)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+f+"). Use function bignumber(x) to convert to BigNumber.");return new r(f)}},{from:"number",to:"Complex",convert:function(f){return n||Rr(f),new n(f,0)}},{from:"BigNumber",to:"Complex",convert:function(f){return n||Rr(f),new n(f.toNumber(),0)}},{from:"bigint",to:"number",convert:function(f){if(f>Number.MAX_SAFE_INTEGER)throw new TypeError("Cannot implicitly convert bigint to number: value exceeds the max safe integer value (value: "+f+")");return Number(f)}},{from:"bigint",to:"BigNumber",convert:function(f){return r||Ir(f),new r(f.toString())}},{from:"bigint",to:"Fraction",convert:function(f){return u||zr(f),new u(f)}},{from:"Fraction",to:"BigNumber",convert:function(f){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(f){return n||Rr(f),new n(f.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(f){u||zr(f);var l=new u(f);if(l.valueOf()!==f)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+f+"). Use function fraction(x) to convert to Fraction.");return l}},{from:"string",to:"number",convert:function(f){var l=Number(f);if(isNaN(l))throw new Error('Cannot convert "'+f+'" to a number');return l}},{from:"string",to:"BigNumber",convert:function(f){r||Ir(f);try{return new r(f)}catch{throw new Error('Cannot convert "'+f+'" to BigNumber')}}},{from:"string",to:"bigint",convert:function(f){try{return BigInt(f)}catch{throw new Error('Cannot convert "'+f+'" to BigInt')}}},{from:"string",to:"Fraction",convert:function(f){u||zr(f);try{return new u(f)}catch{throw new Error('Cannot convert "'+f+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(f){n||Rr(f);try{return new n(f)}catch{throw new Error('Cannot convert "'+f+'" to Complex')}}},{from:"boolean",to:"number",convert:function(f){return+f}},{from:"boolean",to:"BigNumber",convert:function(f){return r||Ir(f),new r(+f)}},{from:"boolean",to:"bigint",convert:function(f){return BigInt(+f)}},{from:"boolean",to:"Fraction",convert:function(f){return u||zr(f),new u(+f)}},{from:"boolean",to:"string",convert:function(f){return String(f)}},{from:"Array",to:"Matrix",convert:function(f){return i||js(),new i(f)}},{from:"Matrix",to:"Array",convert:function(f){return f.valueOf()}}]),o.onMismatch=(a,f,l)=>{var s=o.createError(a,f,l);if(["wrongType","mismatch"].includes(s.data.category)&&f.length===1&&Gr(f[0])&&l.some(d=>!d.params.includes(","))){var c=new TypeError("Function '".concat(a,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(a,")'."));throw c.data=s.data,c}throw s},o.onMismatch=(a,f,l)=>{var s=o.createError(a,f,l);if(["wrongType","mismatch"].includes(s.data.category)&&f.length===1&&Gr(f[0])&&l.some(d=>!d.params.includes(","))){var c=new TypeError("Function '".concat(a,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(a,")'."));throw c.data=s.data,c}throw s},o});function Ir(e){throw new Error("Cannot convert value ".concat(e," into a BigNumber: no class 'BigNumber' provided"))}function Rr(e){throw new Error("Cannot convert value ".concat(e," into a Complex number: no class 'Complex' provided"))}function js(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}function zr(e){throw new Error("Cannot convert value ".concat(e," into a Fraction, no class 'Fraction' provided."))}/*!
 *  decimal.js v10.5.0
 *  An arbitrary-precision Decimal type for JavaScript.
 *  https://github.com/MikeMcl/decimal.js
 *  Copyright (c) 2025 Michael Mclaughlin <M8ch88l@gmail.com>
 *  MIT Licence
 */var xn=9e15,Lt=1e9,Tn="0123456789abcdef",Kr="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",Qr="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",Pn={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-9e15,maxE:xn,crypto:!1},qu,Bt,ue=!0,vn="[DecimalError] ",$t=vn+"Invalid argument: ",$u=vn+"Precision limit exceeded",Lu=vn+"crypto unavailable",Uu="[object Decimal]",je=Math.floor,Xe=Math.pow,Ks=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,Qs=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,el=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,ku=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,yt=1e7,ee=7,tl=9007199254740991,rl=Kr.length-1,On=Qr.length-1,R={toStringTag:Uu};R.absoluteValue=R.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),Q(e)};R.ceil=function(){return Q(new this.constructor(this),this.e+1,2)};R.clampedTo=R.clamp=function(e,t){var r,n=this,i=n.constructor;if(e=new i(e),t=new i(t),!e.s||!t.s)return new i(NaN);if(e.gt(t))throw Error($t+t);return r=n.cmp(e),r<0?e:n.cmp(t)>0?t:new i(n)};R.comparedTo=R.cmp=function(e){var t,r,n,i,u=this,o=u.d,a=(e=new u.constructor(e)).d,f=u.s,l=e.s;if(!o||!a)return!f||!l?NaN:f!==l?f:o===a?0:!o^f<0?1:-1;if(!o[0]||!a[0])return o[0]?f:a[0]?-l:0;if(f!==l)return f;if(u.e!==e.e)return u.e>e.e^f<0?1:-1;for(n=o.length,i=a.length,t=0,r=n<i?n:i;t<r;++t)if(o[t]!==a[t])return o[t]>a[t]^f<0?1:-1;return n===i?0:n>i^f<0?1:-1};R.cosine=R.cos=function(){var e,t,r=this,n=r.constructor;return r.d?r.d[0]?(e=n.precision,t=n.rounding,n.precision=e+Math.max(r.e,r.sd())+ee,n.rounding=1,r=nl(n,Hu(n,r)),n.precision=e,n.rounding=t,Q(Bt==2||Bt==3?r.neg():r,e,t,!0)):new n(1):new n(NaN)};R.cubeRoot=R.cbrt=function(){var e,t,r,n,i,u,o,a,f,l,s=this,c=s.constructor;if(!s.isFinite()||s.isZero())return new c(s);for(ue=!1,u=s.s*Xe(s.s*s,1/3),!u||Math.abs(u)==1/0?(r=He(s.d),e=s.e,(u=(e-r.length+1)%3)&&(r+=u==1||u==-2?"0":"00"),u=Xe(r,1/3),e=je((e+1)/3)-(e%3==(e<0?-1:2)),u==1/0?r="5e"+e:(r=u.toExponential(),r=r.slice(0,r.indexOf("e")+1)+e),n=new c(r),n.s=s.s):n=new c(u.toString()),o=(e=c.precision)+3;;)if(a=n,f=a.times(a).times(a),l=f.plus(s),n=Ee(l.plus(s).times(a),l.plus(f),o+2,1),He(a.d).slice(0,o)===(r=He(n.d)).slice(0,o))if(r=r.slice(o-3,o+1),r=="9999"||!i&&r=="4999"){if(!i&&(Q(a,e+1,0),a.times(a).times(a).eq(s))){n=a;break}o+=4,i=1}else{(!+r||!+r.slice(1)&&r.charAt(0)=="5")&&(Q(n,e+1,1),t=!n.times(n).times(n).eq(s));break}return ue=!0,Q(n,e,c.rounding,t)};R.decimalPlaces=R.dp=function(){var e,t=this.d,r=NaN;if(t){if(e=t.length-1,r=(e-je(this.e/ee))*ee,e=t[e],e)for(;e%10==0;e/=10)r--;r<0&&(r=0)}return r};R.dividedBy=R.div=function(e){return Ee(this,new this.constructor(e))};R.dividedToIntegerBy=R.divToInt=function(e){var t=this,r=t.constructor;return Q(Ee(t,new r(e),0,1,1),r.precision,r.rounding)};R.equals=R.eq=function(e){return this.cmp(e)===0};R.floor=function(){return Q(new this.constructor(this),this.e+1,3)};R.greaterThan=R.gt=function(e){return this.cmp(e)>0};R.greaterThanOrEqualTo=R.gte=function(e){var t=this.cmp(e);return t==1||t===0};R.hyperbolicCosine=R.cosh=function(){var e,t,r,n,i,u=this,o=u.constructor,a=new o(1);if(!u.isFinite())return new o(u.s?1/0:NaN);if(u.isZero())return a;r=o.precision,n=o.rounding,o.precision=r+Math.max(u.e,u.sd())+4,o.rounding=1,i=u.d.length,i<32?(e=Math.ceil(i/3),t=(1/Dn(4,e)).toString()):(e=16,t="2.3283064365386962890625e-10"),u=sr(o,1,u.times(t),new o(1),!0);for(var f,l=e,s=new o(8);l--;)f=u.times(u),u=a.minus(f.times(s.minus(f.times(s))));return Q(u,o.precision=r,o.rounding=n,!0)};R.hyperbolicSine=R.sinh=function(){var e,t,r,n,i=this,u=i.constructor;if(!i.isFinite()||i.isZero())return new u(i);if(t=u.precision,r=u.rounding,u.precision=t+Math.max(i.e,i.sd())+4,u.rounding=1,n=i.d.length,n<3)i=sr(u,2,i,i,!0);else{e=1.4*Math.sqrt(n),e=e>16?16:e|0,i=i.times(1/Dn(5,e)),i=sr(u,2,i,i,!0);for(var o,a=new u(5),f=new u(16),l=new u(20);e--;)o=i.times(i),i=i.times(a.plus(o.times(f.times(o).plus(l))))}return u.precision=t,u.rounding=r,Q(i,t,r,!0)};R.hyperbolicTangent=R.tanh=function(){var e,t,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+7,n.rounding=1,Ee(r.sinh(),r.cosh(),n.precision=e,n.rounding=t)):new n(r.s)};R.inverseCosine=R.acos=function(){var e=this,t=e.constructor,r=e.abs().cmp(1),n=t.precision,i=t.rounding;return r!==-1?r===0?e.isNeg()?Et(t,n,i):new t(0):new t(NaN):e.isZero()?Et(t,n+4,i).times(.5):(t.precision=n+6,t.rounding=1,e=new t(1).minus(e).div(e.plus(1)).sqrt().atan(),t.precision=n,t.rounding=i,e.times(2))};R.inverseHyperbolicCosine=R.acosh=function(){var e,t,r=this,n=r.constructor;return r.lte(1)?new n(r.eq(1)?0:NaN):r.isFinite()?(e=n.precision,t=n.rounding,n.precision=e+Math.max(Math.abs(r.e),r.sd())+4,n.rounding=1,ue=!1,r=r.times(r).minus(1).sqrt().plus(r),ue=!0,n.precision=e,n.rounding=t,r.ln()):new n(r)};R.inverseHyperbolicSine=R.asinh=function(){var e,t,r=this,n=r.constructor;return!r.isFinite()||r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+2*Math.max(Math.abs(r.e),r.sd())+6,n.rounding=1,ue=!1,r=r.times(r).plus(1).sqrt().plus(r),ue=!0,n.precision=e,n.rounding=t,r.ln())};R.inverseHyperbolicTangent=R.atanh=function(){var e,t,r,n,i=this,u=i.constructor;return i.isFinite()?i.e>=0?new u(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(e=u.precision,t=u.rounding,n=i.sd(),Math.max(n,e)<2*-i.e-1?Q(new u(i),e,t,!0):(u.precision=r=n-i.e,i=Ee(i.plus(1),new u(1).minus(i),r+e,1),u.precision=e+4,u.rounding=1,i=i.ln(),u.precision=e,u.rounding=t,i.times(.5))):new u(NaN)};R.inverseSine=R.asin=function(){var e,t,r,n,i=this,u=i.constructor;return i.isZero()?new u(i):(t=i.abs().cmp(1),r=u.precision,n=u.rounding,t!==-1?t===0?(e=Et(u,r+4,n).times(.5),e.s=i.s,e):new u(NaN):(u.precision=r+6,u.rounding=1,i=i.div(new u(1).minus(i.times(i)).sqrt().plus(1)).atan(),u.precision=r,u.rounding=n,i.times(2)))};R.inverseTangent=R.atan=function(){var e,t,r,n,i,u,o,a,f,l=this,s=l.constructor,c=s.precision,d=s.rounding;if(l.isFinite()){if(l.isZero())return new s(l);if(l.abs().eq(1)&&c+4<=On)return o=Et(s,c+4,d).times(.25),o.s=l.s,o}else{if(!l.s)return new s(NaN);if(c+4<=On)return o=Et(s,c+4,d).times(.5),o.s=l.s,o}for(s.precision=a=c+10,s.rounding=1,r=Math.min(28,a/ee+2|0),e=r;e;--e)l=l.div(l.times(l).plus(1).sqrt().plus(1));for(ue=!1,t=Math.ceil(a/ee),n=1,f=l.times(l),o=new s(l),i=l;e!==-1;)if(i=i.times(f),u=o.minus(i.div(n+=2)),i=i.times(f),o=u.plus(i.div(n+=2)),o.d[t]!==void 0)for(e=t;o.d[e]===u.d[e]&&e--;);return r&&(o=o.times(2<<r-1)),ue=!0,Q(o,s.precision=c,s.rounding=d,!0)};R.isFinite=function(){return!!this.d};R.isInteger=R.isInt=function(){return!!this.d&&je(this.e/ee)>this.d.length-2};R.isNaN=function(){return!this.s};R.isNegative=R.isNeg=function(){return this.s<0};R.isPositive=R.isPos=function(){return this.s>0};R.isZero=function(){return!!this.d&&this.d[0]===0};R.lessThan=R.lt=function(e){return this.cmp(e)<0};R.lessThanOrEqualTo=R.lte=function(e){return this.cmp(e)<1};R.logarithm=R.log=function(e){var t,r,n,i,u,o,a,f,l=this,s=l.constructor,c=s.precision,d=s.rounding,v=5;if(e==null)e=new s(10),t=!0;else{if(e=new s(e),r=e.d,e.s<0||!r||!r[0]||e.eq(1))return new s(NaN);t=e.eq(10)}if(r=l.d,l.s<0||!r||!r[0]||l.eq(1))return new s(r&&!r[0]?-1/0:l.s!=1?NaN:r?0:1/0);if(t)if(r.length>1)u=!0;else{for(i=r[0];i%10===0;)i/=10;u=i!==1}if(ue=!1,a=c+v,o=It(l,a),n=t?en(s,a+10):It(e,a),f=Ee(o,n,a,1),Er(f.d,i=c,d))do if(a+=10,o=It(l,a),n=t?en(s,a+10):It(e,a),f=Ee(o,n,a,1),!u){+He(f.d).slice(i+1,i+15)+1==1e14&&(f=Q(f,c+1,0));break}while(Er(f.d,i+=10,d));return ue=!0,Q(f,c,d)};R.minus=R.sub=function(e){var t,r,n,i,u,o,a,f,l,s,c,d,v=this,D=v.constructor;if(e=new D(e),!v.d||!e.d)return!v.s||!e.s?e=new D(NaN):v.d?e.s=-e.s:e=new D(e.d||v.s!==e.s?v:NaN),e;if(v.s!=e.s)return e.s=-e.s,v.plus(e);if(l=v.d,d=e.d,a=D.precision,f=D.rounding,!l[0]||!d[0]){if(d[0])e.s=-e.s;else if(l[0])e=new D(v);else return new D(f===3?-0:0);return ue?Q(e,a,f):e}if(r=je(e.e/ee),s=je(v.e/ee),l=l.slice(),u=s-r,u){for(c=u<0,c?(t=l,u=-u,o=d.length):(t=d,r=s,o=l.length),n=Math.max(Math.ceil(a/ee),o)+2,u>n&&(u=n,t.length=1),t.reverse(),n=u;n--;)t.push(0);t.reverse()}else{for(n=l.length,o=d.length,c=n<o,c&&(o=n),n=0;n<o;n++)if(l[n]!=d[n]){c=l[n]<d[n];break}u=0}for(c&&(t=l,l=d,d=t,e.s=-e.s),o=l.length,n=d.length-o;n>0;--n)l[o++]=0;for(n=d.length;n>u;){if(l[--n]<d[n]){for(i=n;i&&l[--i]===0;)l[i]=yt-1;--l[i],l[n]+=yt}l[n]-=d[n]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=pn(l,r),ue?Q(e,a,f):e):new D(f===3?-0:0)};R.modulo=R.mod=function(e){var t,r=this,n=r.constructor;return e=new n(e),!r.d||!e.s||e.d&&!e.d[0]?new n(NaN):!e.d||r.d&&!r.d[0]?Q(new n(r),n.precision,n.rounding):(ue=!1,n.modulo==9?(t=Ee(r,e.abs(),0,3,1),t.s*=e.s):t=Ee(r,e,0,n.modulo,1),t=t.times(e),ue=!0,r.minus(t))};R.naturalExponential=R.exp=function(){return In(this)};R.naturalLogarithm=R.ln=function(){return It(this)};R.negated=R.neg=function(){var e=new this.constructor(this);return e.s=-e.s,Q(e)};R.plus=R.add=function(e){var t,r,n,i,u,o,a,f,l,s,c=this,d=c.constructor;if(e=new d(e),!c.d||!e.d)return!c.s||!e.s?e=new d(NaN):c.d||(e=new d(e.d||c.s===e.s?c:NaN)),e;if(c.s!=e.s)return e.s=-e.s,c.minus(e);if(l=c.d,s=e.d,a=d.precision,f=d.rounding,!l[0]||!s[0])return s[0]||(e=new d(c)),ue?Q(e,a,f):e;if(u=je(c.e/ee),n=je(e.e/ee),l=l.slice(),i=u-n,i){for(i<0?(r=l,i=-i,o=s.length):(r=s,n=u,o=l.length),u=Math.ceil(a/ee),o=u>o?u+1:o+1,i>o&&(i=o,r.length=1),r.reverse();i--;)r.push(0);r.reverse()}for(o=l.length,i=s.length,o-i<0&&(i=o,r=s,s=l,l=r),t=0;i;)t=(l[--i]=l[i]+s[i]+t)/yt|0,l[i]%=yt;for(t&&(l.unshift(t),++n),o=l.length;l[--o]==0;)l.pop();return e.d=l,e.e=pn(l,n),ue?Q(e,a,f):e};R.precision=R.sd=function(e){var t,r=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error($t+e);return r.d?(t=Xu(r.d),e&&r.e+1>t&&(t=r.e+1)):t=NaN,t};R.round=function(){var e=this,t=e.constructor;return Q(new t(e),e.e+1,t.rounding)};R.sine=R.sin=function(){var e,t,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+Math.max(r.e,r.sd())+ee,n.rounding=1,r=ul(n,Hu(n,r)),n.precision=e,n.rounding=t,Q(Bt>2?r.neg():r,e,t,!0)):new n(NaN)};R.squareRoot=R.sqrt=function(){var e,t,r,n,i,u,o=this,a=o.d,f=o.e,l=o.s,s=o.constructor;if(l!==1||!a||!a[0])return new s(!l||l<0&&(!a||a[0])?NaN:a?o:1/0);for(ue=!1,l=Math.sqrt(+o),l==0||l==1/0?(t=He(a),(t.length+f)%2==0&&(t+="0"),l=Math.sqrt(t),f=je((f+1)/2)-(f<0||f%2),l==1/0?t="5e"+f:(t=l.toExponential(),t=t.slice(0,t.indexOf("e")+1)+f),n=new s(t)):n=new s(l.toString()),r=(f=s.precision)+3;;)if(u=n,n=u.plus(Ee(o,u,r+2,1)).times(.5),He(u.d).slice(0,r)===(t=He(n.d)).slice(0,r))if(t=t.slice(r-3,r+1),t=="9999"||!i&&t=="4999"){if(!i&&(Q(u,f+1,0),u.times(u).eq(o))){n=u;break}r+=4,i=1}else{(!+t||!+t.slice(1)&&t.charAt(0)=="5")&&(Q(n,f+1,1),e=!n.times(n).eq(o));break}return ue=!0,Q(n,f,s.rounding,e)};R.tangent=R.tan=function(){var e,t,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+10,n.rounding=1,r=r.sin(),r.s=1,r=Ee(r,new n(1).minus(r.times(r)).sqrt(),e+10,0),n.precision=e,n.rounding=t,Q(Bt==2||Bt==4?r.neg():r,e,t,!0)):new n(NaN)};R.times=R.mul=function(e){var t,r,n,i,u,o,a,f,l,s=this,c=s.constructor,d=s.d,v=(e=new c(e)).d;if(e.s*=s.s,!d||!d[0]||!v||!v[0])return new c(!e.s||d&&!d[0]&&!v||v&&!v[0]&&!d?NaN:!d||!v?e.s/0:e.s*0);for(r=je(s.e/ee)+je(e.e/ee),f=d.length,l=v.length,f<l&&(u=d,d=v,v=u,o=f,f=l,l=o),u=[],o=f+l,n=o;n--;)u.push(0);for(n=l;--n>=0;){for(t=0,i=f+n;i>n;)a=u[i]+v[n]*d[i-n-1]+t,u[i--]=a%yt|0,t=a/yt|0;u[i]=(u[i]+t)%yt|0}for(;!u[--o];)u.pop();return t?++r:u.shift(),e.d=u,e.e=pn(u,r),ue?Q(e,c.precision,c.rounding):e};R.toBinary=function(e,t){return ri(this,2,e,t)};R.toDecimalPlaces=R.toDP=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(it(e,0,Lt),t===void 0?t=n.rounding:it(t,0,8),Q(r,e+r.e+1,t))};R.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=At(n,!0):(it(e,0,Lt),t===void 0?t=i.rounding:it(t,0,8),n=Q(new i(n),e+1,t),r=At(n,!0,e+1)),n.isNeg()&&!n.isZero()?"-"+r:r};R.toFixed=function(e,t){var r,n,i=this,u=i.constructor;return e===void 0?r=At(i):(it(e,0,Lt),t===void 0?t=u.rounding:it(t,0,8),n=Q(new u(i),e+i.e+1,t),r=At(n,!1,e+n.e+1)),i.isNeg()&&!i.isZero()?"-"+r:r};R.toFraction=function(e){var t,r,n,i,u,o,a,f,l,s,c,d,v=this,D=v.d,h=v.constructor;if(!D)return new h(v);if(l=r=new h(1),n=f=new h(0),t=new h(n),u=t.e=Xu(D)-v.e-1,o=u%ee,t.d[0]=Xe(10,o<0?ee+o:o),e==null)e=u>0?t:l;else{if(a=new h(e),!a.isInt()||a.lt(l))throw Error($t+a);e=a.gt(t)?u>0?t:l:a}for(ue=!1,a=new h(He(D)),s=h.precision,h.precision=u=D.length*ee*2;c=Ee(a,t,0,1,1),i=r.plus(c.times(n)),i.cmp(e)!=1;)r=n,n=i,i=l,l=f.plus(c.times(i)),f=i,i=t,t=a.minus(c.times(i)),a=i;return i=Ee(e.minus(r),n,0,1,1),f=f.plus(i.times(l)),r=r.plus(i.times(n)),f.s=l.s=v.s,d=Ee(l,n,u,1).minus(v).abs().cmp(Ee(f,r,u,1).minus(v).abs())<1?[l,n]:[f,r],h.precision=s,ue=!0,d};R.toHexadecimal=R.toHex=function(e,t){return ri(this,16,e,t)};R.toNearest=function(e,t){var r=this,n=r.constructor;if(r=new n(r),e==null){if(!r.d)return r;e=new n(1),t=n.rounding}else{if(e=new n(e),t===void 0?t=n.rounding:it(t,0,8),!r.d)return e.s?r:e;if(!e.d)return e.s&&(e.s=r.s),e}return e.d[0]?(ue=!1,r=Ee(r,e,0,t,1).times(e),ue=!0,Q(r)):(e.s=r.s,r=e),r};R.toNumber=function(){return+this};R.toOctal=function(e,t){return ri(this,8,e,t)};R.toPower=R.pow=function(e){var t,r,n,i,u,o,a=this,f=a.constructor,l=+(e=new f(e));if(!a.d||!e.d||!a.d[0]||!e.d[0])return new f(Xe(+a,l));if(a=new f(a),a.eq(1))return a;if(n=f.precision,u=f.rounding,e.eq(1))return Q(a,n,u);if(t=je(e.e/ee),t>=e.d.length-1&&(r=l<0?-l:l)<=tl)return i=Wu(f,a,r,n),e.s<0?new f(1).div(i):Q(i,n,u);if(o=a.s,o<0){if(t<e.d.length-1)return new f(NaN);if(e.d[t]&1||(o=1),a.e==0&&a.d[0]==1&&a.d.length==1)return a.s=o,a}return r=Xe(+a,l),t=r==0||!isFinite(r)?je(l*(Math.log("0."+He(a.d))/Math.LN10+a.e+1)):new f(r+"").e,t>f.maxE+1||t<f.minE-1?new f(t>0?o/0:0):(ue=!1,f.rounding=a.s=1,r=Math.min(12,(t+"").length),i=In(e.times(It(a,n+r)),n),i.d&&(i=Q(i,n+5,1),Er(i.d,n,u)&&(t=n+10,i=Q(In(e.times(It(a,t+r)),t),t+5,1),+He(i.d).slice(n+1,n+15)+1==1e14&&(i=Q(i,n+1,0)))),i.s=o,ue=!0,f.rounding=u,Q(i,n,u))};R.toPrecision=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=At(n,n.e<=i.toExpNeg||n.e>=i.toExpPos):(it(e,1,Lt),t===void 0?t=i.rounding:it(t,0,8),n=Q(new i(n),e,t),r=At(n,e<=n.e||n.e<=i.toExpNeg,e)),n.isNeg()&&!n.isZero()?"-"+r:r};R.toSignificantDigits=R.toSD=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(it(e,1,Lt),t===void 0?t=n.rounding:it(t,0,8)),Q(new n(r),e,t)};R.toString=function(){var e=this,t=e.constructor,r=At(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()&&!e.isZero()?"-"+r:r};R.truncated=R.trunc=function(){return Q(new this.constructor(this),this.e+1,1)};R.valueOf=R.toJSON=function(){var e=this,t=e.constructor,r=At(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()?"-"+r:r};function He(e){var t,r,n,i=e.length-1,u="",o=e[0];if(i>0){for(u+=o,t=1;t<i;t++)n=e[t]+"",r=ee-n.length,r&&(u+=Pt(r)),u+=n;o=e[t],n=o+"",r=ee-n.length,r&&(u+=Pt(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return u+o}function it(e,t,r){if(e!==~~e||e<t||e>r)throw Error($t+e)}function Er(e,t,r,n){var i,u,o,a;for(u=e[0];u>=10;u/=10)--t;return--t<0?(t+=ee,i=0):(i=Math.ceil((t+1)/ee),t%=ee),u=Xe(10,ee-t),a=e[i]%u|0,n==null?t<3?(t==0?a=a/100|0:t==1&&(a=a/10|0),o=r<4&&a==99999||r>3&&a==49999||a==5e4||a==0):o=(r<4&&a+1==u||r>3&&a+1==u/2)&&(e[i+1]/u/100|0)==Xe(10,t-2)-1||(a==u/2||a==0)&&(e[i+1]/u/100|0)==0:t<4?(t==0?a=a/1e3|0:t==1?a=a/100|0:t==2&&(a=a/10|0),o=(n||r<4)&&a==9999||!n&&r>3&&a==4999):o=((n||r<4)&&a+1==u||!n&&r>3&&a+1==u/2)&&(e[i+1]/u/1e3|0)==Xe(10,t-3)-1,o}function qr(e,t,r){for(var n,i=[0],u,o=0,a=e.length;o<a;){for(u=i.length;u--;)i[u]*=t;for(i[0]+=Tn.indexOf(e.charAt(o++)),n=0;n<i.length;n++)i[n]>r-1&&(i[n+1]===void 0&&(i[n+1]=0),i[n+1]+=i[n]/r|0,i[n]%=r)}return i.reverse()}function nl(e,t){var r,n,i;if(t.isZero())return t;n=t.d.length,n<32?(r=Math.ceil(n/3),i=(1/Dn(4,r)).toString()):(r=16,i="2.3283064365386962890625e-10"),e.precision+=r,t=sr(e,1,t.times(i),new e(1));for(var u=r;u--;){var o=t.times(t);t=o.times(o).minus(o).times(8).plus(1)}return e.precision-=r,t}var Ee=function(){function e(n,i,u){var o,a=0,f=n.length;for(n=n.slice();f--;)o=n[f]*i+a,n[f]=o%u|0,a=o/u|0;return a&&n.unshift(a),n}function t(n,i,u,o){var a,f;if(u!=o)f=u>o?1:-1;else for(a=f=0;a<u;a++)if(n[a]!=i[a]){f=n[a]>i[a]?1:-1;break}return f}function r(n,i,u,o){for(var a=0;u--;)n[u]-=a,a=n[u]<i[u]?1:0,n[u]=a*o+n[u]-i[u];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,u,o,a,f){var l,s,c,d,v,D,h,p,y,C,w,A,E,m,_,b,N,M,P,L,H=n.constructor,X=n.s==i.s?1:-1,U=n.d,O=i.d;if(!U||!U[0]||!O||!O[0])return new H(!n.s||!i.s||(U?O&&U[0]==O[0]:!O)?NaN:U&&U[0]==0||!O?X*0:X/0);for(f?(v=1,s=n.e-i.e):(f=yt,v=ee,s=je(n.e/v)-je(i.e/v)),P=O.length,N=U.length,y=new H(X),C=y.d=[],c=0;O[c]==(U[c]||0);c++);if(O[c]>(U[c]||0)&&s--,u==null?(m=u=H.precision,o=H.rounding):a?m=u+(n.e-i.e)+1:m=u,m<0)C.push(1),D=!0;else{if(m=m/v+2|0,c=0,P==1){for(d=0,O=O[0],m++;(c<N||d)&&m--;c++)_=d*f+(U[c]||0),C[c]=_/O|0,d=_%O|0;D=d||c<N}else{for(d=f/(O[0]+1)|0,d>1&&(O=e(O,d,f),U=e(U,d,f),P=O.length,N=U.length),b=P,w=U.slice(0,P),A=w.length;A<P;)w[A++]=0;L=O.slice(),L.unshift(0),M=O[0],O[1]>=f/2&&++M;do d=0,l=t(O,w,P,A),l<0?(E=w[0],P!=A&&(E=E*f+(w[1]||0)),d=E/M|0,d>1?(d>=f&&(d=f-1),h=e(O,d,f),p=h.length,A=w.length,l=t(h,w,p,A),l==1&&(d--,r(h,P<p?L:O,p,f))):(d==0&&(l=d=1),h=O.slice()),p=h.length,p<A&&h.unshift(0),r(w,h,A,f),l==-1&&(A=w.length,l=t(O,w,P,A),l<1&&(d++,r(w,P<A?L:O,A,f))),A=w.length):l===0&&(d++,w=[0]),C[c++]=d,l&&w[0]?w[A++]=U[b]||0:(w=[U[b]],A=1);while((b++<N||w[0]!==void 0)&&m--);D=w[0]!==void 0}C[0]||C.shift()}if(v==1)y.e=s,qu=D;else{for(c=1,d=C[0];d>=10;d/=10)c++;y.e=c+s*v-1,Q(y,a?u+y.e+1:u,o,D)}return y}}();function Q(e,t,r,n){var i,u,o,a,f,l,s,c,d,v=e.constructor;e:if(t!=null){if(c=e.d,!c)return e;for(i=1,a=c[0];a>=10;a/=10)i++;if(u=t-i,u<0)u+=ee,o=t,s=c[d=0],f=s/Xe(10,i-o-1)%10|0;else if(d=Math.ceil((u+1)/ee),a=c.length,d>=a)if(n){for(;a++<=d;)c.push(0);s=f=0,i=1,u%=ee,o=u-ee+1}else break e;else{for(s=a=c[d],i=1;a>=10;a/=10)i++;u%=ee,o=u-ee+i,f=o<0?0:s/Xe(10,i-o-1)%10|0}if(n=n||t<0||c[d+1]!==void 0||(o<0?s:s%Xe(10,i-o-1)),l=r<4?(f||n)&&(r==0||r==(e.s<0?3:2)):f>5||f==5&&(r==4||n||r==6&&(u>0?o>0?s/Xe(10,i-o):0:c[d-1])%10&1||r==(e.s<0?8:7)),t<1||!c[0])return c.length=0,l?(t-=e.e+1,c[0]=Xe(10,(ee-t%ee)%ee),e.e=-t||0):c[0]=e.e=0,e;if(u==0?(c.length=d,a=1,d--):(c.length=d+1,a=Xe(10,ee-u),c[d]=o>0?(s/Xe(10,i-o)%Xe(10,o)|0)*a:0),l)for(;;)if(d==0){for(u=1,o=c[0];o>=10;o/=10)u++;for(o=c[0]+=a,a=1;o>=10;o/=10)a++;u!=a&&(e.e++,c[0]==yt&&(c[0]=1));break}else{if(c[d]+=a,c[d]!=yt)break;c[d--]=0,a=1}for(u=c.length;c[--u]===0;)c.pop()}return ue&&(e.e>v.maxE?(e.d=null,e.e=NaN):e.e<v.minE&&(e.e=0,e.d=[0])),e}function At(e,t,r){if(!e.isFinite())return Vu(e);var n,i=e.e,u=He(e.d),o=u.length;return t?(r&&(n=r-o)>0?u=u.charAt(0)+"."+u.slice(1)+Pt(n):o>1&&(u=u.charAt(0)+"."+u.slice(1)),u=u+(e.e<0?"e":"e+")+e.e):i<0?(u="0."+Pt(-i-1)+u,r&&(n=r-o)>0&&(u+=Pt(n))):i>=o?(u+=Pt(i+1-o),r&&(n=r-i-1)>0&&(u=u+"."+Pt(n))):((n=i+1)<o&&(u=u.slice(0,n)+"."+u.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(u+="."),u+=Pt(n))),u}function pn(e,t){var r=e[0];for(t*=ee;r>=10;r/=10)t++;return t}function en(e,t,r){if(t>rl)throw ue=!0,r&&(e.precision=r),Error($u);return Q(new e(Kr),t,1,!0)}function Et(e,t,r){if(t>On)throw Error($u);return Q(new e(Qr),t,r,!0)}function Xu(e){var t=e.length-1,r=t*ee+1;if(t=e[t],t){for(;t%10==0;t/=10)r--;for(t=e[0];t>=10;t/=10)r++}return r}function Pt(e){for(var t="";e--;)t+="0";return t}function Wu(e,t,r,n){var i,u=new e(1),o=Math.ceil(n/ee+4);for(ue=!1;;){if(r%2&&(u=u.times(t),Si(u.d,o)&&(i=!0)),r=je(r/2),r===0){r=u.d.length-1,i&&u.d[r]===0&&++u.d[r];break}t=t.times(t),Si(t.d,o)}return ue=!0,u}function Ni(e){return e.d[e.d.length-1]&1}function Zu(e,t,r){for(var n,i,u=new e(t[0]),o=0;++o<t.length;){if(i=new e(t[o]),!i.s){u=i;break}n=u.cmp(i),(n===r||n===0&&u.s===r)&&(u=i)}return u}function In(e,t){var r,n,i,u,o,a,f,l=0,s=0,c=0,d=e.constructor,v=d.rounding,D=d.precision;if(!e.d||!e.d[0]||e.e>17)return new d(e.d?e.d[0]?e.s<0?0:1/0:1:e.s?e.s<0?0:e:NaN);for(t==null?(ue=!1,f=D):f=t,a=new d(.03125);e.e>-2;)e=e.times(a),c+=5;for(n=Math.log(Xe(2,c))/Math.LN10*2+5|0,f+=n,r=u=o=new d(1),d.precision=f;;){if(u=Q(u.times(e),f,1),r=r.times(++s),a=o.plus(Ee(u,r,f,1)),He(a.d).slice(0,f)===He(o.d).slice(0,f)){for(i=c;i--;)o=Q(o.times(o),f,1);if(t==null)if(l<3&&Er(o.d,f-n,v,l))d.precision=f+=10,r=u=a=new d(1),s=0,l++;else return Q(o,d.precision=D,v,ue=!0);else return d.precision=D,o}o=a}}function It(e,t){var r,n,i,u,o,a,f,l,s,c,d,v=1,D=10,h=e,p=h.d,y=h.constructor,C=y.rounding,w=y.precision;if(h.s<0||!p||!p[0]||!h.e&&p[0]==1&&p.length==1)return new y(p&&!p[0]?-1/0:h.s!=1?NaN:p?0:h);if(t==null?(ue=!1,s=w):s=t,y.precision=s+=D,r=He(p),n=r.charAt(0),Math.abs(u=h.e)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)h=h.times(e),r=He(h.d),n=r.charAt(0),v++;u=h.e,n>1?(h=new y("0."+r),u++):h=new y(n+"."+r.slice(1))}else return l=en(y,s+2,w).times(u+""),h=It(new y(n+"."+r.slice(1)),s-D).plus(l),y.precision=w,t==null?Q(h,w,C,ue=!0):h;for(c=h,f=o=h=Ee(h.minus(1),h.plus(1),s,1),d=Q(h.times(h),s,1),i=3;;){if(o=Q(o.times(d),s,1),l=f.plus(Ee(o,new y(i),s,1)),He(l.d).slice(0,s)===He(f.d).slice(0,s))if(f=f.times(2),u!==0&&(f=f.plus(en(y,s+2,w).times(u+""))),f=Ee(f,new y(v),s,1),t==null)if(Er(f.d,s-D,C,a))y.precision=s+=D,l=o=h=Ee(c.minus(1),c.plus(1),s,1),d=Q(h.times(h),s,1),i=a=1;else return Q(f,y.precision=w,C,ue=!0);else return y.precision=w,f;f=l,i+=2}}function Vu(e){return String(e.s*e.s/0)}function $r(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;n++);for(i=t.length;t.charCodeAt(i-1)===48;--i);if(t=t.slice(n,i),t){if(i-=n,e.e=r=r-n-1,e.d=[],n=(r+1)%ee,r<0&&(n+=ee),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=ee;n<i;)e.d.push(+t.slice(n,n+=ee));t=t.slice(n),n=ee-t.length}else n-=i;for(;n--;)t+="0";e.d.push(+t),ue&&(e.e>e.constructor.maxE?(e.d=null,e.e=NaN):e.e<e.constructor.minE&&(e.e=0,e.d=[0]))}else e.e=0,e.d=[0];return e}function il(e,t){var r,n,i,u,o,a,f,l,s;if(t.indexOf("_")>-1){if(t=t.replace(/(\d)_(?=\d)/g,"$1"),ku.test(t))return $r(e,t)}else if(t==="Infinity"||t==="NaN")return+t||(e.s=NaN),e.e=NaN,e.d=null,e;if(Qs.test(t))r=16,t=t.toLowerCase();else if(Ks.test(t))r=2;else if(el.test(t))r=8;else throw Error($t+t);for(u=t.search(/p/i),u>0?(f=+t.slice(u+1),t=t.substring(2,u)):t=t.slice(2),u=t.indexOf("."),o=u>=0,n=e.constructor,o&&(t=t.replace(".",""),a=t.length,u=a-u,i=Wu(n,new n(r),u,u*2)),l=qr(t,r,yt),s=l.length-1,u=s;l[u]===0;--u)l.pop();return u<0?new n(e.s*0):(e.e=pn(l,s),e.d=l,ue=!1,o&&(e=Ee(e,i,a*4)),f&&(e=e.times(Math.abs(f)<54?Xe(2,f):lr.pow(2,f))),ue=!0,e)}function ul(e,t){var r,n=t.d.length;if(n<3)return t.isZero()?t:sr(e,2,t,t);r=1.4*Math.sqrt(n),r=r>16?16:r|0,t=t.times(1/Dn(5,r)),t=sr(e,2,t,t);for(var i,u=new e(5),o=new e(16),a=new e(20);r--;)i=t.times(t),t=t.times(u.plus(i.times(o.times(i).minus(a))));return t}function sr(e,t,r,n,i){var u,o,a,f,l=e.precision,s=Math.ceil(l/ee);for(ue=!1,f=r.times(r),a=new e(n);;){if(o=Ee(a.times(f),new e(t++*t++),l,1),a=i?n.plus(o):n.minus(o),n=Ee(o.times(f),new e(t++*t++),l,1),o=a.plus(n),o.d[s]!==void 0){for(u=s;o.d[u]===a.d[u]&&u--;);if(u==-1)break}u=a,a=n,n=o,o=u}return ue=!0,o.d.length=s+1,o}function Dn(e,t){for(var r=e;--t;)r*=e;return r}function Hu(e,t){var r,n=t.s<0,i=Et(e,e.precision,1),u=i.times(.5);if(t=t.abs(),t.lte(u))return Bt=n?4:1,t;if(r=t.divToInt(i),r.isZero())Bt=n?3:2;else{if(t=t.minus(r.times(i)),t.lte(u))return Bt=Ni(r)?n?2:3:n?4:1,t;Bt=Ni(r)?n?1:4:n?3:2}return t.minus(i).abs()}function ri(e,t,r,n){var i,u,o,a,f,l,s,c,d,v=e.constructor,D=r!==void 0;if(D?(it(r,1,Lt),n===void 0?n=v.rounding:it(n,0,8)):(r=v.precision,n=v.rounding),!e.isFinite())s=Vu(e);else{for(s=At(e),o=s.indexOf("."),D?(i=2,t==16?r=r*4-3:t==8&&(r=r*3-2)):i=t,o>=0&&(s=s.replace(".",""),d=new v(1),d.e=s.length-o,d.d=qr(At(d),10,i),d.e=d.d.length),c=qr(s,10,i),u=f=c.length;c[--f]==0;)c.pop();if(!c[0])s=D?"0p+0":"0";else{if(o<0?u--:(e=new v(e),e.d=c,e.e=u,e=Ee(e,d,r,n,0,i),c=e.d,u=e.e,l=qu),o=c[r],a=i/2,l=l||c[r+1]!==void 0,l=n<4?(o!==void 0||l)&&(n===0||n===(e.s<0?3:2)):o>a||o===a&&(n===4||l||n===6&&c[r-1]&1||n===(e.s<0?8:7)),c.length=r,l)for(;++c[--r]>i-1;)c[r]=0,r||(++u,c.unshift(1));for(f=c.length;!c[f-1];--f);for(o=0,s="";o<f;o++)s+=Tn.charAt(c[o]);if(D){if(f>1)if(t==16||t==8){for(o=t==16?4:3,--f;f%o;f++)s+="0";for(c=qr(s,i,t),f=c.length;!c[f-1];--f);for(o=1,s="1.";o<f;o++)s+=Tn.charAt(c[o])}else s=s.charAt(0)+"."+s.slice(1);s=s+(u<0?"p":"p+")+u}else if(u<0){for(;++u;)s="0"+s;s="0."+s}else if(++u>f)for(u-=f;u--;)s+="0";else u<f&&(s=s.slice(0,u)+"."+s.slice(u))}s=(t==16?"0x":t==2?"0b":t==8?"0o":"")+s}return e.s<0?"-"+s:s}function Si(e,t){if(e.length>t)return e.length=t,!0}function ol(e){return new this(e).abs()}function al(e){return new this(e).acos()}function sl(e){return new this(e).acosh()}function ll(e,t){return new this(e).plus(t)}function fl(e){return new this(e).asin()}function cl(e){return new this(e).asinh()}function hl(e){return new this(e).atan()}function dl(e){return new this(e).atanh()}function vl(e,t){e=new this(e),t=new this(t);var r,n=this.precision,i=this.rounding,u=n+4;return!e.s||!t.s?r=new this(NaN):!e.d&&!t.d?(r=Et(this,u,1).times(t.s>0?.25:.75),r.s=e.s):!t.d||e.isZero()?(r=t.s<0?Et(this,n,i):new this(0),r.s=e.s):!e.d||t.isZero()?(r=Et(this,u,1).times(.5),r.s=e.s):t.s<0?(this.precision=u,this.rounding=1,r=this.atan(Ee(e,t,u,1)),t=Et(this,u,1),this.precision=n,this.rounding=i,r=e.s<0?r.minus(t):r.plus(t)):r=this.atan(Ee(e,t,u,1)),r}function pl(e){return new this(e).cbrt()}function Dl(e){return Q(e=new this(e),e.e+1,2)}function ml(e,t,r){return new this(e).clamp(t,r)}function gl(e){if(!e||typeof e!="object")throw Error(vn+"Object expected");var t,r,n,i=e.defaults===!0,u=["precision",1,Lt,"rounding",0,8,"toExpNeg",-9e15,0,"toExpPos",0,xn,"maxE",0,xn,"minE",-9e15,0,"modulo",0,9];for(t=0;t<u.length;t+=3)if(r=u[t],i&&(this[r]=Pn[r]),(n=e[r])!==void 0)if(je(n)===n&&n>=u[t+1]&&n<=u[t+2])this[r]=n;else throw Error($t+r+": "+n);if(r="crypto",i&&(this[r]=Pn[r]),(n=e[r])!==void 0)if(n===!0||n===!1||n===0||n===1)if(n)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[r]=!0;else throw Error(Lu);else this[r]=!1;else throw Error($t+r+": "+n);return this}function yl(e){return new this(e).cos()}function wl(e){return new this(e).cosh()}function Yu(e){var t,r,n;function i(u){var o,a,f,l=this;if(!(l instanceof i))return new i(u);if(l.constructor=i,Mi(u)){l.s=u.s,ue?!u.d||u.e>i.maxE?(l.e=NaN,l.d=null):u.e<i.minE?(l.e=0,l.d=[0]):(l.e=u.e,l.d=u.d.slice()):(l.e=u.e,l.d=u.d?u.d.slice():u.d);return}if(f=typeof u,f==="number"){if(u===0){l.s=1/u<0?-1:1,l.e=0,l.d=[0];return}if(u<0?(u=-u,l.s=-1):l.s=1,u===~~u&&u<1e7){for(o=0,a=u;a>=10;a/=10)o++;ue?o>i.maxE?(l.e=NaN,l.d=null):o<i.minE?(l.e=0,l.d=[0]):(l.e=o,l.d=[u]):(l.e=o,l.d=[u]);return}if(u*0!==0){u||(l.s=NaN),l.e=NaN,l.d=null;return}return $r(l,u.toString())}if(f==="string")return(a=u.charCodeAt(0))===45?(u=u.slice(1),l.s=-1):(a===43&&(u=u.slice(1)),l.s=1),ku.test(u)?$r(l,u):il(l,u);if(f==="bigint")return u<0?(u=-u,l.s=-1):l.s=1,$r(l,u.toString());throw Error($t+u)}if(i.prototype=R,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.EUCLID=9,i.config=i.set=gl,i.clone=Yu,i.isDecimal=Mi,i.abs=ol,i.acos=al,i.acosh=sl,i.add=ll,i.asin=fl,i.asinh=cl,i.atan=hl,i.atanh=dl,i.atan2=vl,i.cbrt=pl,i.ceil=Dl,i.clamp=ml,i.cos=yl,i.cosh=wl,i.div=El,i.exp=Fl,i.floor=Al,i.hypot=Cl,i.ln=_l,i.log=bl,i.log10=Nl,i.log2=Bl,i.max=Sl,i.min=Ml,i.mod=xl,i.mul=Tl,i.pow=Pl,i.random=Ol,i.round=Il,i.sign=Rl,i.sin=zl,i.sinh=ql,i.sqrt=$l,i.sub=Ll,i.sum=Ul,i.tan=kl,i.tanh=Xl,i.trunc=Wl,e===void 0&&(e={}),e&&e.defaults!==!0)for(n=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function El(e,t){return new this(e).div(t)}function Fl(e){return new this(e).exp()}function Al(e){return Q(e=new this(e),e.e+1,3)}function Cl(){var e,t,r=new this(0);for(ue=!1,e=0;e<arguments.length;)if(t=new this(arguments[e++]),t.d)r.d&&(r=r.plus(t.times(t)));else{if(t.s)return ue=!0,new this(1/0);r=t}return ue=!0,r.sqrt()}function Mi(e){return e instanceof lr||e&&e.toStringTag===Uu||!1}function _l(e){return new this(e).ln()}function bl(e,t){return new this(e).log(t)}function Bl(e){return new this(e).log(2)}function Nl(e){return new this(e).log(10)}function Sl(){return Zu(this,arguments,-1)}function Ml(){return Zu(this,arguments,1)}function xl(e,t){return new this(e).mod(t)}function Tl(e,t){return new this(e).mul(t)}function Pl(e,t){return new this(e).pow(t)}function Ol(e){var t,r,n,i,u=0,o=new this(1),a=[];if(e===void 0?e=this.precision:it(e,1,Lt),n=Math.ceil(e/ee),this.crypto)if(crypto.getRandomValues)for(t=crypto.getRandomValues(new Uint32Array(n));u<n;)i=t[u],i>=429e7?t[u]=crypto.getRandomValues(new Uint32Array(1))[0]:a[u++]=i%1e7;else if(crypto.randomBytes){for(t=crypto.randomBytes(n*=4);u<n;)i=t[u]+(t[u+1]<<8)+(t[u+2]<<16)+((t[u+3]&127)<<24),i>=214e7?crypto.randomBytes(4).copy(t,u):(a.push(i%1e7),u+=4);u=n/4}else throw Error(Lu);else for(;u<n;)a[u++]=Math.random()*1e7|0;for(n=a[--u],e%=ee,n&&e&&(i=Xe(10,ee-e),a[u]=(n/i|0)*i);a[u]===0;u--)a.pop();if(u<0)r=0,a=[0];else{for(r=-1;a[0]===0;r-=ee)a.shift();for(n=1,i=a[0];i>=10;i/=10)n++;n<ee&&(r-=ee-n)}return o.e=r,o.d=a,o}function Il(e){return Q(e=new this(e),e.e+1,this.rounding)}function Rl(e){return e=new this(e),e.d?e.d[0]?e.s:0*e.s:e.s||NaN}function zl(e){return new this(e).sin()}function ql(e){return new this(e).sinh()}function $l(e){return new this(e).sqrt()}function Ll(e,t){return new this(e).sub(t)}function Ul(){var e=0,t=arguments,r=new this(t[e]);for(ue=!1;r.s&&++e<t.length;)r=r.plus(t[e]);return ue=!0,Q(r,this.precision,this.rounding)}function kl(e){return new this(e).tan()}function Xl(e){return new this(e).tanh()}function Wl(e){return Q(e=new this(e),e.e+1,1)}R[Symbol.for("nodejs.util.inspect.custom")]=R.toString;R[Symbol.toStringTag]="Decimal";var lr=R.constructor=Yu(Pn);Kr=new lr(Kr);Qr=new lr(Qr);var Zl="BigNumber",Vl=["?on","config"],Hl=se(Zl,Vl,e=>{var{on:t,config:r}=e,n=lr.clone({precision:r.precision,modulo:lr.EUCLID});return n.prototype=Object.create(n.prototype),n.prototype.type="BigNumber",n.prototype.isBigNumber=!0,n.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},n.fromJSON=function(i){return new n(i.value)},t&&t("config",function(i,u){i.precision!==u.precision&&n.config({precision:i.precision})}),n},{isClass:!0});const Ge=Math.cosh||function(e){return Math.abs(e)<1e-9?1-e:(Math.exp(e)+Math.exp(-e))*.5},ft=Math.sinh||function(e){return Math.abs(e)<1e-9?e:(Math.exp(e)-Math.exp(-e))*.5},Yl=function(e){const t=Math.PI/4;if(-t>e||e>t)return Math.cos(e)-1;const r=e*e;return r*(r*(r*(r*(r*(r*(r*(r/20922789888e3-1/87178291200)+1/479001600)-1/3628800)+1/40320)-1/720)+1/24)-1/2)},En=function(e,t){return e=Math.abs(e),t=Math.abs(t),e<t&&([e,t]=[t,e]),e<1e8?Math.sqrt(e*e+t*t):(t/=e,e*Math.sqrt(1+t*t))},Kt=function(){throw SyntaxError("Invalid Param")};function Fn(e,t){const r=Math.abs(e),n=Math.abs(t);return e===0?Math.log(n):t===0?Math.log(r):r<3e3&&n<3e3?Math.log(e*e+t*t)*.5:(e=e*.5,t=t*.5,.5*Math.log(e*e+t*t)+Math.LN2)}const Gl={re:0,im:0},Xt=function(e,t){const r=Gl;if(e==null)r.re=r.im=0;else if(t!==void 0)r.re=e,r.im=t;else switch(typeof e){case"object":if("im"in e&&"re"in e)r.re=e.re,r.im=e.im;else if("abs"in e&&"arg"in e){if(!isFinite(e.abs)&&isFinite(e.arg))return S.INFINITY;r.re=e.abs*Math.cos(e.arg),r.im=e.abs*Math.sin(e.arg)}else if("r"in e&&"phi"in e){if(!isFinite(e.r)&&isFinite(e.phi))return S.INFINITY;r.re=e.r*Math.cos(e.phi),r.im=e.r*Math.sin(e.phi)}else e.length===2?(r.re=e[0],r.im=e[1]):Kt();break;case"string":r.im=r.re=0;const n=e.replace(/_/g,"").match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g);let i=1,u=0;n===null&&Kt();for(let o=0;o<n.length;o++){const a=n[o];a===" "||a==="	"||a===`
`||(a==="+"?i++:a==="-"?u++:a==="i"||a==="I"?(i+u===0&&Kt(),n[o+1]!==" "&&!isNaN(n[o+1])?(r.im+=parseFloat((u%2?"-":"")+n[o+1]),o++):r.im+=parseFloat((u%2?"-":"")+"1"),i=u=0):((i+u===0||isNaN(a))&&Kt(),n[o+1]==="i"||n[o+1]==="I"?(r.im+=parseFloat((u%2?"-":"")+a),o++):r.re+=parseFloat((u%2?"-":"")+a),i=u=0))}i+u>0&&Kt();break;case"number":r.im=0,r.re=e;break;default:Kt()}return isNaN(r.re)||isNaN(r.im),r};function S(e,t){if(!(this instanceof S))return new S(e,t);const r=Xt(e,t);this.re=r.re,this.im=r.im}S.prototype={re:0,im:0,sign:function(){const e=En(this.re,this.im);return new S(this.re/e,this.im/e)},add:function(e,t){const r=Xt(e,t),n=this.isInfinite(),i=!(isFinite(r.re)&&isFinite(r.im));return n||i?n&&i?S.NAN:S.INFINITY:new S(this.re+r.re,this.im+r.im)},sub:function(e,t){const r=Xt(e,t),n=this.isInfinite(),i=!(isFinite(r.re)&&isFinite(r.im));return n||i?n&&i?S.NAN:S.INFINITY:new S(this.re-r.re,this.im-r.im)},mul:function(e,t){const r=Xt(e,t),n=this.isInfinite(),i=!(isFinite(r.re)&&isFinite(r.im)),u=this.re===0&&this.im===0,o=r.re===0&&r.im===0;return n&&o||i&&u?S.NAN:n||i?S.INFINITY:r.im===0&&this.im===0?new S(this.re*r.re,0):new S(this.re*r.re-this.im*r.im,this.re*r.im+this.im*r.re)},div:function(e,t){const r=Xt(e,t),n=this.isInfinite(),i=!(isFinite(r.re)&&isFinite(r.im)),u=this.re===0&&this.im===0,o=r.re===0&&r.im===0;if(u&&o||n&&i)return S.NAN;if(o||n)return S.INFINITY;if(u||i)return S.ZERO;if(r.im===0)return new S(this.re/r.re,this.im/r.re);if(Math.abs(r.re)<Math.abs(r.im)){const a=r.re/r.im,f=r.re*a+r.im;return new S((this.re*a+this.im)/f,(this.im*a-this.re)/f)}else{const a=r.im/r.re,f=r.im*a+r.re;return new S((this.re+this.im*a)/f,(this.im-this.re*a)/f)}},pow:function(e,t){const r=Xt(e,t),n=this.re===0&&this.im===0;if(r.re===0&&r.im===0)return S.ONE;if(r.im===0){if(this.im===0&&this.re>0)return new S(Math.pow(this.re,r.re),0);if(this.re===0)switch((r.re%4+4)%4){case 0:return new S(Math.pow(this.im,r.re),0);case 1:return new S(0,Math.pow(this.im,r.re));case 2:return new S(-Math.pow(this.im,r.re),0);case 3:return new S(0,-Math.pow(this.im,r.re))}}if(n&&r.re>0)return S.ZERO;const u=Math.atan2(this.im,this.re),o=Fn(this.re,this.im);let a=Math.exp(r.re*o-r.im*u),f=r.im*o+r.re*u;return new S(a*Math.cos(f),a*Math.sin(f))},sqrt:function(){const e=this.re,t=this.im;if(t===0)return e>=0?new S(Math.sqrt(e),0):new S(0,Math.sqrt(-e));const r=En(e,t);let n=Math.sqrt(.5*(r+Math.abs(e))),i=Math.abs(t)/(2*n);return e>=0?new S(n,t<0?-i:i):new S(i,t<0?-n:n)},exp:function(){const e=Math.exp(this.re);return this.im===0?new S(e,0):new S(e*Math.cos(this.im),e*Math.sin(this.im))},expm1:function(){const e=this.re,t=this.im;return new S(Math.expm1(e)*Math.cos(t)+Yl(t),Math.exp(e)*Math.sin(t))},log:function(){const e=this.re,t=this.im;return t===0&&e>0?new S(Math.log(e),0):new S(Fn(e,t),Math.atan2(t,e))},abs:function(){return En(this.re,this.im)},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){const e=this.re,t=this.im;return new S(Math.sin(e)*Ge(t),Math.cos(e)*ft(t))},cos:function(){const e=this.re,t=this.im;return new S(Math.cos(e)*Ge(t),-Math.sin(e)*ft(t))},tan:function(){const e=2*this.re,t=2*this.im,r=Math.cos(e)+Ge(t);return new S(Math.sin(e)/r,ft(t)/r)},cot:function(){const e=2*this.re,t=2*this.im,r=Math.cos(e)-Ge(t);return new S(-Math.sin(e)/r,ft(t)/r)},sec:function(){const e=this.re,t=this.im,r=.5*Ge(2*t)+.5*Math.cos(2*e);return new S(Math.cos(e)*Ge(t)/r,Math.sin(e)*ft(t)/r)},csc:function(){const e=this.re,t=this.im,r=.5*Ge(2*t)-.5*Math.cos(2*e);return new S(Math.sin(e)*Ge(t)/r,-Math.cos(e)*ft(t)/r)},asin:function(){const e=this.re,t=this.im,r=new S(t*t-e*e+1,-2*e*t).sqrt(),n=new S(r.re-t,r.im+e).log();return new S(n.im,-n.re)},acos:function(){const e=this.re,t=this.im,r=new S(t*t-e*e+1,-2*e*t).sqrt(),n=new S(r.re-t,r.im+e).log();return new S(Math.PI/2-n.im,n.re)},atan:function(){const e=this.re,t=this.im;if(e===0){if(t===1)return new S(0,1/0);if(t===-1)return new S(0,-1/0)}const r=e*e+(1-t)*(1-t),n=new S((1-t*t-e*e)/r,-2*e/r).log();return new S(-.5*n.im,.5*n.re)},acot:function(){const e=this.re,t=this.im;if(t===0)return new S(Math.atan2(1,e),0);const r=e*e+t*t;return r!==0?new S(e/r,-t/r).atan():new S(e!==0?e/0:0,t!==0?-t/0:0).atan()},asec:function(){const e=this.re,t=this.im;if(e===0&&t===0)return new S(0,1/0);const r=e*e+t*t;return r!==0?new S(e/r,-t/r).acos():new S(e!==0?e/0:0,t!==0?-t/0:0).acos()},acsc:function(){const e=this.re,t=this.im;if(e===0&&t===0)return new S(Math.PI/2,1/0);const r=e*e+t*t;return r!==0?new S(e/r,-t/r).asin():new S(e!==0?e/0:0,t!==0?-t/0:0).asin()},sinh:function(){const e=this.re,t=this.im;return new S(ft(e)*Math.cos(t),Ge(e)*Math.sin(t))},cosh:function(){const e=this.re,t=this.im;return new S(Ge(e)*Math.cos(t),ft(e)*Math.sin(t))},tanh:function(){const e=2*this.re,t=2*this.im,r=Ge(e)+Math.cos(t);return new S(ft(e)/r,Math.sin(t)/r)},coth:function(){const e=2*this.re,t=2*this.im,r=Ge(e)-Math.cos(t);return new S(ft(e)/r,-Math.sin(t)/r)},csch:function(){const e=this.re,t=this.im,r=Math.cos(2*t)-Ge(2*e);return new S(-2*ft(e)*Math.cos(t)/r,2*Ge(e)*Math.sin(t)/r)},sech:function(){const e=this.re,t=this.im,r=Math.cos(2*t)+Ge(2*e);return new S(2*Ge(e)*Math.cos(t)/r,-2*ft(e)*Math.sin(t)/r)},asinh:function(){let e=this.im;this.im=-this.re,this.re=e;const t=this.asin();return this.re=-this.im,this.im=e,e=t.re,t.re=-t.im,t.im=e,t},acosh:function(){const e=this.acos();if(e.im<=0){const t=e.re;e.re=-e.im,e.im=t}else{const t=e.im;e.im=-e.re,e.re=t}return e},atanh:function(){const e=this.re,t=this.im,r=e>1&&t===0,n=1-e,i=1+e,u=n*n+t*t,o=u!==0?new S((i*n-t*t)/u,(t*n+i*t)/u):new S(e!==-1?e/0:0,t!==0?t/0:0),a=o.re;return o.re=Fn(o.re,o.im)/2,o.im=Math.atan2(o.im,a)/2,r&&(o.im=-o.im),o},acoth:function(){const e=this.re,t=this.im;if(e===0&&t===0)return new S(0,Math.PI/2);const r=e*e+t*t;return r!==0?new S(e/r,-t/r).atanh():new S(e!==0?e/0:0,t!==0?-t/0:0).atanh()},acsch:function(){const e=this.re,t=this.im;if(t===0)return new S(e!==0?Math.log(e+Math.sqrt(e*e+1)):1/0,0);const r=e*e+t*t;return r!==0?new S(e/r,-t/r).asinh():new S(e!==0?e/0:0,t!==0?-t/0:0).asinh()},asech:function(){const e=this.re,t=this.im;if(this.isZero())return S.INFINITY;const r=e*e+t*t;return r!==0?new S(e/r,-t/r).acosh():new S(e!==0?e/0:0,t!==0?-t/0:0).acosh()},inverse:function(){if(this.isZero())return S.INFINITY;if(this.isInfinite())return S.ZERO;const e=this.re,t=this.im,r=e*e+t*t;return new S(e/r,-t/r)},conjugate:function(){return new S(this.re,-this.im)},neg:function(){return new S(-this.re,-this.im)},ceil:function(e){return e=Math.pow(10,e||0),new S(Math.ceil(this.re*e)/e,Math.ceil(this.im*e)/e)},floor:function(e){return e=Math.pow(10,e||0),new S(Math.floor(this.re*e)/e,Math.floor(this.im*e)/e)},round:function(e){return e=Math.pow(10,e||0),new S(Math.round(this.re*e)/e,Math.round(this.im*e)/e)},equals:function(e,t){const r=Xt(e,t);return Math.abs(r.re-this.re)<=S.EPSILON&&Math.abs(r.im-this.im)<=S.EPSILON},clone:function(){return new S(this.re,this.im)},toString:function(){let e=this.re,t=this.im,r="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(e)<S.EPSILON&&(e=0),Math.abs(t)<S.EPSILON&&(t=0),t===0?r+e:(e!==0?(r+=e,r+=" ",t<0?(t=-t,r+="-"):r+="+",r+=" "):t<0&&(t=-t,r+="-"),t!==1&&(r+=t),r+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return this.im===0?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return this.im===0&&this.re===0},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!this.isFinite()}};S.ZERO=new S(0,0);S.ONE=new S(1,0);S.I=new S(0,1);S.PI=new S(Math.PI,0);S.E=new S(Math.E,0);S.INFINITY=new S(1/0,1/0);S.NAN=new S(NaN,NaN);S.EPSILON=1e-15;var Jl="Complex",jl=[],Kl=se(Jl,jl,()=>(Object.defineProperty(S,"name",{value:"Complex"}),S.prototype.constructor=S,S.prototype.type="Complex",S.prototype.isComplex=!0,S.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},S.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},S.prototype.format=function(e){var t="",r=this.im,n=this.re,i=Mn(this.re,e),u=Mn(this.im,e),o=_e(e)?e:e?e.precision:null;if(o!==null){var a=Math.pow(10,-o);Math.abs(n/r)<a&&(n=0),Math.abs(r/n)<a&&(r=0)}return r===0?t=i:n===0?r===1?t="i":r===-1?t="-i":t=u+"i":r<0?r===-1?t=i+" - i":t=i+" - "+u.substring(1)+"i":r===1?t=i+" + i":t=i+" + "+u+"i",t},S.fromPolar=function(e){switch(arguments.length){case 1:{var t=arguments[0];if(typeof t=="object")return S(t);throw new TypeError("Input has to be an object with r and phi keys.")}case 2:{var r=arguments[0],n=arguments[1];if(_e(r)){if(Tu(n)&&n.hasBase("ANGLE")&&(n=n.toNumber("rad")),_e(n))return new S({r,phi:n});throw new TypeError("Phi is not a number nor an angle unit.")}else throw new TypeError("Radius r is not a number.")}default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},S.prototype.valueOf=S.prototype.toString,S.fromJSON=function(e){return new S(e)},S.compare=function(e,t){return e.re>t.re?1:e.re<t.re?-1:e.im>t.im?1:e.im<t.im?-1:0},S),{isClass:!0});typeof BigInt>"u"&&(BigInt=function(e){if(isNaN(e))throw new Error("");return e});const K=BigInt(0),ae=BigInt(1),Fr=BigInt(2),Rn=BigInt(5),nt=BigInt(10),Ql=2e3,k={s:ae,n:K,d:ae};function _t(e,t){try{e=BigInt(e)}catch{throw xt()}return e*t}function mt(e){return typeof e=="bigint"?e:Math.floor(e)}function Be(e,t){if(t===K)throw ni();const r=Object.create(ct.prototype);r.s=e<K?-ae:ae,e=e<K?-e:e;const n=Wt(e,t);return r.n=e/n,r.d=t/n,r}function Qt(e){const t={};let r=e,n=Fr,i=Rn-ae;for(;i<=r;){for(;r%n===K;)r/=n,t[n]=(t[n]||K)+ae;i+=ae+Fr*n++}return r!==e?r>1&&(t[r]=(t[r]||K)+ae):t[e]=(t[e]||K)+ae,t}const Ze=function(e,t){let r=K,n=ae,i=ae;if(e!=null)if(t!==void 0){if(typeof e=="bigint")r=e;else{if(isNaN(e))throw xt();if(e%1!==0)throw xi();r=BigInt(e)}if(typeof t=="bigint")n=t;else{if(isNaN(t))throw xt();if(t%1!==0)throw xi();n=BigInt(t)}i=r*n}else if(typeof e=="object"){if("d"in e&&"n"in e)r=BigInt(e.n),n=BigInt(e.d),"s"in e&&(r*=BigInt(e.s));else if(0 in e)r=BigInt(e[0]),1 in e&&(n=BigInt(e[1]));else if(typeof e=="bigint")r=e;else throw xt();i=r*n}else if(typeof e=="number"){if(isNaN(e))throw xt();if(e<0&&(i=-ae,e=-e),e%1===0)r=BigInt(e);else{let u=1,o=0,a=1,f=1,l=1,s=1e7;for(e>=1&&(u=10**Math.floor(1+Math.log10(e)),e/=u);a<=s&&l<=s;){let c=(o+f)/(a+l);if(e===c){a+l<=s?(r=o+f,n=a+l):l>a?(r=f,n=l):(r=o,n=a);break}else e>c?(o+=f,a+=l):(f+=o,l+=a),a>s?(r=f,n=l):(r=o,n=a)}r=BigInt(r)*BigInt(u),n=BigInt(n)}}else if(typeof e=="string"){let u=0,o=K,a=K,f=K,l=ae,s=ae,c=e.replace(/_/g,"").match(/\d+|./g);if(c===null)throw xt();if(c[u]==="-"?(i=-ae,u++):c[u]==="+"&&u++,c.length===u+1?a=_t(c[u++],i):c[u+1]==="."||c[u]==="."?(c[u]!=="."&&(o=_t(c[u++],i)),u++,(u+1===c.length||c[u+1]==="("&&c[u+3]===")"||c[u+1]==="'"&&c[u+3]==="'")&&(a=_t(c[u],i),l=nt**BigInt(c[u].length),u++),(c[u]==="("&&c[u+2]===")"||c[u]==="'"&&c[u+2]==="'")&&(f=_t(c[u+1],i),s=nt**BigInt(c[u+1].length)-ae,u+=3)):c[u+1]==="/"||c[u+1]===":"?(a=_t(c[u],i),l=_t(c[u+2],ae),u+=3):c[u+3]==="/"&&c[u+1]===" "&&(o=_t(c[u],i),a=_t(c[u+2],i),l=_t(c[u+4],ae),u+=5),c.length<=u)n=l*s,i=r=f+n*o+s*a;else throw xt()}else if(typeof e=="bigint")r=e,i=e,n=ae;else throw xt();if(n===K)throw ni();k.s=i<K?-ae:ae,k.n=r<K?-r:r,k.d=n<K?-n:n};function ef(e,t,r){let n=ae;for(;t>K;e=e*e%r,t>>=ae)t&ae&&(n=n*e%r);return n}function tf(e,t){for(;t%Fr===K;t/=Fr);for(;t%Rn===K;t/=Rn);if(t===ae)return K;let r=nt%t,n=1;for(;r!==ae;n++)if(r=r*nt%t,n>Ql)return K;return BigInt(n)}function rf(e,t,r){let n=ae,i=ef(nt,r,t);for(let u=0;u<300;u++){if(n===i)return BigInt(u);n=n*nt%t,i=i*nt%t}return 0}function Wt(e,t){if(!e)return t;if(!t)return e;for(;;){if(e%=t,!e)return t;if(t%=e,!t)return e}}function ct(e,t){if(Ze(e,t),this instanceof ct)e=Wt(k.d,k.n),this.s=k.s,this.n=k.n/e,this.d=k.d/e;else return Be(k.s*k.n,k.d)}var ni=function(){return new Error("Division by Zero")},xt=function(){return new Error("Invalid argument")},xi=function(){return new Error("Parameters must be integer")};ct.prototype={s:ae,n:K,d:ae,abs:function(){return Be(this.n,this.d)},neg:function(){return Be(-this.s*this.n,this.d)},add:function(e,t){return Ze(e,t),Be(this.s*this.n*k.d+k.s*this.d*k.n,this.d*k.d)},sub:function(e,t){return Ze(e,t),Be(this.s*this.n*k.d-k.s*this.d*k.n,this.d*k.d)},mul:function(e,t){return Ze(e,t),Be(this.s*k.s*this.n*k.n,this.d*k.d)},div:function(e,t){return Ze(e,t),Be(this.s*k.s*this.n*k.d,this.d*k.n)},clone:function(){return Be(this.s*this.n,this.d)},mod:function(e,t){if(e===void 0)return Be(this.s*this.n%this.d,ae);if(Ze(e,t),K===k.n*this.d)throw ni();return Be(this.s*(k.d*this.n)%(k.n*this.d),k.d*this.d)},gcd:function(e,t){return Ze(e,t),Be(Wt(k.n,this.n)*Wt(k.d,this.d),k.d*this.d)},lcm:function(e,t){return Ze(e,t),k.n===K&&this.n===K?Be(K,ae):Be(k.n*this.n,Wt(k.n,this.n)*Wt(k.d,this.d))},inverse:function(){return Be(this.s*this.d,this.n)},pow:function(e,t){if(Ze(e,t),k.d===ae)return k.s<K?Be((this.s*this.d)**k.n,this.n**k.n):Be((this.s*this.n)**k.n,this.d**k.n);if(this.s<K)return null;let r=Qt(this.n),n=Qt(this.d),i=ae,u=ae;for(let o in r)if(o!=="1"){if(o==="0"){i=K;break}if(r[o]*=k.n,r[o]%k.d===K)r[o]/=k.d;else return null;i*=BigInt(o)**r[o]}for(let o in n)if(o!=="1"){if(n[o]*=k.n,n[o]%k.d===K)n[o]/=k.d;else return null;u*=BigInt(o)**n[o]}return k.s<K?Be(u,i):Be(i,u)},log:function(e,t){if(Ze(e,t),this.s<=K||k.s<=K)return null;const r={},n=Qt(k.n),i=Qt(k.d),u=Qt(this.n),o=Qt(this.d);for(const l in i)n[l]=(n[l]||K)-i[l];for(const l in o)u[l]=(u[l]||K)-o[l];for(const l in n)l!=="1"&&(r[l]=!0);for(const l in u)l!=="1"&&(r[l]=!0);let a=null,f=null;for(const l in r){const s=n[l]||K,c=u[l]||K;if(s===K){if(c!==K)return null;continue}let d=c,v=s;const D=Wt(d,v);if(d/=D,v/=D,a===null&&f===null)a=d,f=v;else if(d*f!==a*v)return null}return a!==null&&f!==null?Be(a,f):null},equals:function(e,t){return Ze(e,t),this.s*this.n*k.d===k.s*k.n*this.d},lt:function(e,t){return Ze(e,t),this.s*this.n*k.d<k.s*k.n*this.d},lte:function(e,t){return Ze(e,t),this.s*this.n*k.d<=k.s*k.n*this.d},gt:function(e,t){return Ze(e,t),this.s*this.n*k.d>k.s*k.n*this.d},gte:function(e,t){return Ze(e,t),this.s*this.n*k.d>=k.s*k.n*this.d},compare:function(e,t){Ze(e,t);let r=this.s*this.n*k.d-k.s*k.n*this.d;return(K<r)-(r<K)},ceil:function(e){return e=nt**BigInt(e||0),Be(mt(this.s*e*this.n/this.d)+(e*this.n%this.d>K&&this.s>=K?ae:K),e)},floor:function(e){return e=nt**BigInt(e||0),Be(mt(this.s*e*this.n/this.d)-(e*this.n%this.d>K&&this.s<K?ae:K),e)},round:function(e){return e=nt**BigInt(e||0),Be(mt(this.s*e*this.n/this.d)+this.s*((this.s>=K?ae:K)+Fr*(e*this.n%this.d)>this.d?ae:K),e)},roundTo:function(e,t){Ze(e,t);const r=this.n*k.d,n=this.d*k.n,i=r%n;let u=mt(r/n);return i+i>=n&&u++,Be(this.s*u*k.n,k.d)},divisible:function(e,t){return Ze(e,t),!(!(k.n*this.d)||this.n*k.d%(k.n*this.d))},valueOf:function(){return Number(this.s*this.n)/Number(this.d)},toString:function(e){let t=this.n,r=this.d;e=e||15;let n=tf(t,r),i=rf(t,r,n),u=this.s<K?"-":"";if(u+=mt(t/r),t%=r,t*=nt,t&&(u+="."),n){for(let o=i;o--;)u+=mt(t/r),t%=r,t*=nt;u+="(";for(let o=n;o--;)u+=mt(t/r),t%=r,t*=nt;u+=")"}else for(let o=e;t&&o--;)u+=mt(t/r),t%=r,t*=nt;return u},toFraction:function(e){let t=this.n,r=this.d,n=this.s<K?"-":"";if(r===ae)n+=t;else{let i=mt(t/r);e&&i>K&&(n+=i,n+=" ",t%=r),n+=t,n+="/",n+=r}return n},toLatex:function(e){let t=this.n,r=this.d,n=this.s<K?"-":"";if(r===ae)n+=t;else{let i=mt(t/r);e&&i>K&&(n+=i,t%=r),n+="\\frac{",n+=t,n+="}{",n+=r,n+="}"}return n},toContinued:function(){let e=this.n,t=this.d,r=[];do{r.push(mt(e/t));let n=e%t;e=t,t=n}while(e!==ae);return r},simplify:function(e){const t=BigInt(1/(e||.001)|0),r=this.abs(),n=r.toContinued();for(let i=1;i<n.length;i++){let u=Be(n[i-1],ae);for(let a=i-2;a>=0;a--)u=u.inverse().add(n[a]);let o=u.sub(r);if(o.n*t<o.d)return u.mul(this.s)}return this}};var nf="Fraction",uf=[],of=se(nf,uf,()=>(Object.defineProperty(ct,"name",{value:"Fraction"}),ct.prototype.constructor=ct,ct.prototype.type="Fraction",ct.prototype.isFraction=!0,ct.prototype.toJSON=function(){return{mathjs:"Fraction",n:String(this.s*this.n),d:String(this.d)}},ct.fromJSON=function(e){return new ct(e)},ct),{isClass:!0}),af="Matrix",sf=[],lf=se(af,sf,()=>{function e(){if(!(this instanceof e))throw new SyntaxError("Constructor must be called with the new operator")}return e.prototype.type="Matrix",e.prototype.isMatrix=!0,e.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},e.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},e.prototype.create=function(t,r){throw new Error("Cannot invoke create on a Matrix interface")},e.prototype.subset=function(t,r,n){throw new Error("Cannot invoke subset on a Matrix interface")},e.prototype.get=function(t){throw new Error("Cannot invoke get on a Matrix interface")},e.prototype.set=function(t,r,n){throw new Error("Cannot invoke set on a Matrix interface")},e.prototype.resize=function(t,r){throw new Error("Cannot invoke resize on a Matrix interface")},e.prototype.reshape=function(t,r){throw new Error("Cannot invoke reshape on a Matrix interface")},e.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},e.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},e.prototype.map=function(t,r){throw new Error("Cannot invoke map on a Matrix interface")},e.prototype.forEach=function(t){throw new Error("Cannot invoke forEach on a Matrix interface")},e.prototype[Symbol.iterator]=function(){throw new Error("Cannot iterate a Matrix interface")},e.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},e.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},e.prototype.format=function(t){throw new Error("Cannot invoke format on a Matrix interface")},e.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},e},{isClass:!0});function An(e,t,r){var n=e.constructor,i=new n(2),u="";if(r){if(r<1)throw new Error("size must be in greater than 0");if(!Le(r))throw new Error("size must be an integer");if(e.greaterThan(i.pow(r-1).sub(1))||e.lessThan(i.pow(r-1).mul(-1)))throw new Error("Value must be in range [-2^".concat(r-1,", 2^").concat(r-1,"-1]"));if(!e.isInteger())throw new Error("Value must be an integer");e.lessThan(0)&&(e=e.add(i.pow(r))),u="i".concat(r)}switch(t){case 2:return"".concat(e.toBinary()).concat(u);case 8:return"".concat(e.toOctal()).concat(u);case 16:return"".concat(e.toHexadecimal()).concat(u);default:throw new Error("Base ".concat(t," not supported "))}}function ff(e,t){if(typeof t=="function")return t(e);if(!e.isFinite())return e.isNaN()?"NaN":e.gt(0)?"Infinity":"-Infinity";var{notation:r,precision:n,wordSize:i}=Iu(t);switch(r){case"fixed":return hf(e,n);case"exponential":return Ti(e,n);case"engineering":return cf(e,n);case"bin":return An(e,2,i);case"oct":return An(e,8,i);case"hex":return An(e,16,i);case"auto":{var u=Pi(t==null?void 0:t.lowerExp,-3),o=Pi(t==null?void 0:t.upperExp,5);if(e.isZero())return"0";var a,f=e.toSignificantDigits(n),l=f.e;return l>=u&&l<o?a=f.toFixed():a=Ti(e,n),a.replace(/((\.\d*?)(0+))($|e)/,function(){var s=arguments[2],c=arguments[4];return s!=="."?s+c:c})}default:throw new Error('Unknown notation "'+r+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function cf(e,t){var r=e.e,n=r%3===0?r:r<0?r-3-r%3:r-r%3,i=e.mul(Math.pow(10,-n)),u=i.toPrecision(t);if(u.includes("e")){var o=e.constructor;u=new o(u).toFixed()}return u+"e"+(r>=0?"+":"")+n.toString()}function Ti(e,t){return t!==void 0?e.toExponential(t-1):e.toExponential()}function hf(e,t){return e.toFixed(t)}function Pi(e,t){return _e(e)?e:ze(e)?e.toNumber():t}function $e(e,t){var r=df(e,t);return t&&typeof t=="object"&&"truncate"in t&&r.length>t.truncate?r.substring(0,t.truncate-3)+"...":r}function df(e,t){if(typeof e=="number")return Mn(e,t);if(ze(e))return ff(e,t);if(vf(e))return!t||t.fraction!=="decimal"?"".concat(e.s*e.n,"/").concat(e.d):e.toString();if(Array.isArray(e))return Gu(e,t);if(wt(e))return Oi(e);if(typeof e=="function")return e.syntax?String(e.syntax):"function";if(e&&typeof e=="object"){if(typeof e.format=="function")return e.format(t);if(e&&e.toString(t)!=={}.toString())return e.toString(t);var r=Object.keys(e).map(n=>Oi(n)+": "+$e(e[n],t));return"{"+r.join(", ")+"}"}return String(e)}function Oi(e){for(var t=String(e),r="",n=0;n<t.length;){var i=t.charAt(n);r+=i in Ii?Ii[i]:i,n++}return'"'+r+'"'}var Ii={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"};function Gu(e,t){if(Array.isArray(e)){for(var r="[",n=e.length,i=0;i<n;i++)i!==0&&(r+=", "),r+=Gu(e[i],t);return r+="]",r}else return $e(e,t)}function vf(e){return e&&typeof e=="object"&&typeof e.s=="bigint"&&typeof e.n=="bigint"&&typeof e.d=="bigint"||!1}function we(e,t,r){if(!(this instanceof we))throw new SyntaxError("Constructor must be called with the new operator");this.actual=e,this.expected=t,this.relation=r,this.message="Dimension mismatch ("+(Array.isArray(e)?"["+e.join(", ")+"]":e)+" "+(this.relation||"!=")+" "+(Array.isArray(t)?"["+t.join(", ")+"]":t)+")",this.stack=new Error().stack}we.prototype=new RangeError;we.prototype.constructor=RangeError;we.prototype.name="DimensionError";we.prototype.isDimensionError=!0;function Yt(e,t,r){if(!(this instanceof Yt))throw new SyntaxError("Constructor must be called with the new operator");this.index=e,arguments.length<3?(this.min=0,this.max=t):(this.min=t,this.max=r),this.min!==void 0&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":this.max!==void 0&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=new Error().stack}Yt.prototype=new RangeError;Yt.prototype.constructor=RangeError;Yt.prototype.name="IndexError";Yt.prototype.isIndexError=!0;function Qe(e){for(var t=[];Array.isArray(e);)t.push(e.length),e=e[0];return t}function Ju(e,t,r){var n,i=e.length;if(i!==t[r])throw new we(i,t[r]);if(r<t.length-1){var u=r+1;for(n=0;n<i;n++){var o=e[n];if(!Array.isArray(o))throw new we(t.length-1,t.length,"<");Ju(e[n],t,u)}}else for(n=0;n<i;n++)if(Array.isArray(e[n]))throw new we(t.length+1,t.length,">")}function Ri(e,t){var r=t.length===0;if(r){if(Array.isArray(e))throw new we(e.length,0)}else Ju(e,t,0)}function Te(e,t){if(e!==void 0){if(!_e(e)||!Le(e))throw new TypeError("Index must be an integer (value: "+e+")");if(e<0||typeof t=="number"&&e>=t)throw new Yt(e,t)}}function zn(e,t,r){if(!Array.isArray(t))throw new TypeError("Array expected");if(t.length===0)throw new Error("Resizing to scalar is not supported");t.forEach(function(i){if(!_e(i)||!Le(i)||i<0)throw new TypeError("Invalid size, must contain positive integers (size: "+$e(t)+")")}),(_e(e)||ze(e))&&(e=[e]);var n=r!==void 0?r:0;return qn(e,t,0,n),e}function qn(e,t,r,n){var i,u,o=e.length,a=t[r],f=Math.min(o,a);if(e.length=a,r<t.length-1){var l=r+1;for(i=0;i<f;i++)u=e[i],Array.isArray(u)||(u=[u],e[i]=u),qn(u,t,l,n);for(i=f;i<a;i++)u=[],e[i]=u,qn(u,t,l,n)}else{for(i=0;i<f;i++)for(;Array.isArray(e[i]);)e[i]=e[i][0];for(i=f;i<a;i++)e[i]=n}}function ju(e,t){var r=Df(e,!0),n=r.length;if(!Array.isArray(e)||!Array.isArray(t))throw new TypeError("Array expected");if(t.length===0)throw new we(0,n,"!=");t=ii(t,n);var i=Ku(t);if(n!==i)throw new we(i,n,"!=");try{return pf(r,t)}catch(u){throw u instanceof we?new we(i,n,"!="):u}}function ii(e,t){var r=Ku(e),n=e.slice(),i=-1,u=e.indexOf(i),o=e.indexOf(i,u+1)>=0;if(o)throw new Error("More than one wildcard in sizes");var a=u>=0,f=t%r===0;if(a)if(f)n[u]=-t/r;else throw new Error("Could not replace wildcard, since "+t+" is no multiple of "+-r);return n}function Ku(e){return e.reduce((t,r)=>t*r,1)}function pf(e,t){for(var r=e,n,i=t.length-1;i>0;i--){var u=t[i];n=[];for(var o=r.length/u,a=0;a<o;a++)n.push(r.slice(a*u,(a+1)*u));r=n}return r}function Qu(e,t,r,n){var i=n||Qe(e);if(r)for(var u=0;u<r;u++)e=[e],i.unshift(1);for(e=eo(e,t,0);i.length<t;)i.push(1);return e}function eo(e,t,r){var n,i;if(Array.isArray(e)){var u=r+1;for(n=0,i=e.length;n<i;n++)e[n]=eo(e[n],t,u)}else for(var o=r;o<t;o++)e=[e];return e}function Df(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!Array.isArray(e))return e;if(typeof t!="boolean")throw new TypeError("Boolean expected for second argument of flatten");var r=[];return t?i(e):n(e),r;function n(u){for(var o=0;o<u.length;o++){var a=u[o];Array.isArray(a)?n(a):r.push(a)}}function i(u){if(Array.isArray(u[0]))for(var o=0;o<u.length;o++)i(u[o]);else for(var a=0;a<u.length;a++)r.push(u[a])}}function ui(e,t){for(var r,n=0,i=0;i<e.length;i++){var u=e[i],o=Array.isArray(u);if(i===0&&o&&(n=u.length),o&&u.length!==n)return;var a=o?ui(u,t):t(u);if(r===void 0)r=a;else if(r!==a)return"mixed"}return r}function to(e,t,r,n){if(n<r){if(e.length!==t.length)throw new we(e.length,t.length);for(var i=[],u=0;u<e.length;u++)i[u]=to(e[u],t[u],r,n+1);return i}else return e.concat(t)}function ro(){var e=Array.prototype.slice.call(arguments,0,-1),t=Array.prototype.slice.call(arguments,-1);if(e.length===1)return e[0];if(e.length>1)return e.slice(1).reduce(function(r,n){return to(r,n,t,0)},e[0]);throw new Error("Wrong number of arguments in function concat")}function no(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];for(var n=t.map(d=>d.length),i=Math.max(...n),u=new Array(i).fill(null),o=0;o<t.length;o++)for(var a=t[o],f=n[o],l=0;l<f;l++){var s=i-f+l;a[l]>u[s]&&(u[s]=a[l])}for(var c=0;c<t.length;c++)io(t[c],u);return u}function io(e,t){for(var r=t.length,n=e.length,i=0;i<n;i++){var u=r-n+i;if(e[i]<t[u]&&e[i]>1||e[i]>t[u])throw new Error("shape mismatch: mismatch is found in arg with shape (".concat(e,") not possible to broadcast dimension ").concat(n," with size ").concat(e[i]," to size ").concat(t[u]))}}function $n(e,t){var r=Qe(e);if(qt(r,t))return e;io(r,t);var n=no(r,t),i=n.length,u=[...Array(i-r.length).fill(1),...r],o=gf(e);r.length<i&&(o=ju(o,u),r=Qe(o));for(var a=0;a<i;a++)r[a]<n[a]&&(o=mf(o,n[a],a),r=Qe(o));return o}function mf(e,t,r){return ro(...Array(t).fill(e),r)}function uo(e,t){if(!Array.isArray(e))throw new Error("Array expected");var r=Qe(e);if(t.length!==r.length)throw new we(t.length,r.length);for(var n=0;n<t.length;n++)Te(t[n],r[n]);return t.reduce((i,u)=>i[u],e)}function zi(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(e.length===0)return[];if(r)return u(e);var n=[];return i(e,0);function i(o,a){if(Array.isArray(o)){for(var f=o.length,l=Array(f),s=0;s<f;s++)n[a]=s,l[s]=i(o[s],a+1);return l}else return t(o,n.slice(0,a),e)}function u(o){if(Array.isArray(o)){for(var a=o.length,f=Array(a),l=0;l<a;l++)f[l]=u(o[l]);return f}else return t(o)}}function gf(e){return Hr([],e)}function tn(e,t,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(Jr.isTypedFunction(e)){var i;if(n)i=1;else{var u=(t.isMatrix?t.size():Qe(t)).map(()=>0),o=t.isMatrix?t.get(u):uo(t,u);i=Ef(e,o,u,t)}var a;if(t.isMatrix&&t.dataType!=="mixed"&&t.dataType!==void 0){var f=yf(e,i);a=f!==void 0?f:e}else a=e;return i>=1&&i<=3?{isUnary:i===1,fn:function(){for(var s=arguments.length,c=new Array(s),d=0;d<s;d++)c[d]=arguments[d];return qi(a,c.slice(0,i),r,e.name)}}:{isUnary:!1,fn:function(){for(var s=arguments.length,c=new Array(s),d=0;d<s;d++)c[d]=arguments[d];return qi(a,c,r,e.name)}}}return n===void 0?{isUnary:wf(e),fn:e}:{isUnary:n,fn:e}}function yf(e,t){var r=[];if(Object.entries(e.signatures).forEach(n=>{var[i,u]=n;i.split(",").length===t&&r.push(u)}),r.length===1)return r[0]}function wf(e){if(e.length!==1)return!1;var t=e.toString();if(/arguments/.test(t))return!1;var r=t.match(/\(.*?\)/);return!/\.\.\./.test(r)}function Ef(e,t,r,n){for(var i=[t,r,n],u=3;u>0;u--){var o=i.slice(0,u);if(Jr.resolve(e,o)!==null)return u}}function qi(e,t,r,n){try{return e(...t)}catch(i){Ff(i,t,r,n)}}function Ff(e,t,r,n){var i;if(e instanceof TypeError&&((i=e.data)===null||i===void 0?void 0:i.category)==="wrongType"){var u=[];throw u.push("value: ".concat(zt(t[0]))),t.length>=2&&u.push("index: ".concat(zt(t[1]))),t.length>=3&&u.push("array: ".concat(zt(t[2]))),new TypeError("Function ".concat(r," cannot apply callback arguments ")+"".concat(n,"(").concat(u.join(", "),") at index ").concat(JSON.stringify(t[1])))}else throw new TypeError("Function ".concat(r," cannot apply callback arguments ")+"to function ".concat(n,": ").concat(e.message))}var Af="DenseMatrix",Cf=["Matrix"],_f=se(Af,Cf,e=>{var{Matrix:t}=e;function r(s,c){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(c&&!wt(c))throw new Error("Invalid datatype: "+c);if(Oe(s))s.type==="DenseMatrix"?(this._data=Pe(s._data),this._size=Pe(s._size),this._datatype=c||s._datatype):(this._data=s.toArray(),this._size=s.size(),this._datatype=c||s._datatype);else if(s&&ke(s.data)&&ke(s.size))this._data=s.data,this._size=s.size,Ri(this._data,this._size),this._datatype=c||s.datatype;else if(ke(s))this._data=l(s),this._size=Qe(this._data),Ri(this._data,this._size),this._datatype=c;else{if(s)throw new TypeError("Unsupported type of data ("+zt(s)+")");this._data=[],this._size=[0],this._datatype=c}}r.prototype=new t,r.prototype.createDenseMatrix=function(s,c){return new r(s,c)},Object.defineProperty(r,"name",{value:"DenseMatrix"}),r.prototype.constructor=r,r.prototype.type="DenseMatrix",r.prototype.isDenseMatrix=!0,r.prototype.getDataType=function(){return ui(this._data,zt)},r.prototype.storage=function(){return"dense"},r.prototype.datatype=function(){return this._datatype},r.prototype.create=function(s,c){return new r(s,c)},r.prototype.subset=function(s,c,d){switch(arguments.length){case 1:return n(this,s);case 2:case 3:return u(this,s,c,d);default:throw new SyntaxError("Wrong number of arguments")}},r.prototype.get=function(s){return uo(this._data,s)},r.prototype.set=function(s,c,d){if(!ke(s))throw new TypeError("Array expected");if(s.length<this._size.length)throw new we(s.length,this._size.length,"<");var v,D,h,p=s.map(function(C){return C+1});f(this,p,d);var y=this._data;for(v=0,D=s.length-1;v<D;v++)h=s[v],Te(h,y.length),y=y[h];return h=s[s.length-1],Te(h,y.length),y[h]=c,this};function n(s,c){if(!ei(c))throw new TypeError("Invalid index");var d=c.isScalar();if(d)return s.get(c.min());var v=c.size();if(v.length!==s._size.length)throw new we(v.length,s._size.length);for(var D=c.min(),h=c.max(),p=0,y=s._size.length;p<y;p++)Te(D[p],s._size[p]),Te(h[p],s._size[p]);return new r(i(s._data,c,v.length,0),s._datatype)}function i(s,c,d,v){var D=v===d-1,h=c.dimension(v);return D?h.map(function(p){return Te(p,s.length),s[p]}).valueOf():h.map(function(p){Te(p,s.length);var y=s[p];return i(y,c,d,v+1)}).valueOf()}function u(s,c,d,v){if(!c||c.isIndex!==!0)throw new TypeError("Invalid index");var D=c.size(),h=c.isScalar(),p;if(Oe(d)?(p=d.size(),d=d.valueOf()):p=Qe(d),h){if(p.length!==0)throw new TypeError("Scalar expected");s.set(c.min(),d,v)}else{if(!qt(p,D))try{p.length===0?d=$n([d],D):d=$n(d,D),p=Qe(d)}catch{}if(D.length<s._size.length)throw new we(D.length,s._size.length,"<");if(p.length<D.length){for(var y=0,C=0;D[y]===1&&p[y]===1;)y++;for(;D[y]===1;)C++,y++;d=Qu(d,D.length,C,p)}if(!qt(D,p))throw new we(D,p,">");var w=c.max().map(function(m){return m+1});f(s,w,v);var A=D.length,E=0;o(s._data,c,d,A,E)}return s}function o(s,c,d,v,D){var h=D===v-1,p=c.dimension(D);h?p.forEach(function(y,C){Te(y),s[y]=d[C[0]]}):p.forEach(function(y,C){Te(y),o(s[y],c,d[C[0]],v,D+1)})}r.prototype.resize=function(s,c,d){if(!Gr(s))throw new TypeError("Array or Matrix expected");var v=s.valueOf().map(h=>Array.isArray(h)&&h.length===1?h[0]:h),D=d?this.clone():this;return a(D,v,c)};function a(s,c,d){if(c.length===0){for(var v=s._data;ke(v);)v=v[0];return v}return s._size=c.slice(0),s._data=zn(s._data,s._size,d),s}r.prototype.reshape=function(s,c){var d=c?this.clone():this;d._data=ju(d._data,s);var v=d._size.reduce((D,h)=>D*h);return d._size=ii(s,v),d};function f(s,c,d){for(var v=s._size.slice(0),D=!1;v.length<c.length;)v.push(0),D=!0;for(var h=0,p=c.length;h<p;h++)c[h]>v[h]&&(v[h]=c[h],D=!0);D&&a(s,v,d)}r.prototype.clone=function(){var s=new r({data:Pe(this._data),size:Pe(this._size),datatype:this._datatype});return s},r.prototype.size=function(){return this._size.slice(0)},r.prototype._forEach=function(s){var c=s.length===2,d=this._size.length-1;if(d<0)return;if(c){p(this._data);return}if(d===0){for(var v=0;v<this._data.length;v++)s(this._data,v,[v]);return}var D=new Array(d+1);h(this._data);function h(y){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(C<d)for(var w=0;w<y.length;w++)D[C]=w,h(y[w],C+1);else for(var A=0;A<y.length;A++)D[C]=A,s(y,A,D.slice())}function p(y){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(C<d)for(var w=0;w<y.length;w++)p(y[w],C+1);else for(var A=0;A<y.length;A++)s(y,A)}},r.prototype.map=function(s){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,d=this,v=new r(d),D=tn(s,d._data,"map",c),h=c||D.isUnary?(p,y)=>{p[y]=D.fn(p[y])}:(p,y,C)=>{p[y]=D.fn(p[y],C,d)};return v._forEach(h),v},r.prototype.forEach=function(s){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,d=this,v=tn(s,d._data,"map",c),D=c||v.isUnary?(h,p)=>{v.fn(h[p])}:(h,p,y)=>{v.fn(h[p],y,d)};d._forEach(D)},r.prototype[Symbol.iterator]=function*(){var s=this._size.length-1;if(!(s<0)){if(s===0){for(var c=0;c<this._data.length;c++)yield{value:this._data[c],index:[c]};return}var d=[],v=function*(h,p){if(p<s)for(var y=0;y<h.length;y++)d[p]=y,yield*v(h[y],p+1);else for(var C=0;C<h.length;C++)d[p]=C,yield{value:h[C],index:d.slice()}};yield*v(this._data,0)}},r.prototype.rows=function(){var s=[],c=this.size();if(c.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");var d=this._data;for(var v of d)s.push(new r([v],this._datatype));return s},r.prototype.columns=function(){var s=this,c=[],d=this.size();if(d.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");for(var v=this._data,D=function(y){var C=v.map(w=>[w[y]]);c.push(new r(C,s._datatype))},h=0;h<d[1];h++)D(h);return c},r.prototype.toArray=function(){return Pe(this._data)},r.prototype.valueOf=function(){return this._data},r.prototype.format=function(s){return $e(this._data,s)},r.prototype.toString=function(){return $e(this._data)},r.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},r.prototype.diagonal=function(s){if(s){if(ze(s)&&(s=s.toNumber()),!_e(s)||!Le(s))throw new TypeError("The parameter k must be an integer number")}else s=0;for(var c=s>0?s:0,d=s<0?-s:0,v=this._size[0],D=this._size[1],h=Math.min(v-d,D-c),p=[],y=0;y<h;y++)p[y]=this._data[y+d][y+c];return new r({data:p,size:[h],datatype:this._datatype})},r.diagonal=function(s,c,d,v){if(!ke(s))throw new TypeError("Array expected, size parameter");if(s.length!==2)throw new Error("Only two dimensions matrix are supported");if(s=s.map(function(_){if(ze(_)&&(_=_.toNumber()),!_e(_)||!Le(_)||_<1)throw new Error("Size values must be positive integers");return _}),d){if(ze(d)&&(d=d.toNumber()),!_e(d)||!Le(d))throw new TypeError("The parameter k must be an integer number")}else d=0;var D=d>0?d:0,h=d<0?-d:0,p=s[0],y=s[1],C=Math.min(p-h,y-D),w;if(ke(c)){if(c.length!==C)throw new Error("Invalid value array length");w=function(b){return c[b]}}else if(Oe(c)){var A=c.size();if(A.length!==1||A[0]!==C)throw new Error("Invalid matrix length");w=function(b){return c.get([b])}}else w=function(){return c};v||(v=ze(w(0))?w(0).mul(0):0);var E=[];if(s.length>0){E=zn(E,s,v);for(var m=0;m<C;m++)E[m+h][m+D]=w(m)}return new r({data:E,size:[p,y]})},r.fromJSON=function(s){return new r(s)},r.prototype.swapRows=function(s,c){if(!_e(s)||!Le(s)||!_e(c)||!Le(c))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return Te(s,this._size[0]),Te(c,this._size[0]),r._swapRows(s,c,this._data),this},r._swapRows=function(s,c,d){var v=d[s];d[s]=d[c],d[c]=v};function l(s){return Oe(s)?l(s.valueOf()):ke(s)?s.map(l):s}return r},{isClass:!0});function Ut(e,t,r){if(!r)return Oe(e)?e.map(i=>t(i),!1,!0):zi(e,t,!0);var n=i=>i===0?i:t(i);return Oe(e)?e.map(i=>n(i),!1,!0):zi(e,n,!0)}var $i="isInteger",bf=["typed"],Bf=se($i,bf,e=>{var{typed:t}=e;return t($i,{number:Le,BigNumber:function(n){return n.isInt()},bigint:function(n){return!0},Fraction:function(n){return n.d===1n},"Array | Matrix":t.referToSelf(r=>n=>Ut(n,r))})}),oo="number",oi="number, number";function ao(e){return Math.abs(e)}ao.signature=oo;function so(e,t){return e+t}so.signature=oi;function lo(e,t){return e-t}lo.signature=oi;function fo(e,t){return e*t}fo.signature=oi;function co(e){return-e}co.signature=oo;function Nf(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e-9,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;if(r<=0)throw new Error("Relative tolerance must be greater than 0");if(n<0)throw new Error("Absolute tolerance must be at least 0");return e.isNaN()||t.isNaN()?!1:!e.isFinite()||!t.isFinite()?e.eq(t):e.eq(t)?!0:e.minus(t).abs().lte(e.constructor.max(e.constructor.max(e.abs(),t.abs()).mul(r),n))}var Li="isZero",Sf=["typed","equalScalar"],Mf=se(Li,Sf,e=>{var{typed:t,equalScalar:r}=e;return t(Li,{"number | BigNumber | Complex | Fraction":n=>r(n,0),bigint:n=>n===0n,Unit:t.referToSelf(n=>i=>t.find(n,i.valueType())(i.value)),"Array | Matrix":t.referToSelf(n=>i=>Ut(i,n))})});function xf(e,t,r,n){return jr(e.re,t.re,r,n)&&jr(e.im,t.im,r,n)}var Tf=se("compareUnits",["typed"],e=>{var{typed:t}=e;return{"Unit, Unit":t.referToSelf(r=>(n,i)=>{if(!n.equalBase(i))throw new Error("Cannot compare units with different base");return t.find(r,[n.valueType(),i.valueType()])(n.value,i.value)})}}),rn="equalScalar",Pf=["typed","config"],Of=se(rn,Pf,e=>{var{typed:t,config:r}=e,n=Tf({typed:t});return t(rn,{"boolean, boolean":function(u,o){return u===o},"number, number":function(u,o){return jr(u,o,r.relTol,r.absTol)},"BigNumber, BigNumber":function(u,o){return u.eq(o)||Nf(u,o,r.relTol,r.absTol)},"bigint, bigint":function(u,o){return u===o},"Fraction, Fraction":function(u,o){return u.equals(o)},"Complex, Complex":function(u,o){return xf(u,o,r.relTol,r.absTol)}},n)});se(rn,["typed","config"],e=>{var{typed:t,config:r}=e;return t(rn,{"number, number":function(i,u){return jr(i,u,r.relTol,r.absTol)}})});var If="SparseMatrix",Rf=["typed","equalScalar","Matrix"],zf=se(If,Rf,e=>{var{typed:t,equalScalar:r,Matrix:n}=e;function i(h,p){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if(p&&!wt(p))throw new Error("Invalid datatype: "+p);if(Oe(h))u(this,h,p);else if(h&&ke(h.index)&&ke(h.ptr)&&ke(h.size))this._values=h.values,this._index=h.index,this._ptr=h.ptr,this._size=h.size,this._datatype=p||h.datatype;else if(ke(h))o(this,h,p);else{if(h)throw new TypeError("Unsupported type of data ("+zt(h)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=p}}function u(h,p,y){p.type==="SparseMatrix"?(h._values=p._values?Pe(p._values):void 0,h._index=Pe(p._index),h._ptr=Pe(p._ptr),h._size=Pe(p._size),h._datatype=y||p._datatype):o(h,p.valueOf(),y||p._datatype)}function o(h,p,y){h._values=[],h._index=[],h._ptr=[],h._datatype=y;var C=p.length,w=0,A=r,E=0;if(wt(y)&&(A=t.find(r,[y,y])||r,E=t.convert(0,y)),C>0){var m=0;do{h._ptr.push(h._index.length);for(var _=0;_<C;_++){var b=p[_];if(ke(b)){if(m===0&&w<b.length&&(w=b.length),m<b.length){var N=b[m];A(N,E)||(h._values.push(N),h._index.push(_))}}else m===0&&w<1&&(w=1),A(b,E)||(h._values.push(b),h._index.push(_))}m++}while(m<w)}h._ptr.push(h._index.length),h._size=[C,w]}i.prototype=new n,i.prototype.createSparseMatrix=function(h,p){return new i(h,p)},Object.defineProperty(i,"name",{value:"SparseMatrix"}),i.prototype.constructor=i,i.prototype.type="SparseMatrix",i.prototype.isSparseMatrix=!0,i.prototype.getDataType=function(){return ui(this._values,zt)},i.prototype.storage=function(){return"sparse"},i.prototype.datatype=function(){return this._datatype},i.prototype.create=function(h,p){return new i(h,p)},i.prototype.density=function(){var h=this._size[0],p=this._size[1];return h!==0&&p!==0?this._index.length/(h*p):0},i.prototype.subset=function(h,p,y){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return a(this,h);case 2:case 3:return f(this,h,p,y);default:throw new SyntaxError("Wrong number of arguments")}};function a(h,p){if(!ei(p))throw new TypeError("Invalid index");var y=p.isScalar();if(y)return h.get(p.min());var C=p.size();if(C.length!==h._size.length)throw new we(C.length,h._size.length);var w,A,E,m,_=p.min(),b=p.max();for(w=0,A=h._size.length;w<A;w++)Te(_[w],h._size[w]),Te(b[w],h._size[w]);var N=h._values,M=h._index,P=h._ptr,L=p.dimension(0),H=p.dimension(1),X=[],U=[];L.forEach(function(Y,te){U[Y]=te[0],X[Y]=!0});var O=N?[]:void 0,G=[],J=[];return H.forEach(function(Y){for(J.push(G.length),E=P[Y],m=P[Y+1];E<m;E++)w=M[E],X[w]===!0&&(G.push(U[w]),O&&O.push(N[E]))}),J.push(G.length),new i({values:O,index:G,ptr:J,size:C,datatype:h._datatype})}function f(h,p,y,C){if(!p||p.isIndex!==!0)throw new TypeError("Invalid index");var w=p.size(),A=p.isScalar(),E;if(Oe(y)?(E=y.size(),y=y.toArray()):E=Qe(y),A){if(E.length!==0)throw new TypeError("Scalar expected");h.set(p.min(),y,C)}else{if(w.length!==1&&w.length!==2)throw new we(w.length,h._size.length,"<");if(E.length<w.length){for(var m=0,_=0;w[m]===1&&E[m]===1;)m++;for(;w[m]===1;)_++,m++;y=Qu(y,w.length,_,E)}if(!qt(w,E))throw new we(w,E,">");if(w.length===1){var b=p.dimension(0);b.forEach(function(P,L){Te(P),h.set([P,0],y[L[0]],C)})}else{var N=p.dimension(0),M=p.dimension(1);N.forEach(function(P,L){Te(P),M.forEach(function(H,X){Te(H),h.set([P,H],y[L[0]][X[0]],C)})})}}return h}i.prototype.get=function(h){if(!ke(h))throw new TypeError("Array expected");if(h.length!==this._size.length)throw new we(h.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var p=h[0],y=h[1];Te(p,this._size[0]),Te(y,this._size[1]);var C=l(p,this._ptr[y],this._ptr[y+1],this._index);return C<this._ptr[y+1]&&this._index[C]===p?this._values[C]:0},i.prototype.set=function(h,p,y){if(!ke(h))throw new TypeError("Array expected");if(h.length!==this._size.length)throw new we(h.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var C=h[0],w=h[1],A=this._size[0],E=this._size[1],m=r,_=0;wt(this._datatype)&&(m=t.find(r,[this._datatype,this._datatype])||r,_=t.convert(0,this._datatype)),(C>A-1||w>E-1)&&(d(this,Math.max(C+1,A),Math.max(w+1,E),y),A=this._size[0],E=this._size[1]),Te(C,A),Te(w,E);var b=l(C,this._ptr[w],this._ptr[w+1],this._index);return b<this._ptr[w+1]&&this._index[b]===C?m(p,_)?s(b,w,this._values,this._index,this._ptr):this._values[b]=p:m(p,_)||c(b,C,w,p,this._values,this._index,this._ptr),this};function l(h,p,y,C){if(y-p===0)return y;for(var w=p;w<y;w++)if(C[w]===h)return w;return p}function s(h,p,y,C,w){y.splice(h,1),C.splice(h,1);for(var A=p+1;A<w.length;A++)w[A]--}function c(h,p,y,C,w,A,E){w.splice(h,0,C),A.splice(h,0,p);for(var m=y+1;m<E.length;m++)E[m]++}i.prototype.resize=function(h,p,y){if(!Gr(h))throw new TypeError("Array or Matrix expected");var C=h.valueOf().map(A=>Array.isArray(A)&&A.length===1?A[0]:A);if(C.length!==2)throw new Error("Only two dimensions matrix are supported");C.forEach(function(A){if(!_e(A)||!Le(A)||A<0)throw new TypeError("Invalid size, must contain positive integers (size: "+$e(C)+")")});var w=y?this.clone():this;return d(w,C[0],C[1],p)};function d(h,p,y,C){var w=C||0,A=r,E=0;wt(h._datatype)&&(A=t.find(r,[h._datatype,h._datatype])||r,E=t.convert(0,h._datatype),w=t.convert(w,h._datatype));var m=!A(w,E),_=h._size[0],b=h._size[1],N,M,P;if(y>b){for(M=b;M<y;M++)if(h._ptr[M]=h._values.length,m)for(N=0;N<_;N++)h._values.push(w),h._index.push(N);h._ptr[y]=h._values.length}else y<b&&(h._ptr.splice(y+1,b-y),h._values.splice(h._ptr[y],h._values.length),h._index.splice(h._ptr[y],h._index.length));if(b=y,p>_){if(m){var L=0;for(M=0;M<b;M++){h._ptr[M]=h._ptr[M]+L,P=h._ptr[M+1]+L;var H=0;for(N=_;N<p;N++,H++)h._values.splice(P+H,0,w),h._index.splice(P+H,0,N),L++}h._ptr[b]=h._values.length}}else if(p<_){var X=0;for(M=0;M<b;M++){h._ptr[M]=h._ptr[M]-X;var U=h._ptr[M],O=h._ptr[M+1]-X;for(P=U;P<O;P++)N=h._index[P],N>p-1&&(h._values.splice(P,1),h._index.splice(P,1),X++)}h._ptr[M]=h._values.length}return h._size[0]=p,h._size[1]=y,h}i.prototype.reshape=function(h,p){if(!ke(h))throw new TypeError("Array expected");if(h.length!==2)throw new Error("Sparse matrices can only be reshaped in two dimensions");h.forEach(function(Y){if(!_e(Y)||!Le(Y)||Y<=-2||Y===0)throw new TypeError("Invalid size, must contain positive integers or -1 (size: "+$e(h)+")")});var y=this._size[0]*this._size[1];h=ii(h,y);var C=h[0]*h[1];if(y!==C)throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var w=p?this.clone():this;if(this._size[0]===h[0]&&this._size[1]===h[1])return w;for(var A=[],E=0;E<w._ptr.length;E++)for(var m=0;m<w._ptr[E+1]-w._ptr[E];m++)A.push(E);for(var _=w._values.slice(),b=w._index.slice(),N=0;N<w._index.length;N++){var M=b[N],P=A[N],L=M*w._size[1]+P;A[N]=L%h[1],b[N]=Math.floor(L/h[1])}w._values.length=0,w._index.length=0,w._ptr.length=h[1]+1,w._size=h.slice();for(var H=0;H<w._ptr.length;H++)w._ptr[H]=0;for(var X=0;X<_.length;X++){var U=b[X],O=A[X],G=_[X],J=l(U,w._ptr[O],w._ptr[O+1],w._index);c(J,U,O,G,w._values,w._index,w._ptr)}return w},i.prototype.clone=function(){var h=new i({values:this._values?Pe(this._values):void 0,index:Pe(this._index),ptr:Pe(this._ptr),size:Pe(this._size),datatype:this._datatype});return h},i.prototype.size=function(){return this._size.slice(0)},i.prototype.map=function(h,p){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var y=this,C=this._size[0],w=this._size[1],A=tn(h,y,"map"),E=function(_,b,N){return A.fn(_,[b,N],y)};return v(this,0,C-1,0,w-1,E,p)};function v(h,p,y,C,w,A,E){var m=[],_=[],b=[],N=r,M=0;wt(h._datatype)&&(N=t.find(r,[h._datatype,h._datatype])||r,M=t.convert(0,h._datatype));for(var P=function(he,Fe,be){var Ae=A(he,Fe,be);N(Ae,M)||(m.push(Ae),_.push(Fe))},L=C;L<=w;L++){b.push(m.length);var H=h._ptr[L],X=h._ptr[L+1];if(E)for(var U=H;U<X;U++){var O=h._index[U];O>=p&&O<=y&&P(h._values[U],O-p,L-C)}else{for(var G={},J=H;J<X;J++){var Y=h._index[J];G[Y]=h._values[J]}for(var te=p;te<=y;te++){var ce=te in G?G[te]:0;P(ce,te-p,L-C)}}}return b.push(m.length),new i({values:m,index:_,ptr:b,size:[y-p+1,w-C+1]})}i.prototype.forEach=function(h,p){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var y=this,C=this._size[0],w=this._size[1],A=tn(h,y,"forEach"),E=0;E<w;E++){var m=this._ptr[E],_=this._ptr[E+1];if(p)for(var b=m;b<_;b++){var N=this._index[b];A.fn(this._values[b],[N,E],y)}else{for(var M={},P=m;P<_;P++){var L=this._index[P];M[L]=this._values[P]}for(var H=0;H<C;H++){var X=H in M?M[H]:0;A.fn(X,[H,E],y)}}}},i.prototype[Symbol.iterator]=function*(){if(!this._values)throw new Error("Cannot iterate a Pattern only matrix");for(var h=this._size[1],p=0;p<h;p++)for(var y=this._ptr[p],C=this._ptr[p+1],w=y;w<C;w++){var A=this._index[w];yield{value:this._values[w],index:[A,p]}}},i.prototype.toArray=function(){return D(this._values,this._index,this._ptr,this._size,!0)},i.prototype.valueOf=function(){return D(this._values,this._index,this._ptr,this._size,!1)};function D(h,p,y,C,w){var A=C[0],E=C[1],m=[],_,b;for(_=0;_<A;_++)for(m[_]=[],b=0;b<E;b++)m[_][b]=0;for(b=0;b<E;b++)for(var N=y[b],M=y[b+1],P=N;P<M;P++)_=p[P],m[_][b]=h?w?Pe(h[P]):h[P]:1;return m}return i.prototype.format=function(h){for(var p=this._size[0],y=this._size[1],C=this.density(),w="Sparse Matrix ["+$e(p,h)+" x "+$e(y,h)+"] density: "+$e(C,h)+`
`,A=0;A<y;A++)for(var E=this._ptr[A],m=this._ptr[A+1],_=E;_<m;_++){var b=this._index[_];w+=`
    (`+$e(b,h)+", "+$e(A,h)+") ==> "+(this._values?$e(this._values[_],h):"X")}return w},i.prototype.toString=function(){return $e(this.toArray())},i.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},i.prototype.diagonal=function(h){if(h){if(ze(h)&&(h=h.toNumber()),!_e(h)||!Le(h))throw new TypeError("The parameter k must be an integer number")}else h=0;var p=h>0?h:0,y=h<0?-h:0,C=this._size[0],w=this._size[1],A=Math.min(C-y,w-p),E=[],m=[],_=[];_[0]=0;for(var b=p;b<w&&E.length<A;b++)for(var N=this._ptr[b],M=this._ptr[b+1],P=N;P<M;P++){var L=this._index[P];if(L===b-p+y){E.push(this._values[P]),m[E.length-1]=L-y;break}}return _.push(E.length),new i({values:E,index:m,ptr:_,size:[A,1]})},i.fromJSON=function(h){return new i(h)},i.diagonal=function(h,p,y,C,w){if(!ke(h))throw new TypeError("Array expected, size parameter");if(h.length!==2)throw new Error("Only two dimensions matrix are supported");if(h=h.map(function(Y){if(ze(Y)&&(Y=Y.toNumber()),!_e(Y)||!Le(Y)||Y<1)throw new Error("Size values must be positive integers");return Y}),y){if(ze(y)&&(y=y.toNumber()),!_e(y)||!Le(y))throw new TypeError("The parameter k must be an integer number")}else y=0;var A=r,E=0;wt(w)&&(A=t.find(r,[w,w])||r,E=t.convert(0,w));var m=y>0?y:0,_=y<0?-y:0,b=h[0],N=h[1],M=Math.min(b-_,N-m),P;if(ke(p)){if(p.length!==M)throw new Error("Invalid value array length");P=function(te){return p[te]}}else if(Oe(p)){var L=p.size();if(L.length!==1||L[0]!==M)throw new Error("Invalid matrix length");P=function(te){return p.get([te])}}else P=function(){return p};for(var H=[],X=[],U=[],O=0;O<N;O++){U.push(H.length);var G=O-m;if(G>=0&&G<M){var J=P(G);A(J,E)||(X.push(G+_),H.push(J))}}return U.push(H.length),new i({values:H,index:X,ptr:U,size:[b,N]})},i.prototype.swapRows=function(h,p){if(!_e(h)||!Le(h)||!_e(p)||!Le(p))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return Te(h,this._size[0]),Te(p,this._size[0]),i._swapRows(h,p,this._size[1],this._values,this._index,this._ptr),this},i._forEachRow=function(h,p,y,C,w){for(var A=C[h],E=C[h+1],m=A;m<E;m++)w(y[m],p[m])},i._swapRows=function(h,p,y,C,w,A){for(var E=0;E<y;E++){var m=A[E],_=A[E+1],b=l(h,m,_,w),N=l(p,m,_,w);if(b<_&&N<_&&w[b]===h&&w[N]===p){if(C){var M=C[b];C[b]=C[N],C[N]=M}continue}if(b<_&&w[b]===h&&(N>=_||w[N]!==p)){var P=C?C[b]:void 0;w.splice(N,0,p),C&&C.splice(N,0,P),w.splice(N<=b?b+1:b,1),C&&C.splice(N<=b?b+1:b,1);continue}if(N<_&&w[N]===p&&(b>=_||w[b]!==h)){var L=C?C[N]:void 0;w.splice(b,0,h),C&&C.splice(b,0,L),w.splice(b<=N?N+1:N,1),C&&C.splice(b<=N?N+1:N,1)}}},i},{isClass:!0}),qf="number",$f=["typed"];function Lf(e){var t=e.match(/(0[box])([0-9a-fA-F]*)\.([0-9a-fA-F]*)/);if(t){var r={"0b":2,"0o":8,"0x":16}[t[1]],n=t[2],i=t[3];return{input:e,radix:r,integerPart:n,fractionalPart:i}}else return null}function Uf(e){for(var t=parseInt(e.integerPart,e.radix),r=0,n=0;n<e.fractionalPart.length;n++){var i=parseInt(e.fractionalPart[n],e.radix);r+=i/Math.pow(e.radix,n+1)}var u=t+r;if(isNaN(u))throw new SyntaxError('String "'+e.input+'" is not a valid number');return u}var kf=se(qf,$f,e=>{var{typed:t}=e,r=t("number",{"":function(){return 0},number:function(i){return i},string:function(i){if(i==="NaN")return NaN;var u=Lf(i);if(u)return Uf(u);var o=0,a=i.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);a&&(o=Number(a[2]),i=a[1]);var f=Number(i);if(isNaN(f))throw new SyntaxError('String "'+i+'" is not a valid number');if(a){if(f>2**o-1)throw new SyntaxError('String "'.concat(i,'" is out of range'));f>=2**(o-1)&&(f=f-2**o)}return f},BigNumber:function(i){return i.toNumber()},bigint:function(i){return Number(i)},Fraction:function(i){return i.valueOf()},Unit:t.referToSelf(n=>i=>{var u=i.clone();return u.value=n(i.value),u}),null:function(i){return 0},"Unit, string | Unit":function(i,u){return i.toNumber(u)},"Array | Matrix":t.referToSelf(n=>i=>Ut(i,n))});return r.fromJSON=function(n){return parseFloat(n.value)},r}),Xf="bignumber",Wf=["typed","BigNumber"],Zf=se(Xf,Wf,e=>{var{typed:t,BigNumber:r}=e;return t("bignumber",{"":function(){return new r(0)},number:function(i){return new r(i+"")},string:function(i){var u=i.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);if(u){var o=u[2],a=r(u[1]),f=new r(2).pow(Number(o));if(a.gt(f.sub(1)))throw new SyntaxError('String "'.concat(i,'" is out of range'));var l=new r(2).pow(Number(o)-1);return a.gte(l)?a.sub(f):a}return new r(i)},BigNumber:function(i){return i},bigint:function(i){return new r(i.toString())},Unit:t.referToSelf(n=>i=>{var u=i.clone();return u.value=n(i.value),u}),Fraction:function(i){return new r(String(i.n)).div(String(i.d)).times(String(i.s))},null:function(i){return new r(0)},"Array | Matrix":t.referToSelf(n=>i=>Ut(i,n))})}),Vf="fraction",Hf=["typed","Fraction"],Yf=se(Vf,Hf,e=>{var{typed:t,Fraction:r}=e;return t("fraction",{number:function(i){if(!isFinite(i)||isNaN(i))throw new Error(i+" cannot be represented as a fraction");return new r(i)},string:function(i){return new r(i)},"number, number":function(i,u){return new r(i,u)},"bigint, bigint":function(i,u){return new r(i,u)},null:function(i){return new r(0)},BigNumber:function(i){return new r(i.toString())},bigint:function(i){return new r(i.toString())},Fraction:function(i){return i},Unit:t.referToSelf(n=>i=>{var u=i.clone();return u.value=n(i.value),u}),Object:function(i){return new r(i)},"Array | Matrix":t.referToSelf(n=>i=>Ut(i,n))})}),Ui="matrix",Gf=["typed","Matrix","DenseMatrix","SparseMatrix"],Jf=se(Ui,Gf,e=>{var{typed:t,Matrix:r,DenseMatrix:n,SparseMatrix:i}=e;return t(Ui,{"":function(){return u([])},string:function(a){return u([],a)},"string, string":function(a,f){return u([],a,f)},Array:function(a){return u(a)},Matrix:function(a){return u(a,a.storage())},"Array | Matrix, string":u,"Array | Matrix, string, string":u});function u(o,a,f){if(a==="dense"||a==="default"||a===void 0)return new n(o,f);if(a==="sparse")return new i(o,f);throw new TypeError("Unknown matrix type "+JSON.stringify(a)+".")}}),ki="unaryMinus",jf=["typed"],Kf=se(ki,jf,e=>{var{typed:t}=e;return t(ki,{number:co,"Complex | BigNumber | Fraction":r=>r.neg(),bigint:r=>-r,Unit:t.referToSelf(r=>n=>{var i=n.clone();return i.value=t.find(r,i.valueType())(n.value),i}),"Array | Matrix":t.referToSelf(r=>n=>Ut(n,r,!0))})}),Xi="abs",Qf=["typed"],ec=se(Xi,Qf,e=>{var{typed:t}=e;return t(Xi,{number:ao,"Complex | BigNumber | Fraction | Unit":r=>r.abs(),bigint:r=>r<0n?-r:r,"Array | Matrix":t.referToSelf(r=>n=>Ut(n,r,!0))})}),Wi="addScalar",tc=["typed"],rc=se(Wi,tc,e=>{var{typed:t}=e;return t(Wi,{"number, number":so,"Complex, Complex":function(n,i){return n.add(i)},"BigNumber, BigNumber":function(n,i){return n.plus(i)},"bigint, bigint":function(n,i){return n+i},"Fraction, Fraction":function(n,i){return n.add(i)},"Unit, Unit":t.referToSelf(r=>(n,i)=>{if(n.value===null||n.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(i.value===null||i.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!n.equalBase(i))throw new Error("Units do not match");var u=n.clone();return u.value=t.find(r,[u.valueType(),i.valueType()])(u.value,i.value),u.fixPrefix=!1,u})})}),Zi="subtractScalar",nc=["typed"],ic=se(Zi,nc,e=>{var{typed:t}=e;return t(Zi,{"number, number":lo,"Complex, Complex":function(n,i){return n.sub(i)},"BigNumber, BigNumber":function(n,i){return n.minus(i)},"bigint, bigint":function(n,i){return n-i},"Fraction, Fraction":function(n,i){return n.sub(i)},"Unit, Unit":t.referToSelf(r=>(n,i)=>{if(n.value===null||n.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(i.value===null||i.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!n.equalBase(i))throw new Error("Units do not match");var u=n.clone();return u.value=t.find(r,[u.valueType(),i.valueType()])(u.value,i.value),u.fixPrefix=!1,u})})}),uc="matAlgo11xS0s",oc=["typed","equalScalar"],ho=se(uc,oc,e=>{var{typed:t,equalScalar:r}=e;return function(i,u,o,a){var f=i._values,l=i._index,s=i._ptr,c=i._size,d=i._datatype;if(!f)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var v=c[0],D=c[1],h,p=r,y=0,C=o;typeof d=="string"&&(h=d,p=t.find(r,[h,h]),y=t.convert(0,h),u=t.convert(u,h),C=t.find(o,[h,h]));for(var w=[],A=[],E=[],m=0;m<D;m++){E[m]=A.length;for(var _=s[m],b=s[m+1],N=_;N<b;N++){var M=l[N],P=a?C(u,f[N]):C(f[N],u);p(P,y)||(A.push(M),w.push(P))}}return E[D]=A.length,i.createSparseMatrix({values:w,index:A,ptr:E,size:[v,D],datatype:h})}}),ac="matAlgo14xDs",sc=["typed"],ai=se(ac,sc,e=>{var{typed:t}=e;return function(i,u,o,a){var f=i._data,l=i._size,s=i._datatype,c,d=o;typeof s=="string"&&(c=s,u=t.convert(u,c),d=t.find(o,[c,c]));var v=l.length>0?r(d,0,l,l[0],f,u,a):[];return i.createDenseMatrix({data:v,size:Pe(l),datatype:c})};function r(n,i,u,o,a,f,l){var s=[];if(i===u.length-1)for(var c=0;c<o;c++)s[c]=l?n(f,a[c]):n(a[c],f);else for(var d=0;d<o;d++)s[d]=r(n,i+1,u,u[i+1],a[d],f,l);return s}}),lc="matAlgo13xDD",fc=["typed"],cc=se(lc,fc,e=>{var{typed:t}=e;return function(i,u,o){var a=i._data,f=i._size,l=i._datatype,s=u._data,c=u._size,d=u._datatype,v=[];if(f.length!==c.length)throw new we(f.length,c.length);for(var D=0;D<f.length;D++){if(f[D]!==c[D])throw new RangeError("Dimension mismatch. Matrix A ("+f+") must match Matrix B ("+c+")");v[D]=f[D]}var h,p=o;typeof l=="string"&&l===d&&(h=l,p=t.find(o,[h,h]));var y=v.length>0?r(p,0,v,v[0],a,s):[];return i.createDenseMatrix({data:y,size:v,datatype:h})};function r(n,i,u,o,a,f){var l=[];if(i===u.length-1)for(var s=0;s<o;s++)l[s]=n(a[s],f[s]);else for(var c=0;c<o;c++)l[c]=r(n,i+1,u,u[i+1],a[c],f[c]);return l}});function We(e,t){if(qt(e.size(),t.size()))return[e,t];var r=no(e.size(),t.size());return[e,t].map(n=>hc(n,r))}function hc(e,t){return qt(e.size(),t)?e:e.create($n(e.valueOf(),t),e.datatype())}var dc="matrixAlgorithmSuite",vc=["typed","matrix"],pc=se(dc,vc,e=>{var{typed:t,matrix:r}=e,n=cc({typed:t}),i=ai({typed:t});return function(o){var a=o.elop,f=o.SD||o.DS,l;a?(l={"DenseMatrix, DenseMatrix":(v,D)=>n(...We(v,D),a),"Array, Array":(v,D)=>n(...We(r(v),r(D)),a).valueOf(),"Array, DenseMatrix":(v,D)=>n(...We(r(v),D),a),"DenseMatrix, Array":(v,D)=>n(...We(v,r(D)),a)},o.SS&&(l["SparseMatrix, SparseMatrix"]=(v,D)=>o.SS(...We(v,D),a,!1)),o.DS&&(l["DenseMatrix, SparseMatrix"]=(v,D)=>o.DS(...We(v,D),a,!1),l["Array, SparseMatrix"]=(v,D)=>o.DS(...We(r(v),D),a,!1)),f&&(l["SparseMatrix, DenseMatrix"]=(v,D)=>f(...We(D,v),a,!0),l["SparseMatrix, Array"]=(v,D)=>f(...We(r(D),v),a,!0))):(l={"DenseMatrix, DenseMatrix":t.referToSelf(v=>(D,h)=>n(...We(D,h),v)),"Array, Array":t.referToSelf(v=>(D,h)=>n(...We(r(D),r(h)),v).valueOf()),"Array, DenseMatrix":t.referToSelf(v=>(D,h)=>n(...We(r(D),h),v)),"DenseMatrix, Array":t.referToSelf(v=>(D,h)=>n(...We(D,r(h)),v))},o.SS&&(l["SparseMatrix, SparseMatrix"]=t.referToSelf(v=>(D,h)=>o.SS(...We(D,h),v,!1))),o.DS&&(l["DenseMatrix, SparseMatrix"]=t.referToSelf(v=>(D,h)=>o.DS(...We(D,h),v,!1)),l["Array, SparseMatrix"]=t.referToSelf(v=>(D,h)=>o.DS(...We(r(D),h),v,!1))),f&&(l["SparseMatrix, DenseMatrix"]=t.referToSelf(v=>(D,h)=>f(...We(h,D),v,!0)),l["SparseMatrix, Array"]=t.referToSelf(v=>(D,h)=>f(...We(r(h),D),v,!0))));var s=o.scalar||"any",c=o.Ds||o.Ss;c&&(a?(l["DenseMatrix,"+s]=(v,D)=>i(v,D,a,!1),l[s+", DenseMatrix"]=(v,D)=>i(D,v,a,!0),l["Array,"+s]=(v,D)=>i(r(v),D,a,!1).valueOf(),l[s+", Array"]=(v,D)=>i(r(D),v,a,!0).valueOf()):(l["DenseMatrix,"+s]=t.referToSelf(v=>(D,h)=>i(D,h,v,!1)),l[s+", DenseMatrix"]=t.referToSelf(v=>(D,h)=>i(h,D,v,!0)),l["Array,"+s]=t.referToSelf(v=>(D,h)=>i(r(D),h,v,!1).valueOf()),l[s+", Array"]=t.referToSelf(v=>(D,h)=>i(r(h),D,v,!0).valueOf())));var d=o.sS!==void 0?o.sS:o.Ss;return a?(o.Ss&&(l["SparseMatrix,"+s]=(v,D)=>o.Ss(v,D,a,!1)),d&&(l[s+", SparseMatrix"]=(v,D)=>d(D,v,a,!0))):(o.Ss&&(l["SparseMatrix,"+s]=t.referToSelf(v=>(D,h)=>o.Ss(D,h,v,!1))),d&&(l[s+", SparseMatrix"]=t.referToSelf(v=>(D,h)=>d(h,D,v,!0)))),a&&a.signatures&&Pu(l,a.signatures),l}}),Dc="matAlgo01xDSid",mc=["typed"],gc=se(Dc,mc,e=>{var{typed:t}=e;return function(n,i,u,o){var a=n._data,f=n._size,l=n._datatype||n.getDataType(),s=i._values,c=i._index,d=i._ptr,v=i._size,D=i._datatype||i._data===void 0?i._datatype:i.getDataType();if(f.length!==v.length)throw new we(f.length,v.length);if(f[0]!==v[0]||f[1]!==v[1])throw new RangeError("Dimension mismatch. Matrix A ("+f+") must match Matrix B ("+v+")");if(!s)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var h=f[0],p=f[1],y=typeof l=="string"&&l!=="mixed"&&l===D?l:void 0,C=y?t.find(u,[y,y]):u,w,A,E=[];for(w=0;w<h;w++)E[w]=[];var m=[],_=[];for(A=0;A<p;A++){for(var b=A+1,N=d[A],M=d[A+1],P=N;P<M;P++)w=c[P],m[w]=o?C(s[P],a[w][A]):C(a[w][A],s[P]),_[w]=b;for(w=0;w<h;w++)_[w]===b?E[w][A]=m[w]:E[w][A]=a[w][A]}return n.createDenseMatrix({data:E,size:[h,p],datatype:l===n._datatype&&D===i._datatype?y:void 0})}}),yc="matAlgo04xSidSid",wc=["typed","equalScalar"],Ec=se(yc,wc,e=>{var{typed:t,equalScalar:r}=e;return function(i,u,o){var a=i._values,f=i._index,l=i._ptr,s=i._size,c=i._datatype||i._data===void 0?i._datatype:i.getDataType(),d=u._values,v=u._index,D=u._ptr,h=u._size,p=u._datatype||u._data===void 0?u._datatype:u.getDataType();if(s.length!==h.length)throw new we(s.length,h.length);if(s[0]!==h[0]||s[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+s+") must match Matrix B ("+h+")");var y=s[0],C=s[1],w,A=r,E=0,m=o;typeof c=="string"&&c===p&&c!=="mixed"&&(w=c,A=t.find(r,[w,w]),E=t.convert(0,w),m=t.find(o,[w,w]));var _=a&&d?[]:void 0,b=[],N=[],M=a&&d?[]:void 0,P=a&&d?[]:void 0,L=[],H=[],X,U,O,G,J;for(U=0;U<C;U++){N[U]=b.length;var Y=U+1;for(G=l[U],J=l[U+1],O=G;O<J;O++)X=f[O],b.push(X),L[X]=Y,M&&(M[X]=a[O]);for(G=D[U],J=D[U+1],O=G;O<J;O++)if(X=v[O],L[X]===Y){if(M){var te=m(M[X],d[O]);A(te,E)?L[X]=null:M[X]=te}}else b.push(X),H[X]=Y,P&&(P[X]=d[O]);if(M&&P)for(O=N[U];O<b.length;)X=b[O],L[X]===Y?(_[O]=M[X],O++):H[X]===Y?(_[O]=P[X],O++):b.splice(O,1)}return N[C]=b.length,i.createSparseMatrix({values:_,index:b,ptr:N,size:[y,C],datatype:c===i._datatype&&p===u._datatype?w:void 0})}}),Fc="matAlgo10xSids",Ac=["typed","DenseMatrix"],Cc=se(Fc,Ac,e=>{var{typed:t,DenseMatrix:r}=e;return function(i,u,o,a){var f=i._values,l=i._index,s=i._ptr,c=i._size,d=i._datatype;if(!f)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var v=c[0],D=c[1],h,p=o;typeof d=="string"&&(h=d,u=t.convert(u,h),p=t.find(o,[h,h]));for(var y=[],C=[],w=[],A=0;A<D;A++){for(var E=A+1,m=s[A],_=s[A+1],b=m;b<_;b++){var N=l[b];C[N]=f[b],w[N]=E}for(var M=0;M<v;M++)A===0&&(y[M]=[]),w[M]===E?y[M][A]=a?p(u,C[M]):p(C[M],u):y[M][A]=u}return new r({data:y,size:[v,D],datatype:h})}}),_c="multiplyScalar",bc=["typed"],Bc=se(_c,bc,e=>{var{typed:t}=e;return t("multiplyScalar",{"number, number":fo,"Complex, Complex":function(n,i){return n.mul(i)},"BigNumber, BigNumber":function(n,i){return n.times(i)},"bigint, bigint":function(n,i){return n*i},"Fraction, Fraction":function(n,i){return n.mul(i)},"number | Fraction | BigNumber | Complex, Unit":(r,n)=>n.multiply(r),"Unit, number | Fraction | BigNumber | Complex | Unit":(r,n)=>r.multiply(n)})}),Vi="multiply",Nc=["typed","matrix","addScalar","multiplyScalar","equalScalar","dot"],Sc=se(Vi,Nc,e=>{var{typed:t,matrix:r,addScalar:n,multiplyScalar:i,equalScalar:u,dot:o}=e,a=ho({typed:t,equalScalar:u}),f=ai({typed:t});function l(E,m){switch(E.length){case 1:switch(m.length){case 1:if(E[0]!==m[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(E[0]!==m[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+E[0]+") must match Matrix rows ("+m[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+m.length+" dimensions)")}break;case 2:switch(m.length){case 1:if(E[1]!==m[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+E[1]+") must match Vector length ("+m[0]+")");break;case 2:if(E[1]!==m[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+E[1]+") must match Matrix B rows ("+m[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+m.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+E.length+" dimensions)")}}function s(E,m,_){if(_===0)throw new Error("Cannot multiply two empty vectors");return o(E,m)}function c(E,m){if(m.storage()!=="dense")throw new Error("Support for SparseMatrix not implemented");return d(E,m)}function d(E,m){var _=E._data,b=E._size,N=E._datatype||E.getDataType(),M=m._data,P=m._size,L=m._datatype||m.getDataType(),H=b[0],X=P[1],U,O=n,G=i;N&&L&&N===L&&typeof N=="string"&&N!=="mixed"&&(U=N,O=t.find(n,[U,U]),G=t.find(i,[U,U]));for(var J=[],Y=0;Y<X;Y++){for(var te=G(_[0],M[0][Y]),ce=1;ce<H;ce++)te=O(te,G(_[ce],M[ce][Y]));J[Y]=te}return E.createDenseMatrix({data:J,size:[X],datatype:N===E._datatype&&L===m._datatype?U:void 0})}var v=t("_multiplyMatrixVector",{"DenseMatrix, any":h,"SparseMatrix, any":C}),D=t("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":p,"DenseMatrix, SparseMatrix":y,"SparseMatrix, DenseMatrix":w,"SparseMatrix, SparseMatrix":A});function h(E,m){var _=E._data,b=E._size,N=E._datatype||E.getDataType(),M=m._data,P=m._datatype||m.getDataType(),L=b[0],H=b[1],X,U=n,O=i;N&&P&&N===P&&typeof N=="string"&&N!=="mixed"&&(X=N,U=t.find(n,[X,X]),O=t.find(i,[X,X]));for(var G=[],J=0;J<L;J++){for(var Y=_[J],te=O(Y[0],M[0]),ce=1;ce<H;ce++)te=U(te,O(Y[ce],M[ce]));G[J]=te}return E.createDenseMatrix({data:G,size:[L],datatype:N===E._datatype&&P===m._datatype?X:void 0})}function p(E,m){var _=E._data,b=E._size,N=E._datatype||E.getDataType(),M=m._data,P=m._size,L=m._datatype||m.getDataType(),H=b[0],X=b[1],U=P[1],O,G=n,J=i;N&&L&&N===L&&typeof N=="string"&&N!=="mixed"&&N!=="mixed"&&(O=N,G=t.find(n,[O,O]),J=t.find(i,[O,O]));for(var Y=[],te=0;te<H;te++){var ce=_[te];Y[te]=[];for(var fe=0;fe<U;fe++){for(var he=J(ce[0],M[0][fe]),Fe=1;Fe<X;Fe++)he=G(he,J(ce[Fe],M[Fe][fe]));Y[te][fe]=he}}return E.createDenseMatrix({data:Y,size:[H,U],datatype:N===E._datatype&&L===m._datatype?O:void 0})}function y(E,m){var _=E._data,b=E._size,N=E._datatype||E.getDataType(),M=m._values,P=m._index,L=m._ptr,H=m._size,X=m._datatype||m._data===void 0?m._datatype:m.getDataType();if(!M)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var U=b[0],O=H[1],G,J=n,Y=i,te=u,ce=0;N&&X&&N===X&&typeof N=="string"&&N!=="mixed"&&(G=N,J=t.find(n,[G,G]),Y=t.find(i,[G,G]),te=t.find(u,[G,G]),ce=t.convert(0,G));for(var fe=[],he=[],Fe=[],be=m.createSparseMatrix({values:fe,index:he,ptr:Fe,size:[U,O],datatype:N===E._datatype&&X===m._datatype?G:void 0}),Ae=0;Ae<O;Ae++){Fe[Ae]=he.length;var pe=L[Ae],Ue=L[Ae+1];if(Ue>pe)for(var W=0,j=0;j<U;j++){for(var ve=j+1,de=void 0,ne=pe;ne<Ue;ne++){var ie=P[ne];W!==ve?(de=Y(_[j][ie],M[ne]),W=ve):de=J(de,Y(_[j][ie],M[ne]))}W===ve&&!te(de,ce)&&(he.push(j),fe.push(de))}}return Fe[O]=he.length,be}function C(E,m){var _=E._values,b=E._index,N=E._ptr,M=E._datatype||E._data===void 0?E._datatype:E.getDataType();if(!_)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var P=m._data,L=m._datatype||m.getDataType(),H=E._size[0],X=m._size[0],U=[],O=[],G=[],J,Y=n,te=i,ce=u,fe=0;M&&L&&M===L&&typeof M=="string"&&M!=="mixed"&&(J=M,Y=t.find(n,[J,J]),te=t.find(i,[J,J]),ce=t.find(u,[J,J]),fe=t.convert(0,J));var he=[],Fe=[];G[0]=0;for(var be=0;be<X;be++){var Ae=P[be];if(!ce(Ae,fe))for(var pe=N[be],Ue=N[be+1],W=pe;W<Ue;W++){var j=b[W];Fe[j]?he[j]=Y(he[j],te(Ae,_[W])):(Fe[j]=!0,O.push(j),he[j]=te(Ae,_[W]))}}for(var ve=O.length,de=0;de<ve;de++){var ne=O[de];U[de]=he[ne]}return G[1]=O.length,E.createSparseMatrix({values:U,index:O,ptr:G,size:[H,1],datatype:M===E._datatype&&L===m._datatype?J:void 0})}function w(E,m){var _=E._values,b=E._index,N=E._ptr,M=E._datatype||E._data===void 0?E._datatype:E.getDataType();if(!_)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var P=m._data,L=m._datatype||m.getDataType(),H=E._size[0],X=m._size[0],U=m._size[1],O,G=n,J=i,Y=u,te=0;M&&L&&M===L&&typeof M=="string"&&M!=="mixed"&&(O=M,G=t.find(n,[O,O]),J=t.find(i,[O,O]),Y=t.find(u,[O,O]),te=t.convert(0,O));for(var ce=[],fe=[],he=[],Fe=E.createSparseMatrix({values:ce,index:fe,ptr:he,size:[H,U],datatype:M===E._datatype&&L===m._datatype?O:void 0}),be=[],Ae=[],pe=0;pe<U;pe++){he[pe]=fe.length;for(var Ue=pe+1,W=0;W<X;W++){var j=P[W][pe];if(!Y(j,te))for(var ve=N[W],de=N[W+1],ne=ve;ne<de;ne++){var ie=b[ne];Ae[ie]!==Ue?(Ae[ie]=Ue,fe.push(ie),be[ie]=J(j,_[ne])):be[ie]=G(be[ie],J(j,_[ne]))}}for(var me=he[pe],Ie=fe.length,Me=me;Me<Ie;Me++){var Ye=fe[Me];ce[Me]=be[Ye]}}return he[U]=fe.length,Fe}function A(E,m){var _=E._values,b=E._index,N=E._ptr,M=E._datatype||E._data===void 0?E._datatype:E.getDataType(),P=m._values,L=m._index,H=m._ptr,X=m._datatype||m._data===void 0?m._datatype:m.getDataType(),U=E._size[0],O=m._size[1],G=_&&P,J,Y=n,te=i;M&&X&&M===X&&typeof M=="string"&&M!=="mixed"&&(J=M,Y=t.find(n,[J,J]),te=t.find(i,[J,J]));for(var ce=G?[]:void 0,fe=[],he=[],Fe=E.createSparseMatrix({values:ce,index:fe,ptr:he,size:[U,O],datatype:M===E._datatype&&X===m._datatype?J:void 0}),be=G?[]:void 0,Ae=[],pe,Ue,W,j,ve,de,ne,ie,me=0;me<O;me++){he[me]=fe.length;var Ie=me+1;for(ve=H[me],de=H[me+1],j=ve;j<de;j++)if(ie=L[j],G)for(Ue=N[ie],W=N[ie+1],pe=Ue;pe<W;pe++)ne=b[pe],Ae[ne]!==Ie?(Ae[ne]=Ie,fe.push(ne),be[ne]=te(P[j],_[pe])):be[ne]=Y(be[ne],te(P[j],_[pe]));else for(Ue=N[ie],W=N[ie+1],pe=Ue;pe<W;pe++)ne=b[pe],Ae[ne]!==Ie&&(Ae[ne]=Ie,fe.push(ne));if(G)for(var Me=he[me],Ye=fe.length,et=Me;et<Ye;et++){var Re=fe[et];ce[et]=be[Re]}}return he[O]=fe.length,Fe}return t(Vi,i,{"Array, Array":t.referTo("Matrix, Matrix",E=>(m,_)=>{l(Qe(m),Qe(_));var b=E(r(m),r(_));return Oe(b)?b.valueOf():b}),"Matrix, Matrix":function(m,_){var b=m.size(),N=_.size();return l(b,N),b.length===1?N.length===1?s(m,_,b[0]):c(m,_):N.length===1?v(m,_):D(m,_)},"Matrix, Array":t.referTo("Matrix,Matrix",E=>(m,_)=>E(m,r(_))),"Array, Matrix":t.referToSelf(E=>(m,_)=>E(r(m,_.storage()),_)),"SparseMatrix, any":function(m,_){return a(m,_,i,!1)},"DenseMatrix, any":function(m,_){return f(m,_,i,!1)},"any, SparseMatrix":function(m,_){return a(_,m,i,!0)},"any, DenseMatrix":function(m,_){return f(_,m,i,!0)},"Array, any":function(m,_){return f(r(m),_,i,!1).valueOf()},"any, Array":function(m,_){return f(r(_),m,i,!0).valueOf()},"any, any":i,"any, any, ...any":t.referToSelf(E=>(m,_,b)=>{for(var N=E(m,_),M=0;M<b.length;M++)N=E(N,b[M]);return N})})}),Hi="conj",Mc=["typed"],xc=se(Hi,Mc,e=>{var{typed:t}=e;return t(Hi,{"number | BigNumber | Fraction":r=>r,Complex:r=>r.conjugate(),"Array | Matrix":t.referToSelf(r=>n=>Ut(n,r))})}),Yi="concat",Tc=["typed","matrix","isInteger"],Pc=se(Yi,Tc,e=>{var{typed:t,matrix:r,isInteger:n}=e;return t(Yi,{"...Array | Matrix | number | BigNumber":function(u){var o,a=u.length,f=-1,l,s=!1,c=[];for(o=0;o<a;o++){var d=u[o];if(Oe(d)&&(s=!0),_e(d)||ze(d)){if(o!==a-1)throw new Error("Dimension must be specified as last argument");if(l=f,f=d.valueOf(),!n(f))throw new TypeError("Integer number expected for dimension");if(f<0||o>0&&f>l)throw new Yt(f,l+1)}else{var v=Pe(d).valueOf(),D=Qe(v);if(c[o]=v,l=f,f=D.length-1,o>0&&f!==l)throw new we(l+1,f+1)}}if(c.length===0)throw new SyntaxError("At least one matrix expected");for(var h=c.shift();c.length;)h=ro(h,c.shift(),f);return s?r(h):h},"...string":function(u){return u.join("")}})}),Gi="identity",Oc=["typed","config","matrix","BigNumber","DenseMatrix","SparseMatrix"],Ic=se(Gi,Oc,e=>{var{typed:t,config:r,matrix:n,BigNumber:i,DenseMatrix:u,SparseMatrix:o}=e;return t(Gi,{"":function(){return r.matrix==="Matrix"?n([]):[]},string:function(s){return n(s)},"number | BigNumber":function(s){return f(s,s,r.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, string":function(s,c){return f(s,s,c)},"number | BigNumber, number | BigNumber":function(s,c){return f(s,c,r.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, number | BigNumber, string":function(s,c,d){return f(s,c,d)},Array:function(s){return a(s)},"Array, string":function(s,c){return a(s,c)},Matrix:function(s){return a(s.valueOf(),s.storage())},"Matrix, string":function(s,c){return a(s.valueOf(),c)}});function a(l,s){switch(l.length){case 0:return s?n(s):[];case 1:return f(l[0],l[0],s);case 2:return f(l[0],l[1],s);default:throw new Error("Vector containing two values expected")}}function f(l,s,c){var d=ze(l)||ze(s)?i:null;if(ze(l)&&(l=l.toNumber()),ze(s)&&(s=s.toNumber()),!Le(l)||l<1)throw new Error("Parameters in function identity must be positive integers");if(!Le(s)||s<1)throw new Error("Parameters in function identity must be positive integers");var v=d?new i(1):1,D=d?new d(0):0,h=[l,s];if(c){if(c==="sparse")return o.diagonal(h,v,0,D);if(c==="dense")return u.diagonal(h,v,0,D);throw new TypeError('Unknown matrix type "'.concat(c,'"'))}for(var p=zn([],h,D),y=l<s?l:s,C=0;C<y;C++)p[C][C]=v;return p}});function Rc(){throw new Error('No "bignumber" implementation available')}function zc(){throw new Error('No "fraction" implementation available')}function qc(){throw new Error('No "matrix" implementation available')}var Ji="size",$c=["typed","config","?matrix"],Lc=se(Ji,$c,e=>{var{typed:t,config:r,matrix:n}=e;return t(Ji,{Matrix:function(u){return u.create(u.size(),"number")},Array:Qe,string:function(u){return r.matrix==="Array"?[u.length]:n([u.length],"dense","number")},"number | Complex | BigNumber | Unit | boolean | null":function(u){return r.matrix==="Array"?[]:n?n([],"dense","number"):qc()}})}),Uc="numeric",kc=["number","?bignumber","?fraction"],Xc=se(Uc,kc,e=>{var{number:t,bignumber:r,fraction:n}=e,i={string:!0,number:!0,BigNumber:!0,Fraction:!0},u={number:o=>t(o),BigNumber:r?o=>r(o):Rc,bigint:o=>BigInt(o),Fraction:n?o=>n(o):zc};return function(a){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"number",l=arguments.length>2?arguments[2]:void 0;if(l!==void 0)throw new SyntaxError("numeric() takes one or two arguments");var s=zt(a);if(!(s in i))throw new TypeError("Cannot convert "+a+' of type "'+s+'"; valid input types are '+Object.keys(i).join(", "));if(!(f in u))throw new TypeError("Cannot convert "+a+' to type "'+f+'"; valid output types are '+Object.keys(u).join(", "));return f===s?a:u[f](a)}}),ji="divideScalar",Wc=["typed","numeric"],Zc=se(ji,Wc,e=>{var{typed:t,numeric:r}=e;return t(ji,{"number, number":function(i,u){return i/u},"Complex, Complex":function(i,u){return i.div(u)},"BigNumber, BigNumber":function(i,u){return i.div(u)},"bigint, bigint":function(i,u){return i/u},"Fraction, Fraction":function(i,u){return i.div(u)},"Unit, number | Complex | Fraction | BigNumber | Unit":(n,i)=>n.divide(i),"number | Fraction | Complex | BigNumber, Unit":(n,i)=>i.divideInto(n)})}),Ki="add",Vc=["typed","matrix","addScalar","equalScalar","DenseMatrix","SparseMatrix","concat"],Hc=se(Ki,Vc,e=>{var{typed:t,matrix:r,addScalar:n,equalScalar:i,DenseMatrix:u,SparseMatrix:o,concat:a}=e,f=gc({typed:t}),l=Ec({typed:t,equalScalar:i}),s=Cc({typed:t,DenseMatrix:u}),c=pc({typed:t,matrix:r,concat:a});return t(Ki,{"any, any":n,"any, any, ...any":t.referToSelf(d=>(v,D,h)=>{for(var p=d(v,D),y=0;y<h.length;y++)p=d(p,h[y]);return p})},c({elop:n,DS:f,SS:l,Ss:s}))}),Qi="dot",Yc=["typed","addScalar","multiplyScalar","conj","size"],Gc=se(Qi,Yc,e=>{var{typed:t,addScalar:r,multiplyScalar:n,conj:i,size:u}=e;return t(Qi,{"Array | DenseMatrix, Array | DenseMatrix":a,"SparseMatrix, SparseMatrix":f});function o(s,c){var d=l(s),v=l(c),D,h;if(d.length===1)D=d[0];else if(d.length===2&&d[1]===1)D=d[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+d.join(", ")+")");if(v.length===1)h=v[0];else if(v.length===2&&v[1]===1)h=v[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+v.join(", ")+")");if(D!==h)throw new RangeError("Vectors must have equal length ("+D+" != "+h+")");if(D===0)throw new RangeError("Cannot calculate the dot product of empty vectors");return D}function a(s,c){var d=o(s,c),v=Oe(s)?s._data:s,D=Oe(s)?s._datatype||s.getDataType():void 0,h=Oe(c)?c._data:c,p=Oe(c)?c._datatype||c.getDataType():void 0,y=l(s).length===2,C=l(c).length===2,w=r,A=n;if(D&&p&&D===p&&typeof D=="string"&&D!=="mixed"){var E=D;w=t.find(r,[E,E]),A=t.find(n,[E,E])}if(!y&&!C){for(var m=A(i(v[0]),h[0]),_=1;_<d;_++)m=w(m,A(i(v[_]),h[_]));return m}if(!y&&C){for(var b=A(i(v[0]),h[0][0]),N=1;N<d;N++)b=w(b,A(i(v[N]),h[N][0]));return b}if(y&&!C){for(var M=A(i(v[0][0]),h[0]),P=1;P<d;P++)M=w(M,A(i(v[P][0]),h[P]));return M}if(y&&C){for(var L=A(i(v[0][0]),h[0][0]),H=1;H<d;H++)L=w(L,A(i(v[H][0]),h[H][0]));return L}}function f(s,c){o(s,c);for(var d=s._index,v=s._values,D=c._index,h=c._values,p=0,y=r,C=n,w=0,A=0;w<d.length&&A<D.length;){var E=d[w],m=D[A];if(E<m){w++;continue}if(E>m){A++;continue}E===m&&(p=y(p,C(v[w],h[A])),w++,A++)}return p}function l(s){return Oe(s)?s.size():u(s)}}),eu="det",Jc=["typed","matrix","subtractScalar","multiply","divideScalar","isZero","unaryMinus"],jc=se(eu,Jc,e=>{var{typed:t,matrix:r,subtractScalar:n,multiply:i,divideScalar:u,isZero:o,unaryMinus:a}=e;return t(eu,{any:function(s){return Pe(s)},"Array | Matrix":function(s){var c;switch(Oe(s)?c=s.size():Array.isArray(s)?(s=r(s),c=s.size()):c=[],c.length){case 0:return Pe(s);case 1:if(c[0]===1)return Pe(s.valueOf()[0]);if(c[0]===0)return 1;throw new RangeError("Matrix must be square (size: "+$e(c)+")");case 2:{var d=c[0],v=c[1];if(d===v)return f(s.clone().valueOf(),d);if(v===0)return 1;throw new RangeError("Matrix must be square (size: "+$e(c)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+$e(c)+")")}}});function f(l,s,c){if(s===1)return Pe(l[0][0]);if(s===2)return n(i(l[0][0],l[1][1]),i(l[1][0],l[0][1]));for(var d=!1,v=new Array(s).fill(0).map((_,b)=>b),D=0;D<s;D++){var h=v[D];if(o(l[h][D])){var p=void 0;for(p=D+1;p<s;p++)if(!o(l[v[p]][D])){h=v[p],v[p]=v[D],v[D]=h,d=!d;break}if(p===s)return l[h][D]}for(var y=l[h][D],C=D===0?1:l[v[D-1]][D-1],w=D+1;w<s;w++)for(var A=v[w],E=D+1;E<s;E++)l[A][E]=u(n(i(l[A][E],y),i(l[A][D],l[h][E])),C)}var m=l[v[s-1]][s-1];return d?a(m):m}}),tu="inv",Kc=["typed","matrix","divideScalar","addScalar","multiply","unaryMinus","det","identity","abs"],Qc=se(tu,Kc,e=>{var{typed:t,matrix:r,divideScalar:n,addScalar:i,multiply:u,unaryMinus:o,det:a,identity:f,abs:l}=e;return t(tu,{"Array | Matrix":function(d){var v=Oe(d)?d.size():Qe(d);switch(v.length){case 1:if(v[0]===1)return Oe(d)?r([n(1,d.valueOf()[0])]):[n(1,d[0])];throw new RangeError("Matrix must be square (size: "+$e(v)+")");case 2:{var D=v[0],h=v[1];if(D===h)return Oe(d)?r(s(d.valueOf(),D,h),d.storage()):s(d,D,h);throw new RangeError("Matrix must be square (size: "+$e(v)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+$e(v)+")")}},any:function(d){return n(1,d)}});function s(c,d,v){var D,h,p,y,C;if(d===1){if(y=c[0][0],y===0)throw Error("Cannot calculate inverse, determinant is zero");return[[n(1,y)]]}else if(d===2){var w=a(c);if(w===0)throw Error("Cannot calculate inverse, determinant is zero");return[[n(c[1][1],w),n(o(c[0][1]),w)],[n(o(c[1][0]),w),n(c[0][0],w)]]}else{var A=c.concat();for(D=0;D<d;D++)A[D]=A[D].concat();for(var E=f(d).valueOf(),m=0;m<v;m++){var _=l(A[m][m]),b=m;for(D=m+1;D<d;)l(A[D][m])>_&&(_=l(A[D][m]),b=D),D++;if(_===0)throw Error("Cannot calculate inverse, determinant is zero");D=b,D!==m&&(C=A[m],A[m]=A[D],A[D]=C,C=E[m],E[m]=E[D],E[D]=C);var N=A[m],M=E[m];for(D=0;D<d;D++){var P=A[D],L=E[D];if(D!==m){if(P[m]!==0){for(p=n(o(P[m]),N[m]),h=m;h<v;h++)P[h]=i(P[h],u(p,N[h]));for(h=0;h<v;h++)L[h]=i(L[h],u(p,M[h]))}}else{for(p=N[m],h=m;h<v;h++)P[h]=n(P[h],p);for(h=0;h<v;h++)L[h]=n(L[h],p)}}}return E}}}),e0="divide",t0=["typed","matrix","multiply","equalScalar","divideScalar","inv"],r0=se(e0,t0,e=>{var{typed:t,matrix:r,multiply:n,equalScalar:i,divideScalar:u,inv:o}=e,a=ho({typed:t,equalScalar:i}),f=ai({typed:t});return t("divide",Pu({"Array | Matrix, Array | Matrix":function(s,c){return n(s,o(c))},"DenseMatrix, any":function(s,c){return f(s,c,u,!1)},"SparseMatrix, any":function(s,c){return a(s,c,u,!1)},"Array, any":function(s,c){return f(r(s),c,u,!1).valueOf()},"any, Array | Matrix":function(s,c){return n(s,o(c))}},u.signatures))}),si=Hl({config:Sr}),n0=Kl({}),vo=of({}),li=lf({}),mn=_f({Matrix:li}),Se=Js({BigNumber:si,Complex:n0,DenseMatrix:mn,Fraction:vo}),i0=ec({typed:Se}),gn=rc({typed:Se}),u0=xc({typed:Se}),Mr=Of({config:Sr,typed:Se}),o0=Bf({typed:Se}),a0=Mf({equalScalar:Mr,typed:Se}),po=Bc({typed:Se}),s0=kf({typed:Se}),fi=zf({Matrix:li,equalScalar:Mr,typed:Se}),l0=ic({typed:Se}),f0=Zf({BigNumber:si,typed:Se}),kt=Jf({DenseMatrix:mn,Matrix:li,SparseMatrix:fi,typed:Se}),c0=Pc({isInteger:o0,matrix:kt,typed:Se}),st=Yf({Fraction:vo,typed:Se}),h0=Ic({BigNumber:si,DenseMatrix:mn,SparseMatrix:fi,config:Sr,matrix:kt,typed:Se}),d0=Xc({bignumber:f0,fraction:st,number:s0}),v0=Lc({matrix:kt,config:Sr,typed:Se}),Do=Kf({typed:Se}),p0=Hc({DenseMatrix:mn,SparseMatrix:fi,addScalar:gn,concat:c0,equalScalar:Mr,matrix:kt,typed:Se}),ci=Zc({numeric:d0,typed:Se}),D0=Gc({addScalar:gn,conj:u0,multiplyScalar:po,size:v0,typed:Se}),Ar=Sc({addScalar:gn,dot:D0,equalScalar:Mr,matrix:kt,multiplyScalar:po,typed:Se}),m0=jc({divideScalar:ci,isZero:a0,matrix:kt,multiply:Ar,subtractScalar:l0,typed:Se,unaryMinus:Do}),g0=Qc({abs:i0,addScalar:gn,det:m0,divideScalar:ci,identity:h0,matrix:kt,multiply:Ar,typed:Se,unaryMinus:Do}),y0=r0({divideScalar:ci,equalScalar:Mr,inv:g0,matrix:kt,multiply:Ar,typed:Se});class Cr{static parse(t,r,n,i,u){return new Cr({type:Number(t),bpm:r,scroll:n,time:i,branch:u})}constructor(t){this.type=t.type,this.bpm=t.bpm,this.scroll=t.scroll,this.time=t.time,this.branch=t.branch}}(e=>{(t=>{t.empty=0,t.don=1,t.ka=2,t.DON=3,t.KA=4,t.roll=5,t.ROLL=6,t.balloon=7,t.endroll=8,t.CODON=10,t.COKA=11})(e.NoteType||(e.NoteType={}))})(Cr||(Cr={}));class nn{static parseTempBars(t,r){const n={bpm:st(r.song.getBPM()),scroll:st(1),barline:!0,branch:0,branchTime:null,time:st(0),measure:{n:4,d:4}};return t.map(u=>nn.parse(u,n,r))}static parse(t,r,n){const i=[],u=[],o=[];let a=r.time,f=r.bpm,l=r.scroll,s=r.barline,c=!0,d=r.branch,v=0;return t.forEach(D=>{D.type==="notes"&&(D.value.endsWith(",")?v+=D.value.length-1:v+=D.value.length)}),t.forEach(D=>{if(D.type==="command"){const h=Qn.parse(D.value,r.time);switch(o.push(h),i.push(h),h.name){case"BPMCHANGE":{r.bpm=st(Number(h.value)),c&&(f=r.bpm);break}case"SCROLL":{r.scroll=st(Number(h.value)),c&&(l=r.scroll);break}case"MEASURE":{const p=h.value.split("/");r.measure={n:Number(p[0]),d:Number(p[1])};break}case"BARLINEON":{r.barline=!0,c&&(s=r.barline);break}case"BARLINEOFF":{r.barline=!1,c&&(s=r.barline);break}case"BRANCHSTART":{r.branch=0,r.branchTime=r.time,c&&(d=r.branch);break}case"N":{r.time=r.branchTime,r.branch=1,c&&(a=r.time),c&&(d=r.branch);break}case"E":{r.time=r.branchTime,r.branch=2,c&&(a=r.time),c&&(d=r.branch);break}case"M":{r.time=r.branchTime,r.branch=3,c&&(a=r.time),c&&(d=r.branch);break}case"BRANCHEND":{r.branch=0,r.branchTime=null,c&&(d=r.branch);break}}}else{c=!1;for(const h of D.value){if(h===",")break;const p=st(v===0?0:y0(Ar(240,r.measure.n/r.measure.d),Ar(r.bpm,v)));if(h!=="0"){const y=Cr.parse(h,r.bpm,r.scroll,r.time,r.branch);u.push(y),i.push(y)}r.time=st(p0(r.time,p))}}}),new nn({time:a,entries:i,notes:u,commands:o,course:n,bpm:f,scroll:l,barline:s,branch:d})}constructor(t){this.entries=t.entries,this.notes=t.notes,this.commands=t.commands,this.course=t.course,this.time=t.time,this.bpm=t.bpm,this.scroll=t.scroll,this.barline=t.barline,this.branch=t.branch}toJSON(){return{entries:this.entries,notes:this.notes,commands:this.commands,time:this.time}}}class hi{static parse(t,r){var D,h;const n=t.split(`
`).map(p=>p.trim()),i={},u=[],o=[],a=[],f=[[]];let l=0,s=!0;for(;l<n.length;){const p=n[l];if(p==="#START")s=!1;else if(s){const[y,C]=xr.parseMetadata(p);y&&(i[y]=C)}else p.startsWith("#")?((D=f.at(-1))==null||D.push({type:"command",value:p}),p==="#END"&&f.pop()):((h=f.at(-1))==null||h.push({type:"notes",value:p}),p.endsWith(",")&&f.push([]));l++}let c;{const p=(i.COURSE??"easy").toLowerCase();if(p==="easy"||p==="0")c="easy";else if(p==="normal"||p==="1")c="normal";else if(p==="hard"||p==="2")c="hard";else if(p==="oni"||p==="3")c="oni";else if(p==="edit"||p==="4")c="edit";else throw new Vr("UNKNOWN_DIFFICULTY")}const d=new hi({metadata:i,notes:u,entries:o,difficulty:c,commands:a,bars:[],song:r}),v=nn.parseTempBars(f,d);return d.bars=v,v.forEach(p=>{u.push(...p.notes),a.push(...p.commands),o.push(...p.entries)}),d}constructor(t){this.metadata=t.metadata,this.entries=t.entries,this.notes=t.notes,this.commands=t.commands,this.difficulty=t.difficulty,this.bars=t.bars,this.song=t.song}toJSON(){return{metadata:this.metadata,notes:this.notes,commands:this.commands,difficulty:this.difficulty,bars:this.bars}}}class xr{constructor(t){this.metadata={},this.courses={},this.metadata=t.metadata,this.courses=t.courses}static parse(t){const r=t.split(`
`).map(a=>a.trim()),n={},i={},u=new xr({courses:n,metadata:i});let o=0;for(;o<r.length;){const a=r[o];if(a.length===0)o++;else if(a.startsWith("COURSE")){let f=o+1;for(;;){if(f>=r.length)throw new Vr("TJA_COURSE_NOT_ENDED");if(r[f]==="#END")break;f++}const l=r.slice(o,f+1).join(`
`),s=hi.parse(l,u);n[s.difficulty]=s,o=f+1}else{const f=this.parseMetadata(a);i[f[0]]=f[1],o++}}return u}static parseMetadata(t){let r="",n="",i=0;for(let u=0;u<t.length;u++){const o=t[u];o===":"?i=1:i===0?r+=o:n+=o}return[r.trim(),n.trim()]}getBPM(){const t=Number(this.metadata.BPM??"1");return Number.isNaN(t)?1:t}getOffset(){const t=Number(this.metadata.OFFSET??"0");return Number.isNaN(t)?0:t}getSongVol(){const t=Number(this.metadata.SONGVOL??"0");return Number.isNaN(t)?0:t}getSEVol(){const t=Number(this.metadata.SEVOL??"0");return Number.isNaN(t)?0:t}getDemoStart(){const t=Number(this.metadata.DEMOSTART??"0");return Number.isNaN(t)?0:t}}class w0{constructor(t){this.isPlaying=!1,this.sourceNode=null,this.audioContext=null,this.onPlay=null,this.onStop=null,this.coursePlayer=t}async setAudio(t){this.audioContext=new AudioContext,this.audioBuffer=await this.audioContext.decodeAudioData(await t.arrayBuffer())}play(){var t;this.isPlaying,this.audioContext&&this.audioBuffer&&(this.sourceNode=this.audioContext.createBufferSource(),this.sourceNode.buffer=this.audioBuffer,this.sourceNode.connect(this.audioContext.destination),this.sourceNode.start(this.audioContext.currentTime+1)),this.isPlaying=!0,(t=this.onPlay)==null||t.call(this)}stop(){var t,r;this.isPlaying&&((t=this.sourceNode)==null||t.stop(),this.isPlaying=!0,(r=this.onStop)==null||r.call(this))}}class ht{constructor(t){this.coursePlayer=t}getXCoor({elapsed:t,bpm:r,scroll:n,time:i}){return this.coursePlayer.hitXCoor+(i.valueOf()-t/1e3)*this.coursePlayer.width*(n.valueOf()*r.valueOf()/240)}render(t,r){const{ctx:n}=this.coursePlayer;switch(t.type){case ht.RENDERING_DATA_TYPE.BAR:return r>0&&t.bar.branch>0&&t.bar.branch!=r||t.x<0-this.coursePlayer.noteRadius*2?!1:(t.x>this.coursePlayer.width+this.coursePlayer.noteRadius*2||!t.bar.barline||(n.fillStyle="white",n.fillRect(t.x-1,0,2,this.coursePlayer.height)),!0);case ht.RENDERING_DATA_TYPE.NORMAL:{if(r>0&&t.note.branch>0&&t.note.branch!=r)return!1;let i=t.noteType===3||t.noteType===4,u=i?this.coursePlayer.noteRadius*1.3:this.coursePlayer.noteRadius;if(t.x<0-u*2)return!1;if(t.x>this.coursePlayer.width+u*2)return!0;let o=t.noteType%2===0?"#42bfbd":"#f84927";return n.beginPath(),n.lineWidth=0,n.arc(t.x,this.coursePlayer.height/2,u,0,2*Math.PI),n.fillStyle="black",n.fill(),n.closePath(),n.beginPath(),n.lineWidth=0,n.arc(t.x,this.coursePlayer.height/2,i?u*(1-1/(12*1.3)):u*(1-1/12),0,2*Math.PI),n.fillStyle="#ece7d9",n.fill(),n.closePath(),n.beginPath(),n.lineWidth=0,n.arc(t.x,this.coursePlayer.height/2,u*3/4,0,2*Math.PI),n.fillStyle=o??"",n.fill(),n.closePath(),!0}case ht.RENDERING_DATA_TYPE.ROLL:{if(r>0&&t.startNote.branch>0&&t.startNote.branch!=r)return!1;let i=t.noteType===6,u=i?this.coursePlayer.noteRadius*1.3:this.coursePlayer.noteRadius;if(t.endX<0-u*2)return!1;if(t.startX>this.coursePlayer.width+u*2)return!0;const o=Math.max(t.startX,0),a=Math.min(t.endX,this.coursePlayer.width),f="#f7b800",l=this.coursePlayer.noteRadius/12,s=l/2;return n.beginPath(),n.lineWidth=l,n.moveTo(o,this.coursePlayer.height/2-u+s),n.lineTo(a,this.coursePlayer.height/2-u+s),n.arc(a,this.coursePlayer.height/2,u-s,Math.PI*-1*.5,Math.PI*.5),n.moveTo(a,this.coursePlayer.height/2+u-s),n.lineTo(o,this.coursePlayer.height/2+u-s),n.arc(o,this.coursePlayer.height/2,u-s,Math.PI*.5,Math.PI*1.5),n.fillStyle=f,n.fill(),n.strokeStyle="black",n.stroke(),n.closePath(),n.beginPath(),n.lineWidth=0,n.arc(t.startX,this.coursePlayer.height/2,u,0,2*Math.PI),n.fillStyle="black",n.fill(),n.closePath(),n.beginPath(),n.lineWidth=0,n.arc(t.startX,this.coursePlayer.height/2,i?u*(1-1/(12*1.3)):u*(1-1/12),0,2*Math.PI),n.fillStyle="#ece7d9",n.fill(),n.closePath(),n.beginPath(),n.lineWidth=0,n.arc(t.startX,this.coursePlayer.height/2,u*3/4,0,2*Math.PI),n.fillStyle=f,n.fill(),n.closePath(),!0}case ht.RENDERING_DATA_TYPE.BALLOON:{if(r>0&&t.startNote.branch>0&&t.startNote.branch!=r)return!1;let i=this.coursePlayer.noteRadius;const u=t.startX>this.coursePlayer.hitXCoor?t.startX:t.endX>this.coursePlayer.hitXCoor?this.coursePlayer.hitXCoor:t.endX;if(u<0-i*2)return!1;if(u>this.coursePlayer.width+i*2)return!0;const o="#f97900";return n.beginPath(),n.lineWidth=0,n.arc(u,this.coursePlayer.height/2,i,0,2*Math.PI),n.fillStyle="black",n.fill(),n.closePath(),n.beginPath(),n.lineWidth=0,n.arc(u,this.coursePlayer.height/2,this.coursePlayer.noteRadius?i*(1-1/(12*1.3)):i*(1-1/12),0,2*Math.PI),n.fillStyle="#ece7d9",n.fill(),n.closePath(),n.beginPath(),n.lineWidth=0,n.arc(u,this.coursePlayer.height/2,i*3/4,0,2*Math.PI),n.fillStyle=o,n.fill(),n.closePath(),!0}default:return!1}}}(e=>{e.RENDERING_DATA_TYPE={BAR:0,NORMAL:1,ROLL:2,BALLOON:3}})(ht||(ht={}));class E0{constructor(t,r){this.animationId=null,this.branch=1,this.isPlaying=!1,this.playingOption={speed:1.1,noScroll:!1},this.onPlay=null,this.onStop=null,this.course=t,this.canvas=document.createElement("canvas"),this.canvas.width=(r==null?void 0:r.width)??1e3,this.canvas.height=this.height,this.ctx=this.canvas.getContext("2d"),this.courseRenderer=new ht(this),this.canvas.style.backgroundColor="#282828",this.audioPlayer=new w0(this)}get width(){return this.canvas.width}set width(t){this.canvas.width=t,this.canvas.height=this.height}get height(){return this.canvas.width*320/237*13/128}get hitXCoor(){return this.canvas.width*320/237/16}get noteRadius(){return this.width*320/237*87/3200}get yCoor(){return this.height/2}get speed(){return this.playingOption.speed}set speed(t){this.playingOption.speed=t}get noScroll(){return this.playingOption.noScroll}set noScroll(t){this.playingOption.noScroll=t}setBranch(t){this.branch=t}play(){var l,s,c;if(this.isPlaying)return;this.ctx.reset();let t;const r=(((s=(l=this.course.bars.at(-1).entries)==null?void 0:l.at(-1))==null?void 0:s.time)??this.course.bars.at(-1).time).valueOf()*1e3+1e3,n=[],i=[],u=this;let o=null;this.course.bars.forEach(d=>{i.push({type:ht.RENDERING_DATA_TYPE.BAR,x:0,bar:d}),d.notes.forEach(v=>{switch(v.type){case 1:case 2:case 3:case 4:return n.push({type:ht.RENDERING_DATA_TYPE.NORMAL,x:0,noteType:v.type,note:v});case 5:case 6:case 7:return o=v;case 8:{if(!o)return;switch(o.type){case 5:case 6:return n.push({type:ht.RENDERING_DATA_TYPE.ROLL,startX:0,endX:0,noteType:o.type,startNote:o,endNote:v}),o=null;case 7:return n.push({type:ht.RENDERING_DATA_TYPE.BALLOON,startX:0,endX:0,noteType:o.type,startNote:o,endNote:v}),o=null}}}})}),this.animationId=requestAnimationFrame(a),this.audioPlayer.play(),this.isPlaying=!0,(c=this.onPlay)==null||c.call(this);function a(d){t||(t=d-u.course.song.getOffset()*1e3+1e3);const{ctx:v}=u;v.reset(),v.fillStyle="#282828",v.fillRect(0,0,u.width,u.height),f();const D=d-t;if(D>r)return u.stop();i.toReversed().forEach(h=>{let p=h.bar;h.x=u.courseRenderer.getXCoor({elapsed:D,bpm:p.bpm,scroll:u.playingOption.noScroll?st(1):p.scroll.valueOf()*u.playingOption.speed,time:p.time}),u.courseRenderer.render(h,u.branch)}),n.toReversed().forEach(h=>{switch(h.type){case 1:{let p=h.note;h.x=u.courseRenderer.getXCoor({elapsed:D,bpm:p.bpm,scroll:u.playingOption.noScroll?st(1):p.scroll.valueOf()*u.playingOption.speed,time:p.time});break}case 2:case 3:{let p=h.startNote,y=h.endNote;h.startX=u.courseRenderer.getXCoor({elapsed:D,bpm:p.bpm,scroll:u.playingOption.noScroll?st(1):p.scroll.valueOf()*u.playingOption.speed,time:p.time}),h.endX=u.courseRenderer.getXCoor({elapsed:D,bpm:y.bpm,scroll:u.playingOption.noScroll?st(1):y.scroll.valueOf()*u.playingOption.speed,time:y.time});break}}u.courseRenderer.render(h,u.branch)}),u.animationId=requestAnimationFrame(a)}function f(){const{ctx:d}=u,v="gray";d.beginPath(),d.arc(u.hitXCoor,u.height/2,u.noteRadius,0,2*Math.PI),d.stroke(),d.fillStyle=v,d.fill(),d.closePath()}}stop(){var t;this.isPlaying&&(this.animationId&&cancelAnimationFrame(this.animationId),this.audioPlayer.stop(),this.isPlaying=!1,(t=this.onStop)==null||t.call(this))}}async function F0(e,t,r,n,i,u){var f,l;const o=(l=(f=$(t))==null?void 0:f.files)==null?void 0:l[0];if(!o||!$(t))return;r(),le(n,null),le(i,null);try{const s=await a(o);le(u,gt(xr.parse(s))),le(n,gt(Object.keys($(u).courses)[0]??null)),alert("Loading Successful")}catch{alert("Loading Failed")}function a(s){return new Promise((c,d)=>{const v=new FileReader;v.onload=()=>c(v.result),v.onerror=()=>d(v.error),v.readAsText(s)})}}var A0=Ht('<option class="svelte-y19ibe"> </option>'),C0=Ht('<div class="field svelte-y19ibe"><div class="left svelte-y19ibe">FPS</div> <div class="right svelte-y19ibe"><input type="number" placeholder="FPS" class="svelte-y19ibe"></div></div> <div class="field svelte-y19ibe"><div class="left svelte-y19ibe">Width</div> <div class="right svelte-y19ibe"><input type="number" placeholder="px" class="svelte-y19ibe"></div></div> <div class="field svelte-y19ibe"><div class="left svelte-y19ibe">Bitrate</div> <div class="right svelte-y19ibe"><input type="number" placeholder="kbps" class="svelte-y19ibe"></div></div>',1),_0=Ht('<main class="svelte-y19ibe"><div class="player-container svelte-y19ibe"></div> <div class="controller-container svelte-y19ibe"><div class="field svelte-y19ibe"><div class="left svelte-y19ibe">Tja</div> <div class="right svelte-y19ibe"><input type="file" accept=".tja" class="svelte-y19ibe"></div></div> <div class="field svelte-y19ibe"><div class="left svelte-y19ibe">Audio</div> <div class="right svelte-y19ibe"><input type="file" accept="audio/*" class="svelte-y19ibe"></div></div> <div class="field svelte-y19ibe"><div class="left svelte-y19ibe">Difficulty</div> <div class="right svelte-y19ibe"><select class="svelte-y19ibe"></select></div></div> <div class="field svelte-y19ibe"><div class="left svelte-y19ibe">Play / Stop</div> <div class="right svelte-y19ibe"><button class="svelte-y19ibe">Play</button> <button class="svelte-y19ibe">Stop</button></div></div> <div class="field svelte-y19ibe"><div class="left svelte-y19ibe">Speed</div> <div class="right svelte-y19ibe"><input type="number" class="svelte-y19ibe"></div></div> <div class="field svelte-y19ibe"><div class="left svelte-y19ibe">No scroll</div> <div class="right svelte-y19ibe"><label class="svelte-y19ibe"><input type="checkbox" class="svelte-y19ibe"></label></div></div> <div class="field svelte-y19ibe"><div class="left svelte-y19ibe">Download</div> <div class="right svelte-y19ibe"><label class="svelte-y19ibe"><input type="checkbox" class="svelte-y19ibe"></label></div></div> <!></div></main>');function b0(e,t){Jn(t,!0);let r=Ne(void 0),n=Ne(void 0),i=Ne(void 0),u=Ne(null),o=Ne(null),a=Ne(null),f=Ne(1),l=Ne(!1),s=null,c=Ne(!1),d=Ne(60),v=Ne(1e3),D=Ne(8e3);lu(()=>{$(a)&&($(a).speed=$(f)),$(a)&&($(a).noScroll=$(l))});async function h(){var ve,de,ne,ie,me;const W=(de=(ve=$(u))==null?void 0:ve.courses)==null?void 0:de[$(o)];if(!W)return;p(),le(a,gt(new E0(W,{width:$(v)}))),(ne=$(r))==null||ne.append($(a).canvas),$(a).canvas.style.width="100%";const j=(me=(ie=$(i))==null?void 0:ie.files)==null?void 0:me[0];j&&await $(a).audioPlayer.setAudio(j),$(c)&&($(a).onPlay=()=>{var vt,Mt,g,F;if(!$(a))return;const Ie=$(a).canvas.captureStream($(d)??60),Me=((Mt=(vt=$(a).audioPlayer.audioContext)==null?void 0:vt.createMediaStreamDestination)==null?void 0:Mt.call(vt))??null;Me&&((F=(g=$(a).audioPlayer)==null?void 0:g.sourceNode)==null||F.connect(Me));const Ye=[...Ie.getVideoTracks()];Me&&Ye.push(...Me.stream.getAudioTracks());const et=new MediaStream(Ye);s=new MediaRecorder(et,{mimeType:"video/webm; codecs=vp9",videoBitsPerSecond:$(D)*1024});const Re=[];s.ondataavailable=B=>{B.data.size>6&&Re.push(B.data)},s.onstop=()=>{const B=new Blob(Re,{type:"video/webm"}),x=URL.createObjectURL(B),T=document.createElement("a");T.href=x,T.download="recording.webm",T.textContent="Download Video",T.click(),console.log(x),T.remove()},s.start()},$(a).onStop=()=>{s==null||s.stop()}),$(a).play()}function p(){var W,j;(W=$(r))==null||W.replaceChildren(),(j=$(a))==null||j.stop()}var y=_0(),C=re(y);nr(C,W=>le(r,W),()=>$(r));var w=oe(C,2),A=re(w),E=oe(re(A),2),m=re(E);nr(m,W=>le(n,W),()=>$(n)),m.__change=[F0,n,p,o,a,u];var _=oe(A,2),b=oe(re(_),2),N=re(b);nr(N,W=>le(i,W),()=>$(i));var M=oe(_,2),P=oe(re(M),2),L=re(P);bu(L,20,()=>["easy","normal","hard","oni","edit"],_u,(W,j)=>{var ve=Au(),de=mr(ve);Wr(de,()=>{var ne,ie;return(ie=(ne=$(u))==null?void 0:ne.courses)==null?void 0:ie[j]},ne=>{var ie=A0(),me={},Ie=re(ie);fu(()=>{me!==(me=j)&&(ie.value=(ie.__value=j)==null?"":j),Cu(Ie,j)}),bt(ne,ie)}),bt(W,ve)});var H=oe(M,2),X=oe(re(H),2),U=re(X);U.__click=h;var O=oe(U,2);O.__click=p;var G=oe(H,2),J=oe(re(G),2),Y=re(J),te=oe(G,2),ce=oe(re(te),2),fe=re(ce),he=re(fe),Fe=oe(te,2),be=oe(re(Fe),2),Ae=re(be),pe=re(Ae),Ue=oe(Fe,2);Wr(Ue,()=>$(c),W=>{var j=C0(),ve=mr(j),de=oe(re(ve),2),ne=re(de),ie=oe(ve,2),me=oe(re(ie),2),Ie=re(me),Me=oe(ie,2),Ye=oe(re(Me),2),et=re(Ye);Ot(ne,()=>$(d),Re=>le(d,Re)),Ot(Ie,()=>$(v),Re=>le(v,Re)),Ot(et,()=>$(D),Re=>le(D,Re)),bt(W,j)}),Nu(L,()=>$(o),W=>le(o,W)),Ot(Y,()=>$(f),W=>le(f,W)),Zr(he,()=>$(l),W=>le(l,W)),Zr(pe,()=>$(c),W=>le(c,W)),bt(e,y),jn()}Fu(["change","click"]);class fr{constructor(t,r){this.isPlaying=!1,this.branch=1,this.playOption={speed:1.1,noScroll:!1},this.onPlay=null,this.onStop=null,this.course=t,this.canvas=(r==null?void 0:r.canvas)??document.createElement("canvas"),this.width=r.width??1e3,this.ctx=this.canvas.getContext("2d"),this.renderer=new fr.Renderer(this),this.audioPlayer=new fr.AudioPlayer(this)}get width(){return this.canvas.width}set width(t){this.canvas.width=t,this.canvas.height=this.height}get height(){return this.laneWidth*320/237*13/128}get laneWidth(){return this.width/(.1371308016877637+1)}get laneStart(){return this.width-this.laneWidth}play(){var c,d,v;if(this.isPlaying)return;const t=this;t.ctx.reset();let r;const n=(((d=(c=t.course.bars.at(-1).entries)==null?void 0:c.at(-1))==null?void 0:d.time)??t.course.bars.at(-1).time).valueOf()*1e3+1e3,i=[],u=[];let o=null;t.course.bars.forEach(D=>f(D)),i.reverse(),u.reverse(),requestAnimationFrame(a),this.audioPlayer.play(),t.isPlaying=!0,(v=this.onPlay)==null||v.call(this);function a(D){r||(r=D-t.course.song.getOffset()*1e3+1e3);const h=D-r;if(h>=n)return t.stop();t.renderer.fillBackground(),t.renderer.drawHit(),i.forEach(p=>l(p,h)),u.forEach(p=>s(p,h)),i.forEach(p=>t.renderer.renderBar(p,t.branch)),u.forEach(p=>t.renderer.renderNote(p,t.branch)),t.renderer.drawDrum(),requestAnimationFrame(a)}function f(D){i.push({type:0,bar:D,x:0}),D.notes.forEach(h=>{switch(h.type){case 1:case 2:case 3:case 4:return u.push({type:1,x:0,y:0,note:h});case 5:case 6:case 7:return o=h;case 8:{if(!o)return;switch(o.type){case 5:case 6:return u.push({type:2,startX:0,endX:0,startNote:o,endNote:h}),o=null;case 7:return u.push({type:3,startX:0,endX:0,startNote:o,endNote:h}),o=null}}}})}function l(D,h){D.x=t.renderer.getXCoor({elapsed:h,bpm:D.bar.bpm,scroll:t.playOption.noScroll?t.playOption.speed:t.playOption.speed*D.bar.scroll.valueOf(),time:D.bar.time})}function s(D,h){switch(D.type){case 1:{const{x:p,y}=t.renderer.getNormalNoteCoor({elapsed:h,bpm:D.note.bpm,scroll:t.playOption.noScroll?t.playOption.speed:t.playOption.speed*D.note.scroll.valueOf(),time:D.note.time});D.x=p,D.y=y;break}case 2:case 3:{D.startX=t.renderer.getXCoor({elapsed:h,bpm:D.startNote.bpm,scroll:t.playOption.noScroll?t.playOption.speed:t.playOption.speed*D.startNote.scroll.valueOf(),time:D.startNote.time}),D.endX=t.renderer.getXCoor({elapsed:h,bpm:D.endNote.bpm,scroll:t.playOption.noScroll?t.playOption.speed:t.playOption.speed*D.endNote.scroll.valueOf(),time:D.endNote.time});break}}}}stop(){var t;this.isPlaying&&(this.audioPlayer.stop(),this.isPlaying=!1,(t=this.onStop)==null||t.call(this))}}(e=>{class t{constructor(i){this.player=i}get hitXCoor(){return this.player.laneStart+this.player.laneWidth*320/237/16}get noteRadius(){return this.player.laneWidth*320/237*87/3200}fillBackground(){const{ctx:i}=this.player;i.fillStyle="black",i.fillRect(0,0,this.player.height,this.player.height),i.fillStyle="#282828",i.fillRect(this.player.height,0,this.player.laneWidth,this.player.height)}drawDrum(){const{ctx:i}=this.player;i.fillStyle="black",i.fillRect(0,0,this.player.height,this.player.height)}drawHit(){const{ctx:i}=this.player,u="gray";i.beginPath(),i.arc(this.hitXCoor,this.player.height/2,this.noteRadius,0,2*Math.PI),i.stroke(),i.fillStyle=u,i.fill(),i.closePath()}getXCoor({elapsed:i,bpm:u,scroll:o,time:a}){return this.hitXCoor+(a.valueOf()-i/1e3)*this.player.laneWidth*(o.valueOf()*u.valueOf()/240)}getNormalNoteCoor({elapsed:i,bpm:u,scroll:o,time:a}){if(a.valueOf()*1e3>i)return{x:this.getXCoor({elapsed:i,bpm:u,scroll:o,time:a}),y:this.player.height/2};if(a.valueOf()*1e3+520>i){const f=this.hitXCoor,l=this.player.width,s=(l-f)/2,c=(l+f)/2,d=this.player.width-this.noteRadius*1.4,D=(Math.acos((d-c)/s)-Math.PI)*((a.valueOf()*1e3-i)/520)+Math.PI;return{x:c+s*Math.cos(D),y:this.player.height/2+s*Math.sin(D)*.45}}else return{x:null,y:null}}renderBar(i,u){if(i.bar.branch>0&&i.bar.branch!=u)return;const o=this.player.laneWidth/500;if(i.x<this.player.laneStart-o*2||i.x>this.player.width+o*2||!i.bar.barline)return;const{ctx:a}=this.player;a.fillStyle="white",a.fillRect(i.x-1,0,o,this.player.height)}renderNote(i,u){switch(i.type){case 1:{if(i.note.branch>0&&i.note.branch!=u)return;const o=i.note.type===3||i.note.type===4;let a=o?this.noteRadius*1.3:this.noteRadius;if(i.x>this.player.width+a*2||i.x===null||i.y===null)return;const{ctx:f}=this.player;let l=i.note.type%2===0?"#42bfbd":"#f84927";f.beginPath(),f.lineWidth=0,f.arc(i.x,i.y,a,0,2*Math.PI),f.fillStyle="black",f.fill(),f.closePath(),f.beginPath(),f.lineWidth=0,f.arc(i.x,i.y,o?a*(1-1/(12*1.3)):a*(1-1/12),0,2*Math.PI),f.fillStyle="#ece7d9",f.fill(),f.closePath(),f.beginPath(),f.lineWidth=0,f.arc(i.x,i.y,a*3/4,0,2*Math.PI),f.fillStyle=l??"",f.fill(),f.closePath();break}case 2:{if(i.startNote.branch>0&&i.startNote.branch!=u)return;let o=i.startNote.type===6,a=o?this.noteRadius*1.3:this.noteRadius;if(i.endX<0-a*2||i.startX>this.player.width+a*2)return;const f=Math.max(i.startX,0),l=Math.min(i.endX,this.player.width),s="#f7b800",c=this.noteRadius/12,d=c/2,{ctx:v}=this.player;v.beginPath(),v.lineWidth=c,v.moveTo(f,this.player.height/2-a+d),v.lineTo(l,this.player.height/2-a+d),v.arc(l,this.player.height/2,a-d,Math.PI*-1*.5,Math.PI*.5),v.moveTo(l,this.player.height/2+a-d),v.lineTo(f,this.player.height/2+a-d),v.arc(f,this.player.height/2,a-d,Math.PI*.5,Math.PI*1.5),v.fillStyle=s,v.fill(),v.strokeStyle="black",v.stroke(),v.closePath(),v.beginPath(),v.lineWidth=0,v.arc(i.startX,this.player.height/2,a,0,2*Math.PI),v.fillStyle="black",v.fill(),v.closePath(),v.beginPath(),v.lineWidth=0,v.arc(i.startX,this.player.height/2,o?a*(1-1/(12*1.3)):a*(1-1/12),0,2*Math.PI),v.fillStyle="#ece7d9",v.fill(),v.closePath(),v.beginPath(),v.lineWidth=0,v.arc(i.startX,this.player.height/2,a*3/4,0,2*Math.PI),v.fillStyle=s,v.fill(),v.closePath();break}case 3:{if(i.startNote.branch>0&&i.startNote.branch!=u)return;let o=this.noteRadius;const a=i.startX>this.hitXCoor?i.startX:i.endX>this.hitXCoor?this.hitXCoor:i.endX;if(a<0-o*2||a>this.player.width+o*2)return;const{ctx:f}=this.player,l="#f97900";f.beginPath(),f.lineWidth=0,f.arc(a,this.player.height/2,o,0,2*Math.PI),f.fillStyle="black",f.fill(),f.closePath(),f.beginPath(),f.lineWidth=0,f.arc(a,this.player.height/2,o*(1-1/12),0,2*Math.PI),f.fillStyle="#ece7d9",f.fill(),f.closePath(),f.beginPath(),f.lineWidth=0,f.arc(a,this.player.height/2,o*3/4,0,2*Math.PI),f.fillStyle=l,f.fill(),f.closePath();break}}}}e.Renderer=t;class r{constructor(i){this.isPlaying=!1,this.sourceNode=null,this.audioContext=null,this.onPlay=null,this.onStop=null,this.player=i}async setMusic(i){this.audioContext=new AudioContext,this.audioBuffer=await this.audioContext.decodeAudioData(await i.arrayBuffer())}play(){var i;this.isPlaying,this.audioContext&&this.audioBuffer&&(this.sourceNode=this.audioContext.createBufferSource(),this.sourceNode.buffer=this.audioBuffer,this.sourceNode.connect(this.audioContext.destination),this.sourceNode.start(this.audioContext.currentTime+1)),this.isPlaying=!0,(i=this.onPlay)==null||i.call(this)}stop(){var i,u;this.isPlaying&&((i=this.sourceNode)==null||i.stop(),this.isPlaying=!0,(u=this.onStop)==null||u.call(this))}}e.AudioPlayer=r})(fr||(fr={}));async function B0(e,t,r,n,i,u){var f,l;const o=(l=(f=$(t))==null?void 0:f.files)==null?void 0:l[0];if(!o||!$(t))return;r(),le(n,null),le(i,null);try{const s=await a(o);le(u,gt(xr.parse(s))),le(n,gt(Object.keys($(u).courses)[0]??null)),alert("Loading Successful")}catch{alert("Loading Failed")}function a(s){return new Promise((c,d)=>{const v=new FileReader;v.onload=()=>c(v.result),v.onerror=()=>d(v.error),v.readAsText(s)})}}var N0=Ht('<option class="svelte-y19ibe"> </option>'),S0=Ht('<div class="field svelte-y19ibe"><div class="left svelte-y19ibe">FPS</div> <div class="right svelte-y19ibe"><input type="number" placeholder="FPS" class="svelte-y19ibe"></div></div> <div class="field svelte-y19ibe"><div class="left svelte-y19ibe">Width</div> <div class="right svelte-y19ibe"><input type="number" placeholder="px" class="svelte-y19ibe"></div></div> <div class="field svelte-y19ibe"><div class="left svelte-y19ibe">Bitrate</div> <div class="right svelte-y19ibe"><input type="number" placeholder="kbps" class="svelte-y19ibe"></div></div>',1),M0=Ht('<main class="svelte-y19ibe"><div class="player-container svelte-y19ibe"></div> <div class="controller-container svelte-y19ibe"><div class="field svelte-y19ibe"><div class="left svelte-y19ibe">Tja</div> <div class="right svelte-y19ibe"><input type="file" accept=".tja" class="svelte-y19ibe"></div></div> <div class="field svelte-y19ibe"><div class="left svelte-y19ibe">Audio</div> <div class="right svelte-y19ibe"><input type="file" accept="audio/*" class="svelte-y19ibe"></div></div> <div class="field svelte-y19ibe"><div class="left svelte-y19ibe">Difficulty</div> <div class="right svelte-y19ibe"><select class="svelte-y19ibe"></select></div></div> <div class="field svelte-y19ibe"><div class="left svelte-y19ibe">Play / Stop</div> <div class="right svelte-y19ibe"><button class="svelte-y19ibe">Play</button> <button class="svelte-y19ibe">Stop</button></div></div> <div class="field svelte-y19ibe"><div class="left svelte-y19ibe">Speed</div> <div class="right svelte-y19ibe"><input type="number" class="svelte-y19ibe"></div></div> <div class="field svelte-y19ibe"><div class="left svelte-y19ibe">No scroll</div> <div class="right svelte-y19ibe"><label class="svelte-y19ibe"><input type="checkbox" class="svelte-y19ibe"></label></div></div> <div class="field svelte-y19ibe"><div class="left svelte-y19ibe">Download</div> <div class="right svelte-y19ibe"><label class="svelte-y19ibe"><input type="checkbox" class="svelte-y19ibe"></label></div></div> <!></div></main>');function x0(e,t){Jn(t,!0);let r=Ne(void 0),n=Ne(void 0),i=Ne(void 0),u=Ne(null),o=Ne(null),a=Ne(null),f=Ne(1),l=Ne(!1),s=null,c=Ne(!1),d=Ne(60),v=Ne(1e3),D=Ne(8e3);lu(()=>{$(a)&&($(a).playOption.speed=$(f)),$(a)&&($(a).playOption.noScroll=$(l))});async function h(){var ve,de,ne,ie,me;const W=(de=(ve=$(u))==null?void 0:ve.courses)==null?void 0:de[$(o)];if(!W)return;p(),le(a,gt(new fr(W,{width:$(v)}))),(ne=$(r))==null||ne.append($(a).canvas),$(a).canvas.style.width="100%";const j=(me=(ie=$(i))==null?void 0:ie.files)==null?void 0:me[0];j&&await $(a).audioPlayer.setMusic(j),$(c)&&($(a).onPlay=()=>{var vt,Mt,g,F;if(!$(a))return;const Ie=$(a).canvas.captureStream($(d)??60),Me=((Mt=(vt=$(a).audioPlayer.audioContext)==null?void 0:vt.createMediaStreamDestination)==null?void 0:Mt.call(vt))??null;Me&&((F=(g=$(a).audioPlayer)==null?void 0:g.sourceNode)==null||F.connect(Me));const Ye=[...Ie.getVideoTracks()];Me&&Ye.push(...Me.stream.getAudioTracks());const et=new MediaStream(Ye);s=new MediaRecorder(et,{mimeType:"video/webm; codecs=vp9",videoBitsPerSecond:$(D)*1024});const Re=[];s.ondataavailable=B=>{B.data.size>6&&Re.push(B.data)},s.onstop=()=>{const B=new Blob(Re,{type:"video/webm"}),x=URL.createObjectURL(B),T=document.createElement("a");T.href=x,T.download="recording.webm",T.textContent="Download Video",T.click(),console.log(x),T.remove()},s.start()},$(a).onStop=()=>{s==null||s.stop()}),$(a).play()}function p(){var W,j;(W=$(r))==null||W.replaceChildren(),(j=$(a))==null||j.stop()}var y=M0(),C=re(y);nr(C,W=>le(r,W),()=>$(r));var w=oe(C,2),A=re(w),E=oe(re(A),2),m=re(E);nr(m,W=>le(n,W),()=>$(n)),m.__change=[B0,n,p,o,a,u];var _=oe(A,2),b=oe(re(_),2),N=re(b);nr(N,W=>le(i,W),()=>$(i));var M=oe(_,2),P=oe(re(M),2),L=re(P);bu(L,20,()=>["easy","normal","hard","oni","edit"],_u,(W,j)=>{var ve=Au(),de=mr(ve);Wr(de,()=>{var ne,ie;return(ie=(ne=$(u))==null?void 0:ne.courses)==null?void 0:ie[j]},ne=>{var ie=N0(),me={},Ie=re(ie);fu(()=>{me!==(me=j)&&(ie.value=(ie.__value=j)==null?"":j),Cu(Ie,j)}),bt(ne,ie)}),bt(W,ve)});var H=oe(M,2),X=oe(re(H),2),U=re(X);U.__click=h;var O=oe(U,2);O.__click=p;var G=oe(H,2),J=oe(re(G),2),Y=re(J),te=oe(G,2),ce=oe(re(te),2),fe=re(ce),he=re(fe),Fe=oe(te,2),be=oe(re(Fe),2),Ae=re(be),pe=re(Ae),Ue=oe(Fe,2);Wr(Ue,()=>$(c),W=>{var j=S0(),ve=mr(j),de=oe(re(ve),2),ne=re(de),ie=oe(ve,2),me=oe(re(ie),2),Ie=re(me),Me=oe(ie,2),Ye=oe(re(Me),2),et=re(Ye);Ot(ne,()=>$(d),Re=>le(d,Re)),Ot(Ie,()=>$(v),Re=>le(v,Re)),Ot(et,()=>$(D),Re=>le(D,Re)),bt(W,j)}),Nu(L,()=>$(o),W=>le(o,W)),Ot(Y,()=>$(f),W=>le(f,W)),Zr(he,()=>$(l),W=>le(l,W)),Zr(pe,()=>$(c),W=>le(c,W)),bt(e,y),jn()}Fu(["change","click"]);var T0=Ht("<!> <!>",1);function P0(e){var t=T0(),r=mr(t);b0(r,{});var n=oe(r,2);x0(n,{}),bt(e,t)}Wa(P0,{target:document.getElementById("app")});</script>
    <style rel="stylesheet" crossorigin>main.svelte-y19ibe{display:flex;flex-direction:column;align-items:center;row-gap:10px}.player-container.svelte-y19ibe{width:100%}.player-container.svelte-y19ibe:not(:where(.svelte-y19ibe):has(*)){background-color:#282828;aspect-ratio:30336 / 4160}.controller-container.svelte-y19ibe{width:min(100%,500px);background-color:#e3dbe7;display:flex;flex-direction:column;border-radius:10px;overflow:hidden}.controller-container.svelte-y19ibe .field:where(.svelte-y19ibe){display:flex}.controller-container.svelte-y19ibe .field:where(.svelte-y19ibe) :where(.svelte-y19ibe){box-sizing:border-box;padding:5px}.controller-container.svelte-y19ibe .field:where(.svelte-y19ibe) .left:where(.svelte-y19ibe){width:100px;display:flex;justify-content:center;align-items:center;background-color:#e7e3db}.controller-container.svelte-y19ibe .field:where(.svelte-y19ibe) .right:where(.svelte-y19ibe){width:calc(100% - 100px);display:flex;justify-content:center;align-items:center;column-gap:10px}</style>
  </head>
  <body>
    <div id="app"></div>
  </body>
</html>
