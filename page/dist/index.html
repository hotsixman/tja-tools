<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="./vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title></title>
    <script type="module" crossorigin>(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const u of i)if(u.type==="childList")for(const o of u.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const u={};return i.integrity&&(u.integrity=i.integrity),i.referrerPolicy&&(u.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?u.credentials="include":i.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function n(i){if(i.ep)return;i.ep=!0;const u=r(i);fetch(i.href,u)}})();const Po=!1;var Tn=Array.isArray,On=Array.from,Ro=Object.defineProperty,ur=Object.getOwnPropertyDescriptor,zo=Object.prototype,qo=Array.prototype,$o=Object.getPrototypeOf;function Lo(e){for(var t=0;t<e.length;t++)e[t]()}const zt=2,Hi=4,kr=8,In=16,dt=32,Hr=64,rr=128,Sr=256,ut=512,Kt=1024,Yr=2048,wt=4096,pr=8192,Uo=16384,Pn=32768,Zo=1<<18,Vo=1<<19,Yt=Symbol("$state");function Wo(e){return e===this.v}function Xo(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function ko(e){return!Xo(e,this.v)}function Ho(e){throw new Error("effect_in_teardown")}function Yo(){throw new Error("effect_in_unowned_derived")}function Go(e){throw new Error("effect_orphan")}function Jo(){throw new Error("effect_update_depth_exceeded")}function Ko(){throw new Error("state_descriptors_fixed")}function jo(){throw new Error("state_prototype_fixed")}function Qo(){throw new Error("state_unsafe_local_read")}function ea(){throw new Error("state_unsafe_mutation")}function Ke(e){return{f:0,v:e,reactions:null,equals:Wo,version:0}}function Tt(e){return ra(Ke(e))}function ta(e,t=!1){var n;const r=Ke(e);return t||(r.equals=ko),Pe!==null&&Pe.l!==null&&((n=Pe.l).s??(n.s=[])).push(r),r}function ra(e){return we!==null&&we.f&zt&&(ht===null?Fa([e]):ht.push(e)),e}function ze(e,t){return we!==null&&Jr()&&we.f&(zt|In)&&(ht===null||!ht.includes(e))&&ea(),na(e,t)}function na(e,t){return e.equals(t)||(e.v=t,e.version=su(),Yi(e,Kt),Jr()&&ae!==null&&ae.f&ut&&!(ae.f&dt)&&(Le!==null&&Le.includes(e)?(yt(ae,Kt),jr(ae)):_t===null?Aa([e]):_t.push(e))),t}function Yi(e,t){var r=e.reactions;if(r!==null)for(var n=Jr(),i=r.length,u=0;u<i;u++){var o=r[u],s=o.f;s&Kt||!n&&o===ae||(yt(o,t),s&(ut|rr)&&(s&zt?Yi(o,Yr):jr(o)))}}const ia=1,ua=2,oa=16,aa=1,sa=2,Ge=Symbol();let fa=!1;function Pt(e,t=null,r){if(typeof e!="object"||e===null||Yt in e)return e;const n=$o(e);if(n!==zo&&n!==qo)return e;var i=new Map,u=Tn(e),o=Ke(0);u&&i.set("length",Ke(e.length));var s;return new Proxy(e,{defineProperty(c,f,a){(!("value"in a)||a.configurable===!1||a.enumerable===!1||a.writable===!1)&&Ko();var l=i.get(f);return l===void 0?(l=Ke(a.value),i.set(f,l)):ze(l,Pt(a.value,s)),!0},deleteProperty(c,f){var a=i.get(f);if(a===void 0)f in c&&i.set(f,Ke(Ge));else{if(u&&typeof f=="string"){var l=i.get("length"),D=Number(f);Number.isInteger(D)&&D<l.v&&ze(l,D)}ze(a,Ge),ni(o)}return!0},get(c,f,a){var v;if(f===Yt)return e;var l=i.get(f),D=f in c;if(l===void 0&&(!D||(v=ur(c,f))!=null&&v.writable)&&(l=Ke(Pt(D?c[f]:Ge,s)),i.set(f,l)),l!==void 0){var d=he(l);return d===Ge?void 0:d}return Reflect.get(c,f,a)},getOwnPropertyDescriptor(c,f){var a=Reflect.getOwnPropertyDescriptor(c,f);if(a&&"value"in a){var l=i.get(f);l&&(a.value=he(l))}else if(a===void 0){var D=i.get(f),d=D==null?void 0:D.v;if(D!==void 0&&d!==Ge)return{enumerable:!0,configurable:!0,value:d,writable:!0}}return a},has(c,f){var d;if(f===Yt)return!0;var a=i.get(f),l=a!==void 0&&a.v!==Ge||Reflect.has(c,f);if(a!==void 0||ae!==null&&(!l||(d=ur(c,f))!=null&&d.writable)){a===void 0&&(a=Ke(l?Pt(c[f],s):Ge),i.set(f,a));var D=he(a);if(D===Ge)return!1}return l},set(c,f,a,l){var y;var D=i.get(f),d=f in c;if(u&&f==="length")for(var v=a;v<D.v;v+=1){var h=i.get(v+"");h!==void 0?ze(h,Ge):v in c&&(h=Ke(Ge),i.set(v+"",h))}D===void 0?(!d||(y=ur(c,f))!=null&&y.writable)&&(D=Ke(void 0),ze(D,Pt(a,s)),i.set(f,D)):(d=D.v!==Ge,ze(D,Pt(a,s)));var p=Reflect.getOwnPropertyDescriptor(c,f);if(p!=null&&p.set&&p.set.call(l,a),!d){if(u&&typeof f=="string"){var w=i.get("length"),C=Number(f);Number.isInteger(C)&&C>=w.v&&ze(w,C+1)}ni(o)}return!0},ownKeys(c){he(o);var f=Reflect.ownKeys(c).filter(D=>{var d=i.get(D);return d===void 0||d.v!==Ge});for(var[a,l]of i)l.v!==Ge&&!(a in c)&&f.push(a);return f},setPrototypeOf(){jo()}})}function ni(e,t=1){ze(e,e.v+t)}function ii(e){return e!==null&&typeof e=="object"&&Yt in e?e[Yt]:e}function ca(e,t){return Object.is(ii(e),ii(t))}var ui,Gi,Ji;function la(){if(ui===void 0){ui=window;var e=Element.prototype,t=Node.prototype;Gi=ur(t,"firstChild").get,Ji=ur(t,"nextSibling").get,e.__click=void 0,e.__className="",e.__attributes=null,e.__e=void 0,Text.prototype.__t=void 0}}function Rn(e=""){return document.createTextNode(e)}function xr(e){return Gi.call(e)}function Gr(e){return Ji.call(e)}function ha(e){return xr(e)}function fn(e,t){{var r=xr(e);return r instanceof Comment&&r.data===""?Gr(r):r}}function Ot(e,t=1,r=!1){let n=e;for(;t--;)n=Gr(n);return n}function Da(e){e.textContent=""}function Ki(e){var t=e.children;if(t!==null){e.children=null;for(var r=0;r<t.length;r+=1){var n=t[r];n.f&zt?zn(n):qt(n)}}}function ji(e){var t,r=ae;Qt(e.parent);try{Ki(e),t=fu(e)}finally{Qt(r)}return t}function Qi(e){var t=ji(e),r=(Ht||e.f&rr)&&e.deps!==null?Yr:ut;yt(e,r),e.equals(t)||(e.v=t,e.version=su())}function zn(e){Ki(e),fr(e,0),yt(e,pr),e.v=e.children=e.deps=e.reactions=null}function da(e){ae===null&&we===null&&Go(),we!==null&&we.f&rr&&Yo(),Ln&&Ho()}function pa(e,t){var r=t.last;r===null?t.last=t.first=e:(r.next=e,e.prev=r,t.last=e)}function vr(e,t,r,n=!0){var i=(e&Hr)!==0,u=ae,o={ctx:Pe,deps:null,deriveds:null,nodes_start:null,nodes_end:null,f:e|Kt,first:null,fn:t,last:null,next:null,parent:i?null:u,prev:null,teardown:null,transitions:null,version:0};if(r){var s=Gt;try{oi(!0),Kr(o),o.f|=Uo}catch(a){throw qt(o),a}finally{oi(s)}}else t!==null&&jr(o);var c=r&&o.deps===null&&o.first===null&&o.nodes_start===null&&o.teardown===null&&(o.f&Vo)===0;if(!c&&!i&&n&&(u!==null&&pa(o,u),we!==null&&we.f&zt)){var f=we;(f.children??(f.children=[])).push(o)}return o}function va(e){da();var t=ae!==null&&(ae.f&dt)!==0&&Pe!==null&&!Pe.m;if(t){var r=Pe;(r.e??(r.e=[])).push({fn:e,effect:ae,reaction:we})}else{var n=mr(e);return n}}function ma(e){const t=vr(Hr,e,!0);return()=>{qt(t)}}function mr(e){return vr(Hi,e,!1)}function eu(e){return vr(kr,e,!0)}function ga(e){return qn(e)}function qn(e,t=0){return vr(kr|In|t,e,!0)}function sr(e,t=!0){return vr(kr|dt,e,!0,t)}function tu(e){var t=e.teardown;if(t!==null){const r=Ln,n=we;ai(!0),jt(null);try{t.call(null)}finally{ai(r),jt(n)}}}function ru(e){var t=e.deriveds;if(t!==null){e.deriveds=null;for(var r=0;r<t.length;r+=1)zn(t[r])}}function nu(e,t=!1){var r=e.first;for(e.first=e.last=null;r!==null;){var n=r.next;qt(r,t),r=n}}function wa(e){for(var t=e.first;t!==null;){var r=t.next;t.f&dt||qt(t),t=r}}function qt(e,t=!0){var r=!1;if((t||e.f&Zo)&&e.nodes_start!==null){var n=e.nodes_start,i=e.nodes_end,u=we,o=ae;jt(null),Qt(null);try{for(;n!==null;){var s=n===i?null:Gr(n);n.remove(),n=s}}finally{jt(u),Qt(o)}r=!0}ru(e),nu(e,t&&!r),fr(e,0),yt(e,pr);var c=e.transitions;if(c!==null)for(const a of c)a.stop();tu(e);var f=e.parent;f!==null&&f.first!==null&&iu(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.parent=e.fn=e.nodes_start=e.nodes_end=null}function iu(e){var t=e.parent,r=e.prev,n=e.next;r!==null&&(r.next=n),n!==null&&(n.prev=r),t!==null&&(t.first===e&&(t.first=n),t.last===e&&(t.last=r))}function vn(e,t){var r=[];$n(e,r,!0),uu(r,()=>{qt(e),t&&t()})}function uu(e,t){var r=e.length;if(r>0){var n=()=>--r||t();for(var i of e)i.out(n)}else t()}function $n(e,t,r){if(!(e.f&wt)){if(e.f^=wt,e.transitions!==null)for(const o of e.transitions)(o.is_global||r)&&t.push(o);for(var n=e.first;n!==null;){var i=n.next,u=(n.f&Pn)!==0||(n.f&dt)!==0;$n(n,t,u?r:!1),n=i}}}function Tr(e){ou(e,!0)}function ou(e,t){if(e.f&wt){e.f^=wt,gr(e)&&Kr(e);for(var r=e.first;r!==null;){var n=r.next,i=(r.f&Pn)!==0||(r.f&dt)!==0;ou(r,i?t:!1),r=n}if(e.transitions!==null)for(const u of e.transitions)(u.is_global||t)&&u.in()}}let mn=!1,gn=[];function ya(){mn=!1;const e=gn.slice();gn=[],Lo(e)}function Ea(e){mn||(mn=!0,queueMicrotask(ya)),gn.push(e)}let Or=!1,Gt=!1,Ln=!1;function oi(e){Gt=e}function ai(e){Ln=e}let wn=[],or=0;let we=null;function jt(e){we=e}let ae=null;function Qt(e){ae=e}let ht=null;function Fa(e){ht=e}let Le=null,Je=0,_t=null;function Aa(e){_t=e}let au=0,Ht=!1,Pe=null;function su(){return++au}function Jr(){return Pe!==null&&Pe.l===null}function gr(e){var o,s;var t=e.f;if(t&Kt)return!0;if(t&Yr){var r=e.deps,n=(t&rr)!==0;if(r!==null){var i;if(t&Sr){for(i=0;i<r.length;i++)((o=r[i]).reactions??(o.reactions=[])).push(e);e.f^=Sr}for(i=0;i<r.length;i++){var u=r[i];if(gr(u)&&Qi(u),n&&ae!==null&&!Ht&&!((s=u==null?void 0:u.reactions)!=null&&s.includes(e))&&(u.reactions??(u.reactions=[])).push(e),u.version>e.version)return!0}}n||yt(e,ut)}return!1}function Ca(e,t,r){throw e}function fu(e){var l;var t=Le,r=Je,n=_t,i=we,u=Ht,o=ht,s=e.f;Le=null,Je=0,_t=null,we=s&(dt|Hr)?null:e,Ht=!Gt&&(s&rr)!==0,ht=null;try{var c=(0,e.fn)(),f=e.deps;if(Le!==null){var a;if(fr(e,Je),f!==null&&Je>0)for(f.length=Je+Le.length,a=0;a<Le.length;a++)f[Je+a]=Le[a];else e.deps=f=Le;if(!Ht)for(a=Je;a<f.length;a++)((l=f[a]).reactions??(l.reactions=[])).push(e)}else f!==null&&Je<f.length&&(fr(e,Je),f.length=Je);return c}finally{Le=t,Je=r,_t=n,we=i,Ht=u,ht=o}}function _a(e,t){let r=t.reactions;if(r!==null){var n=r.indexOf(e);if(n!==-1){var i=r.length-1;i===0?r=t.reactions=null:(r[n]=r[i],r.pop())}}r===null&&t.f&zt&&(Le===null||!Le.includes(t))&&(yt(t,Yr),t.f&(rr|Sr)||(t.f^=Sr),fr(t,0))}function fr(e,t){var r=e.deps;if(r!==null)for(var n=t;n<r.length;n++)_a(e,r[n])}function Kr(e){var t=e.f;if(!(t&pr)){yt(e,ut);var r=ae,n=Pe;ae=e,Pe=e.ctx;try{ru(e),t&In?wa(e):nu(e),tu(e);var i=fu(e);e.teardown=typeof i=="function"?i:null,e.version=au}catch(u){Ca(u)}finally{ae=r,Pe=n}}}function ba(){or>1e3&&(or=0,Jo()),or++}function Ba(e){var t=e.length;if(t!==0){ba();var r=Gt;Gt=!0;try{for(var n=0;n<t;n++){var i=e[n];i.f&ut||(i.f^=ut);var u=[];cu(i,u),Na(u)}}finally{Gt=r}}}function Na(e){var t=e.length;if(t!==0)for(var r=0;r<t;r++){var n=e[r];!(n.f&(pr|wt))&&gr(n)&&(Kr(n),n.deps===null&&n.first===null&&n.nodes_start===null&&(n.teardown===null?iu(n):n.fn=null))}}function Ma(){if(Or=!1,or>1001)return;const e=wn;wn=[],Ba(e),Or||(or=0)}function jr(e){Or||(Or=!0,queueMicrotask(Ma));for(var t=e;t.parent!==null;){t=t.parent;var r=t.f;if(r&(Hr|dt)){if(!(r&ut))return;t.f^=ut}}wn.push(t)}function cu(e,t){var r=e.first,n=[];e:for(;r!==null;){var i=r.f,u=(i&dt)!==0,o=u&&(i&ut)!==0;if(!o&&!(i&wt))if(i&kr){u?r.f^=ut:gr(r)&&Kr(r);var s=r.first;if(s!==null){r=s;continue}}else i&Hi&&n.push(r);var c=r.next;if(c===null){let l=r.parent;for(;l!==null;){if(e===l)break e;var f=l.next;if(f!==null){r=f;continue e}l=l.parent}}r=c}for(var a=0;a<n.length;a++)s=n[a],t.push(s),cu(s,t)}function he(e){var s;var t=e.f,r=(t&zt)!==0;if(r&&t&pr){var n=ji(e);return zn(e),n}if(we!==null){ht!==null&&ht.includes(e)&&Qo();var i=we.deps;Le===null&&i!==null&&i[Je]===e?Je++:Le===null?Le=[e]:Le.push(e),_t!==null&&ae!==null&&ae.f&ut&&!(ae.f&dt)&&_t.includes(e)&&(yt(ae,Kt),jr(ae))}else if(r&&e.deps===null){var u=e,o=u.parent;o!==null&&!((s=o.deriveds)!=null&&s.includes(u))&&(o.deriveds??(o.deriveds=[])).push(u)}return r&&(u=e,gr(u)&&Qi(u)),e.v}function Sa(e){const t=we;try{return we=null,e()}finally{we=t}}const xa=-3585;function yt(e,t){e.f=e.f&xa|t}function lu(e,t=!1,r){Pe={p:Pe,c:null,e:null,m:!1,s:e,x:null,l:null},t||(Pe.l={s:null,u:null,r1:[],r2:Ke(!1)})}function hu(e){const t=Pe;if(t!==null){const o=t.e;if(o!==null){var r=ae,n=we;t.e=null;try{for(var i=0;i<o.length;i++){var u=o[i];Qt(u.effect),jt(u.reaction),mr(u.fn)}}finally{Qt(r),jt(n)}}Pe=t.p,t.m=!0}return{}}const Du=new Set,yn=new Set;function Ta(e){for(var t=0;t<e.length;t++)Du.add(e[t]);for(var r of yn)r(e)}function Ar(e){var p;var t=this,r=t.ownerDocument,n=e.type,i=((p=e.composedPath)==null?void 0:p.call(e))||[],u=i[0]||e.target,o=0,s=e.__root;if(s){var c=i.indexOf(s);if(c!==-1&&(t===document||t===window)){e.__root=t;return}var f=i.indexOf(t);if(f===-1)return;c<=f&&(o=c)}if(u=i[o]||e.target,u!==t){Ro(e,"currentTarget",{configurable:!0,get(){return u||r}});try{for(var a,l=[];u!==null;){var D=u.assignedSlot||u.parentNode||u.host||null;try{var d=u["__"+n];if(d!==void 0&&!u.disabled)if(Tn(d)){var[v,...h]=d;v.apply(u,[e,...h])}else d.call(u,e)}catch(w){a?l.push(w):a=w}if(e.cancelBubble||D===t||D===null)break;u=D}if(a){for(let w of l)queueMicrotask(()=>{throw w});throw a}}finally{e.__root=t,delete e.currentTarget}}}function Oa(e){var t=document.createElement("template");return t.innerHTML=e,t.content}function En(e,t){var r=ae;r.nodes_start===null&&(r.nodes_start=e,r.nodes_end=t)}function Un(e,t){var r=(t&aa)!==0,n=(t&sa)!==0,i,u=!e.startsWith("<!>");return()=>{i===void 0&&(i=Oa(u?e:"<!>"+e),r||(i=xr(i)));var o=n?document.importNode(i,!0):i.cloneNode(!0);if(r){var s=xr(o),c=o.lastChild;En(s,c)}else En(o,o);return o}}function Ia(){var e=document.createDocumentFragment(),t=document.createComment(""),r=Rn();return e.append(t,r),En(t,r),e}function Cr(e,t){e!==null&&e.before(t)}const Pa=["touchstart","touchmove"];function Ra(e){return Pa.includes(e)}function za(e,t){var r=t==null?"":typeof t=="object"?t+"":t;r!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=r,e.nodeValue=r==null?"":r+"")}function qa(e,t){return $a(e,t)}const Vt=new Map;function $a(e,{target:t,anchor:r,props:n={},events:i,context:u,intro:o=!0}){la();var s=new Set,c=l=>{for(var D=0;D<l.length;D++){var d=l[D];if(!s.has(d)){s.add(d);var v=Ra(d);t.addEventListener(d,Ar,{passive:v});var h=Vt.get(d);h===void 0?(document.addEventListener(d,Ar,{passive:v}),Vt.set(d,1)):Vt.set(d,h+1)}}};c(On(Du)),yn.add(c);var f=void 0,a=ma(()=>{var l=r??t.appendChild(Rn());return sr(()=>{if(u){lu({});var D=Pe;D.c=u}i&&(n.$$events=i),f=e(l,n)||{},u&&hu()}),()=>{var v;for(var D of s){t.removeEventListener(D,Ar);var d=Vt.get(D);--d===0?(document.removeEventListener(D,Ar),Vt.delete(D)):Vt.set(D,d)}yn.delete(c),si.delete(f),l!==r&&((v=l.parentNode)==null||v.removeChild(l))}});return si.set(f,a),f}let si=new WeakMap;function fi(e,t,r,n=null,i=!1){var u=e,o=null,s=null,c=null,f=i?Pn:0;qn(()=>{c!==(c=!!t())&&(c?(o?Tr(o):o=sr(()=>r(u)),s&&vn(s,()=>{s=null})):(s?Tr(s):n&&(s=sr(()=>n(u))),o&&vn(o,()=>{o=null})))},f)}let cn=null;function La(e,t){return t}function Ua(e,t,r,n){for(var i=[],u=t.length,o=0;o<u;o++)$n(t[o].e,i,!0);var s=u>0&&i.length===0&&r!==null;if(s){var c=r.parentNode;Da(c),c.append(r),n.clear(),Ft(e,t[0].prev,t[u-1].next)}uu(i,()=>{for(var f=0;f<u;f++){var a=t[f];s||(n.delete(a.k),Ft(e,a.prev,a.next)),qt(a.e,!s)}})}function Za(e,t,r,n,i,u=null){var o=e,s={flags:t,items:new Map,first:null};{var c=e;o=c.appendChild(Rn())}var f=null,a=!1;qn(()=>{var l=r(),D=Tn(l)?l:l==null?[]:On(l),d=D.length;a&&d===0||(a=d===0,Va(D,s,o,i,t,n),u!==null&&(d===0?f?Tr(f):f=sr(()=>u(o)):f!==null&&vn(f,()=>{f=null})))})}function Va(e,t,r,n,i,u){var o=e.length,s=t.items,c=t.first,f=c,a,l=null,D=[],d=[],v,h,p,w;for(w=0;w<o;w+=1){if(v=e[w],h=u(v,w),p=s.get(h),p===void 0){var C=f?f.e.nodes_start:r;l=Wa(C,t,l,l===null?t.first:l.next,v,h,w,n,i),s.set(h,l),D=[],d=[],f=l.next;continue}if(p.e.f&wt&&Tr(p.e),p!==f){if(a!==void 0&&a.has(p)){if(D.length<d.length){var y=d[0],A;l=y.prev;var E=D[0],m=D[D.length-1];for(A=0;A<D.length;A+=1)ci(D[A],y,r);for(A=0;A<d.length;A+=1)a.delete(d[A]);Ft(t,E.prev,m.next),Ft(t,l,E),Ft(t,m,y),f=y,l=m,w-=1,D=[],d=[]}else a.delete(p),ci(p,f,r),Ft(t,p.prev,p.next),Ft(t,p,l===null?t.first:l.next),Ft(t,l,p),l=p;continue}for(D=[],d=[];f!==null&&f.k!==h;)f.e.f&wt||(a??(a=new Set)).add(f),d.push(f),f=f.next;if(f===null)continue;p=f}D.push(p),l=p,f=p.next}if(f!==null||a!==void 0){for(var _=a===void 0?[]:On(a);f!==null;)f.e.f&wt||_.push(f),f=f.next;var b=_.length;if(b>0){var B=o===0?r:null;Ua(t,_,B,s)}}ae.first=t.first&&t.first.e,ae.last=l&&l.e}function Wa(e,t,r,n,i,u,o,s,c){var f=cn;try{var a=(c&ia)!==0,l=(c&oa)===0,D=a?l?ta(i):Ke(i):i,d=c&ua?Ke(o):o,v={i:d,v:D,k:u,a:null,e:null,prev:r,next:n};return cn=v,v.e=sr(()=>s(e,D,d),fa),v.e.prev=r&&r.e,v.e.next=n&&n.e,r===null?t.first=v:(r.next=v,r.e.next=v.e),n!==null&&(n.prev=v,n.e.prev=v.e),v}finally{cn=f}}function ci(e,t,r){for(var n=e.next?e.next.e.nodes_start:r,i=t?t.e.nodes_start:r,u=e.e.nodes_start;u!==n;){var o=Gr(u);i.before(u),u=o}}function Ft(e,t,r){t===null?e.first=r:(t.next=r,t.e.next=r&&r.e),r!==null&&(r.prev=t,r.e.prev=t&&t.e)}let li=!1;function Xa(){li||(li=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var t;if(!e.defaultPrevented)for(const r of e.target.elements)(t=r.__on_r)==null||t.call(r)})},{capture:!0}))}function du(e,t,r,n=r){e.addEventListener(t,r);const i=e.__on_r;i?e.__on_r=()=>{i(),n()}:e.__on_r=n,Xa()}function ka(e,t,r=t){var n=Jr();du(e,"input",()=>{var i=hi(e)?Di(e.value):e.value;r(i),n&&i!==(i=t())&&(e.value=i??"")}),eu(()=>{var i=t();hi(e)&&i===Di(e.value)||e.type==="date"&&!i&&!e.value||i!==e.value&&(e.value=i??"")})}function hi(e){var t=e.type;return t==="number"||t==="range"}function Di(e){return e===""?null:+e}function pu(e,t,r){if(e.multiple)return Ga(e,t);for(var n of e.options){var i=ar(n);if(ca(i,t)){n.selected=!0;return}}(!r||t!==void 0)&&(e.selectedIndex=-1)}function Ha(e,t){mr(()=>{var r=new MutationObserver(()=>{var n=e.__value;pu(e,n)});return r.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{r.disconnect()}})}function Ya(e,t,r=t){var n=!0;du(e,"change",()=>{var i;if(e.multiple)i=[].map.call(e.querySelectorAll(":checked"),ar);else{var u=e.querySelector(":checked");i=u&&ar(u)}r(i)}),mr(()=>{var i=t();if(pu(e,i,n),n&&i===void 0){var u=e.querySelector(":checked");u!==null&&(i=ar(u),r(i))}e.__value=i,n=!1}),Ha(e)}function Ga(e,t){for(var r of e.options)r.selected=~t.indexOf(ar(r))}function ar(e){return"__value"in e?e.__value:e.value}function di(e,t){return e===t||(e==null?void 0:e[Yt])===t}function ln(e={},t,r,n){return mr(()=>{var i,u;return eu(()=>{i=u,u=[],Sa(()=>{e!==r(...u)&&(t(e,...u),i&&di(r(...i),e)&&t(null,...i))})}),()=>{Ea(()=>{u&&di(r(...u),e)&&t(null,...u)})}}),e}const Ja="5";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Ja);class Ka extends Error{constructor(t,r,n){super(r,n),this.code=t}}class Ir extends Ka{}(e=>{e.codes={TJA_COURSE_NOT_ENDED:"#END가 선언되지 않음.",UNKNOWN_DIFFICULTY:"알 수 없는 난이도."}})(Ir||(Ir={}));class Zn{static parse(t,r){let n=t.indexOf(" ");n===-1&&(n=t.length);const i=t.slice(1,n),u=t.slice(n+1);return new Zn({name:i,value:u,time:r})}constructor(t){this.name=t.name,this.value=t.value,this.time=t.time}}function Pr(){return Pr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pr.apply(null,arguments)}var vu={relTol:1e-12,absTol:1e-15,matrix:"Matrix",number:"number",numberFallback:"number",precision:64,predictable:!1,randomSeed:null};function ja(e,t){if(Rr(e,t))return e[t];throw typeof e[t]=="function"&&es(e,t)?new Error('Cannot access method "'+t+'" as a property'):new Error('No access to property "'+t+'"')}function Qa(e,t,r){if(Rr(e,t))return e[t]=r,r;throw new Error('No access to property "'+t+'"')}function Rr(e,t){return!ts(e)&&!Array.isArray(e)?!1:cr(rs,t)?!0:!(t in Object.prototype||t in Function.prototype)}function es(e,t){return e==null||typeof e[t]!="function"||cr(e,t)&&Object.getPrototypeOf&&t in Object.getPrototypeOf(e)?!1:cr(ns,t)?!0:!(t in Object.prototype||t in Function.prototype)}function ts(e){return typeof e=="object"&&e&&e.constructor===Object}var rs={length:!0,name:!0},ns={toString:!0,valueOf:!0,toLocaleString:!0};class is{constructor(t){this.wrappedObject=t,this[Symbol.iterator]=this.entries}keys(){return Object.keys(this.wrappedObject).filter(t=>this.has(t)).values()}get(t){return ja(this.wrappedObject,t)}set(t,r){return Qa(this.wrappedObject,t,r),this}has(t){return Rr(this.wrappedObject,t)&&t in this.wrappedObject}entries(){return us(this.keys(),t=>[t,this.get(t)])}forEach(t){for(var r of this.keys())t(this.get(r),r,this)}delete(t){Rr(this.wrappedObject,t)&&delete this.wrappedObject[t]}clear(){for(var t of this.keys())this.delete(t)}get size(){return Object.keys(this.wrappedObject).length}}function us(e,t){return{next:()=>{var r=e.next();return r.done?r:{value:t(r.value),done:!1}}}}function pe(e){return typeof e=="number"}function _e(e){return!e||typeof e!="object"||typeof e.constructor!="function"?!1:e.isBigNumber===!0&&typeof e.constructor.prototype=="object"&&e.constructor.prototype.isBigNumber===!0||typeof e.constructor.isDecimal=="function"&&e.constructor.isDecimal(e)===!0}function os(e){return typeof e=="bigint"}function mu(e){return e&&typeof e=="object"&&Object.getPrototypeOf(e).isComplex===!0||!1}function gu(e){return e&&typeof e=="object"&&Object.getPrototypeOf(e).isFraction===!0||!1}function wu(e){return e&&e.constructor.prototype.isUnit===!0||!1}function ct(e){return typeof e=="string"}var Se=Array.isArray;function Ae(e){return e&&e.constructor.prototype.isMatrix===!0||!1}function zr(e){return Array.isArray(e)||Ae(e)}function as(e){return e&&e.isDenseMatrix&&e.constructor.prototype.isMatrix===!0||!1}function ss(e){return e&&e.isSparseMatrix&&e.constructor.prototype.isMatrix===!0||!1}function fs(e){return e&&e.constructor.prototype.isRange===!0||!1}function Vn(e){return e&&e.constructor.prototype.isIndex===!0||!1}function cs(e){return typeof e=="boolean"}function ls(e){return e&&e.constructor.prototype.isResultSet===!0||!1}function hs(e){return e&&e.constructor.prototype.isHelp===!0||!1}function Ds(e){return typeof e=="function"}function ds(e){return e instanceof Date}function ps(e){return e instanceof RegExp}function Wn(e){return!!(e&&typeof e=="object"&&e.constructor===Object&&!mu(e)&&!gu(e))}function vs(e){return e?e instanceof Map||e instanceof is||typeof e.set=="function"&&typeof e.get=="function"&&typeof e.keys=="function"&&typeof e.has=="function":!1}function ms(e){return e===null}function gs(e){return e===void 0}function ws(e){return e&&e.isAccessorNode===!0&&e.constructor.prototype.isNode===!0||!1}function ys(e){return e&&e.isArrayNode===!0&&e.constructor.prototype.isNode===!0||!1}function Es(e){return e&&e.isAssignmentNode===!0&&e.constructor.prototype.isNode===!0||!1}function Fs(e){return e&&e.isBlockNode===!0&&e.constructor.prototype.isNode===!0||!1}function As(e){return e&&e.isConditionalNode===!0&&e.constructor.prototype.isNode===!0||!1}function Cs(e){return e&&e.isConstantNode===!0&&e.constructor.prototype.isNode===!0||!1}function _s(e){return e&&e.isFunctionAssignmentNode===!0&&e.constructor.prototype.isNode===!0||!1}function bs(e){return e&&e.isFunctionNode===!0&&e.constructor.prototype.isNode===!0||!1}function Bs(e){return e&&e.isIndexNode===!0&&e.constructor.prototype.isNode===!0||!1}function Ns(e){return e&&e.isNode===!0&&e.constructor.prototype.isNode===!0||!1}function Ms(e){return e&&e.isObjectNode===!0&&e.constructor.prototype.isNode===!0||!1}function Ss(e){return e&&e.isOperatorNode===!0&&e.constructor.prototype.isNode===!0||!1}function xs(e){return e&&e.isParenthesisNode===!0&&e.constructor.prototype.isNode===!0||!1}function Ts(e){return e&&e.isRangeNode===!0&&e.constructor.prototype.isNode===!0||!1}function Os(e){return e&&e.isRelationalNode===!0&&e.constructor.prototype.isNode===!0||!1}function Is(e){return e&&e.isSymbolNode===!0&&e.constructor.prototype.isNode===!0||!1}function Ps(e){return e&&e.constructor.prototype.isChain===!0||!1}function bt(e){var t=typeof e;return t==="object"?e===null?"null":_e(e)?"BigNumber":e.constructor&&e.constructor.name?e.constructor.name:"Object":t}function Fe(e){var t=typeof e;if(t==="number"||t==="bigint"||t==="string"||t==="boolean"||e===null||e===void 0)return e;if(typeof e.clone=="function")return e.clone();if(Array.isArray(e))return e.map(function(r){return Fe(r)});if(e instanceof Date)return new Date(e.valueOf());if(_e(e))return e;if(Wn(e))return Rs(e,Fe);if(t==="function")return e;throw new TypeError("Cannot clone: unknown type of value (value: ".concat(e,")"))}function Rs(e,t){var r={};for(var n in e)cr(e,n)&&(r[n]=t(e[n]));return r}function yu(e,t){for(var r in t)cr(t,r)&&(e[r]=t[r]);return e}function Bt(e,t){var r,n,i;if(Array.isArray(e)){if(!Array.isArray(t)||e.length!==t.length)return!1;for(n=0,i=e.length;n<i;n++)if(!Bt(e[n],t[n]))return!1;return!0}else{if(typeof e=="function")return e===t;if(e instanceof Object){if(Array.isArray(t)||!(t instanceof Object))return!1;for(r in e)if(!(r in t)||!Bt(e[r],t[r]))return!1;for(r in t)if(!(r in e))return!1;return!0}else return e===t}}function cr(e,t){return e&&Object.hasOwnProperty.call(e,t)}function zs(e,t){for(var r={},n=0;n<t.length;n++){var i=t[n],u=e[i];u!==void 0&&(r[i]=u)}return r}var qs=["Matrix","Array"],$s=["number","BigNumber","Fraction"],wr=function(t){if(t)throw new Error(`The global config is readonly. 
Please create a mathjs instance if you want to change the default configuration. 
Example:

  import { create, all } from 'mathjs';
  const mathjs = create(all);
  mathjs.config({ number: 'BigNumber' });
`);return Object.freeze(vu)};Pr(wr,vu,{MATRIX_OPTIONS:qs,NUMBER_OPTIONS:$s});function pi(){return!0}function tt(){return!1}function Wt(){}const vi="Argument is not a typed-function.";function Eu(){function e(g){return typeof g=="object"&&g!==null&&g.constructor===Object}const t=[{name:"number",test:function(g){return typeof g=="number"}},{name:"string",test:function(g){return typeof g=="string"}},{name:"boolean",test:function(g){return typeof g=="boolean"}},{name:"Function",test:function(g){return typeof g=="function"}},{name:"Array",test:Array.isArray},{name:"Date",test:function(g){return g instanceof Date}},{name:"RegExp",test:function(g){return g instanceof RegExp}},{name:"Object",test:e},{name:"null",test:function(g){return g===null}},{name:"undefined",test:function(g){return g===void 0}}],r={name:"any",test:pi,isAny:!0};let n,i,u=0,o={createCount:0};function s(g){const F=n.get(g);if(F)return F;let N='Unknown type "'+g+'"';const x=g.toLowerCase();let R;for(R of i)if(R.toLowerCase()===x){N+='. Did you mean "'+R+'" ?';break}throw new TypeError(N)}function c(g){let F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"any";const N=F?s(F).index:i.length,x=[];for(let O=0;O<g.length;++O){if(!g[O]||typeof g[O].name!="string"||typeof g[O].test!="function")throw new TypeError("Object with properties {name: string, test: function} expected");const U=g[O].name;if(n.has(U))throw new TypeError('Duplicate type name "'+U+'"');x.push(U),n.set(U,{name:U,test:g[O].test,isAny:g[O].isAny,index:N+O,conversionsTo:[]})}const R=i.slice(N);i=i.slice(0,N).concat(x).concat(R);for(let O=N+x.length;O<i.length;++O)n.get(i[O]).index=O}function f(){n=new Map,i=[],u=0,c([r],!1)}f(),c(t);function a(){let g;for(g of i)n.get(g).conversionsTo=[];u=0}function l(g){const F=i.filter(N=>{const x=n.get(N);return!x.isAny&&x.test(g)});return F.length?F:["any"]}function D(g){return g&&typeof g=="function"&&"_typedFunctionData"in g}function d(g,F,N){if(!D(g))throw new TypeError(vi);const x=N&&N.exact,R=Array.isArray(F)?F.join(","):F,O=A(R),U=p(O);if(!x||U in g.signatures){const oe=g._typedFunctionData.signatureMap.get(U);if(oe)return oe}const q=O.length;let Z;if(x){Z=[];let oe;for(oe in g.signatures)Z.push(g._typedFunctionData.signatureMap.get(oe))}else Z=g._typedFunctionData.signatures;for(let oe=0;oe<q;++oe){const de=O[oe],Be=[];let Xe;for(Xe of Z){const Ve=b(Xe.params,oe);if(!(!Ve||de.restParam&&!Ve.restParam)){if(!Ve.hasAny){const ot=y(Ve);if(de.types.some(at=>!ot.has(at.name)))continue}Be.push(Xe)}}if(Z=Be,Z.length===0)break}let z;for(z of Z)if(z.params.length<=q)return z;throw new TypeError("Signature not found (signature: "+(g.name||"unnamed")+"("+p(O,", ")+"))")}function v(g,F,N){return d(g,F,N).implementation}function h(g,F){const N=s(F);if(N.test(g))return g;const x=N.conversionsTo;if(x.length===0)throw new Error("There are no conversions to "+F+" defined.");for(let R=0;R<x.length;R++)if(s(x[R].from).test(g))return x[R].convert(g);throw new Error("Cannot convert "+g+" to "+F)}function p(g){let F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:",";return g.map(N=>N.name).join(F)}function w(g){const F=g.indexOf("...")===0,x=(F?g.length>3?g.slice(3):"any":g).split("|").map(q=>s(q.trim()));let R=!1,O=F?"...":"";return{types:x.map(function(q){return R=q.isAny||R,O+=q.name+"|",{name:q.name,typeIndex:q.index,test:q.test,isAny:q.isAny,conversion:null,conversionIndex:-1}}),name:O.slice(0,-1),hasAny:R,hasConversion:!1,restParam:F}}function C(g){const F=g.types.map(U=>U.name),N=J(F);let x=g.hasAny,R=g.name;const O=N.map(function(U){const q=s(U.from);return x=q.isAny||x,R+="|"+U.from,{name:U.from,typeIndex:q.index,test:q.test,isAny:q.isAny,conversion:U,conversionIndex:U.index}});return{types:g.types.concat(O),name:R,hasAny:x,hasConversion:O.length>0,restParam:g.restParam}}function y(g){return g.typeSet||(g.typeSet=new Set,g.types.forEach(F=>g.typeSet.add(F.name))),g.typeSet}function A(g){const F=[];if(typeof g!="string")throw new TypeError("Signatures must be strings");const N=g.trim();if(N==="")return F;const x=N.split(",");for(let R=0;R<x.length;++R){const O=w(x[R].trim());if(O.restParam&&R!==x.length-1)throw new SyntaxError('Unexpected rest parameter "'+x[R]+'": only allowed for the last parameter');if(O.types.length===0)return null;F.push(O)}return F}function E(g){const F=ce(g);return F?F.restParam:!1}function m(g){if(!g||g.types.length===0)return pi;if(g.types.length===1)return s(g.types[0].name).test;if(g.types.length===2){const F=s(g.types[0].name).test,N=s(g.types[1].name).test;return function(R){return F(R)||N(R)}}else{const F=g.types.map(function(N){return s(N.name).test});return function(x){for(let R=0;R<F.length;R++)if(F[R](x))return!0;return!1}}}function _(g){let F,N,x;if(E(g)){F=Ze(g).map(m);const R=F.length,O=m(ce(g)),U=function(q){for(let Z=R;Z<q.length;Z++)if(!O(q[Z]))return!1;return!0};return function(Z){for(let z=0;z<F.length;z++)if(!F[z](Z[z]))return!1;return U(Z)&&Z.length>=R+1}}else return g.length===0?function(O){return O.length===0}:g.length===1?(N=m(g[0]),function(O){return N(O[0])&&O.length===1}):g.length===2?(N=m(g[0]),x=m(g[1]),function(O){return N(O[0])&&x(O[1])&&O.length===2}):(F=g.map(m),function(O){for(let U=0;U<F.length;U++)if(!F[U](O[U]))return!1;return O.length===F.length})}function b(g,F){return F<g.length?g[F]:E(g)?ce(g):null}function B(g,F){const N=b(g,F);return N?y(N):new Set}function S(g){return g.conversion===null||g.conversion===void 0}function T(g,F){const N=new Set;return g.forEach(x=>{const R=B(x.params,F);let O;for(O of R)N.add(O)}),N.has("any")?["any"]:Array.from(N)}function $(g,F,N){let x,R;const O=g||"unnamed";let U=N,q;for(q=0;q<F.length;q++){const de=[];if(U.forEach(Be=>{const Xe=b(Be.params,q),Ve=m(Xe);(q<Be.params.length||E(Be.params))&&Ve(F[q])&&de.push(Be)}),de.length===0){if(R=T(U,q),R.length>0){const Be=l(F[q]);return x=new TypeError("Unexpected type of argument in function "+O+" (expected: "+R.join(" or ")+", actual: "+Be.join(" | ")+", index: "+q+")"),x.data={category:"wrongType",fn:O,index:q,actual:Be,expected:R},x}}else U=de}const Z=U.map(function(de){return E(de.params)?1/0:de.params.length});if(F.length<Math.min.apply(null,Z))return R=T(U,q),x=new TypeError("Too few arguments in function "+O+" (expected: "+R.join(" or ")+", index: "+F.length+")"),x.data={category:"tooFewArgs",fn:O,index:F.length,expected:R},x;const z=Math.max.apply(null,Z);if(F.length>z)return x=new TypeError("Too many arguments in function "+O+" (expected: "+z+", actual: "+F.length+")"),x.data={category:"tooManyArgs",fn:O,index:F.length,expectedLength:z},x;const oe=[];for(let de=0;de<F.length;++de)oe.push(l(F[de]).join("|"));return x=new TypeError('Arguments of type "'+oe.join(", ")+'" do not match any of the defined signatures of function '+O+"."),x.data={category:"mismatch",actual:oe},x}function X(g){let F=i.length+1;for(let N=0;N<g.types.length;N++)S(g.types[N])&&(F=Math.min(F,g.types[N].typeIndex));return F}function V(g){let F=u+1;for(let N=0;N<g.types.length;N++)S(g.types[N])||(F=Math.min(F,g.types[N].conversionIndex));return F}function W(g,F){if(g.hasAny){if(!F.hasAny)return 1}else if(F.hasAny)return-1;if(g.restParam){if(!F.restParam)return 1}else if(F.restParam)return-1;if(g.hasConversion){if(!F.hasConversion)return 1}else if(F.hasConversion)return-1;const N=X(g)-X(F);if(N<0)return-1;if(N>0)return 1;const x=V(g)-V(F);return x<0?-1:x>0?1:0}function P(g,F){const N=g.params,x=F.params,R=ce(N),O=ce(x),U=E(N),q=E(x);if(U&&R.hasAny){if(!q||!O.hasAny)return 1}else if(q&&O.hasAny)return-1;let Z=0,z=0,oe;for(oe of N)oe.hasAny&&++Z,oe.hasConversion&&++z;let de=0,Be=0;for(oe of x)oe.hasAny&&++de,oe.hasConversion&&++Be;if(Z!==de)return Z-de;if(U&&R.hasConversion){if(!q||!O.hasConversion)return 1}else if(q&&O.hasConversion)return-1;if(z!==Be)return z-Be;if(U){if(!q)return 1}else if(q)return-1;const Xe=(N.length-x.length)*(U?-1:1);if(Xe!==0)return Xe;const Ve=[];let ot=0;for(let Zt=0;Zt<N.length;++Zt){const Er=W(N[Zt],x[Zt]);Ve.push(Er),ot+=Er}if(ot!==0)return ot;let at;for(at of Ve)if(at!==0)return at;return 0}function J(g){if(g.length===0)return[];const F=g.map(s);g.length>1&&F.sort((R,O)=>R.index-O.index);let N=F[0].conversionsTo;if(g.length===1)return N;N=N.concat([]);const x=new Set(g);for(let R=1;R<F.length;++R){let O;for(O of F[R].conversionsTo)x.has(O.from)||(N.push(O),x.add(O.from))}return N}function H(g,F){let N=F;if(g.some(R=>R.hasConversion)){const R=E(g),O=g.map(k);N=function(){const q=[],Z=R?arguments.length-1:arguments.length;for(let z=0;z<Z;z++)q[z]=O[z](arguments[z]);return R&&(q[Z]=arguments[Z].map(O[Z])),F.apply(this,q)}}let x=N;if(E(g)){const R=g.length-1;x=function(){return N.apply(this,ue(arguments,0,R).concat([ue(arguments,R)]))}}return x}function k(g){let F,N,x,R;const O=[],U=[];switch(g.types.forEach(function(q){q.conversion&&(O.push(s(q.conversion.from).test),U.push(q.conversion.convert))}),U.length){case 0:return function(Z){return Z};case 1:return F=O[0],x=U[0],function(Z){return F(Z)?x(Z):Z};case 2:return F=O[0],N=O[1],x=U[0],R=U[1],function(Z){return F(Z)?x(Z):N(Z)?R(Z):Z};default:return function(Z){for(let z=0;z<U.length;z++)if(O[z](Z))return U[z](Z);return Z}}}function Q(g){function F(N,x,R){if(x<N.length){const O=N[x];let U=[];if(O.restParam){const q=O.types.filter(S);q.length<O.types.length&&U.push({types:q,name:"..."+q.map(Z=>Z.name).join("|"),hasAny:q.some(Z=>Z.isAny),hasConversion:!1,restParam:!0}),U.push(O)}else U=O.types.map(function(q){return{types:[q],name:q.name,hasAny:q.isAny,hasConversion:q.conversion,restParam:!1}});return Re(U,function(q){return F(N,x+1,R.concat([q]))})}else return[R]}return F(g,0,[])}function ie(g,F){const N=Math.max(g.length,F.length);for(let q=0;q<N;q++){const Z=B(g,q),z=B(F,q);let oe=!1,de;for(de of z)if(Z.has(de)){oe=!0;break}if(!oe)return!1}const x=g.length,R=F.length,O=E(g),U=E(F);return O?U?x===R:R>=x:U?x>=R:x===R}function re(g){return g.map(F=>vt(F)?et(F.referToSelf.callback):pt(F)?Te(F.referTo.references,F.referTo.callback):F)}function fe(g,F,N){const x=[];let R;for(R of g){let O=N[R];if(typeof O!="number")throw new TypeError('No definition for referenced signature "'+R+'"');if(O=F[O],typeof O!="function")return!1;x.push(O)}return x}function be(g,F,N){const x=re(g),R=new Array(x.length).fill(!1);let O=!0;for(;O;){O=!1;let U=!0;for(let q=0;q<x.length;++q){if(R[q])continue;const Z=x[q];if(vt(Z))x[q]=Z.referToSelf.callback(N),x[q].referToSelf=Z.referToSelf,R[q]=!0,U=!1;else if(pt(Z)){const z=fe(Z.referTo.references,x,F);z?(x[q]=Z.referTo.callback.apply(this,z),x[q].referTo=Z.referTo,R[q]=!0,U=!1):O=!0}}if(U&&O)throw new SyntaxError("Circular reference detected in resolving typed.referTo")}return x}function Ce(g){const F=/\bthis(\(|\.signatures\b)/;Object.keys(g).forEach(N=>{const x=g[N];if(F.test(x.toString()))throw new SyntaxError("Using `this` to self-reference a function is deprecated since typed-function@3. Use typed.referTo and typed.referToSelf instead.")})}function ye(g,F){if(o.createCount++,Object.keys(F).length===0)throw new SyntaxError("No signatures provided");o.warnAgainstDeprecatedThis&&Ce(F);const N=[],x=[],R={},O=[];let U;for(U in F){if(!Object.prototype.hasOwnProperty.call(F,U))continue;const ne=A(U);if(!ne)continue;N.forEach(function(ir){if(ie(ir,ne))throw new TypeError('Conflicting signatures "'+p(ir)+'" and "'+p(ne)+'".')}),N.push(ne);const ke=x.length;x.push(F[U]);const Oo=ne.map(C);let Fr;for(Fr of Q(Oo)){const ir=p(Fr);O.push({params:Fr,name:ir,fn:ke}),Fr.every(Io=>!Io.hasConversion)&&(R[ir]=ke)}}O.sort(P);const q=be(x,R,nr);let Z;for(Z in R)Object.prototype.hasOwnProperty.call(R,Z)&&(R[Z]=q[R[Z]]);const z=[],oe=new Map;for(Z of O)oe.has(Z.name)||(Z.fn=q[Z.fn],z.push(Z),oe.set(Z.name,Z));const de=z[0]&&z[0].params.length<=2&&!E(z[0].params),Be=z[1]&&z[1].params.length<=2&&!E(z[1].params),Xe=z[2]&&z[2].params.length<=2&&!E(z[2].params),Ve=z[3]&&z[3].params.length<=2&&!E(z[3].params),ot=z[4]&&z[4].params.length<=2&&!E(z[4].params),at=z[5]&&z[5].params.length<=2&&!E(z[5].params),Zt=de&&Be&&Xe&&Ve&&ot&&at;for(let ne=0;ne<z.length;++ne)z[ne].test=_(z[ne].params);const Er=de?m(z[0].params[0]):tt,io=Be?m(z[1].params[0]):tt,uo=Xe?m(z[2].params[0]):tt,oo=Ve?m(z[3].params[0]):tt,ao=ot?m(z[4].params[0]):tt,so=at?m(z[5].params[0]):tt,fo=de?m(z[0].params[1]):tt,co=Be?m(z[1].params[1]):tt,lo=Xe?m(z[2].params[1]):tt,ho=Ve?m(z[3].params[1]):tt,Do=ot?m(z[4].params[1]):tt,po=at?m(z[5].params[1]):tt;for(let ne=0;ne<z.length;++ne)z[ne].implementation=H(z[ne].params,z[ne].fn);const vo=de?z[0].implementation:Wt,mo=Be?z[1].implementation:Wt,go=Xe?z[2].implementation:Wt,wo=Ve?z[3].implementation:Wt,yo=ot?z[4].implementation:Wt,Eo=at?z[5].implementation:Wt,Fo=de?z[0].params.length:-1,Ao=Be?z[1].params.length:-1,Co=Xe?z[2].params.length:-1,_o=Ve?z[3].params.length:-1,bo=ot?z[4].params.length:-1,Bo=at?z[5].params.length:-1,No=Zt?6:0,Mo=z.length,So=z.map(ne=>ne.test),xo=z.map(ne=>ne.implementation),To=function(){for(let ke=No;ke<Mo;ke++)if(So[ke](arguments))return xo[ke].apply(this,arguments);return o.onMismatch(g,arguments,z)};function nr(ne,ke){return arguments.length===Fo&&Er(ne)&&fo(ke)?vo.apply(this,arguments):arguments.length===Ao&&io(ne)&&co(ke)?mo.apply(this,arguments):arguments.length===Co&&uo(ne)&&lo(ke)?go.apply(this,arguments):arguments.length===_o&&oo(ne)&&ho(ke)?wo.apply(this,arguments):arguments.length===bo&&ao(ne)&&Do(ke)?yo.apply(this,arguments):arguments.length===Bo&&so(ne)&&po(ke)?Eo.apply(this,arguments):To.apply(this,arguments)}try{Object.defineProperty(nr,"name",{value:g})}catch{}return nr.signatures=R,nr._typedFunctionData={signatures:z,signatureMap:oe},nr}function ve(g,F,N){throw $(g,F,N)}function Ze(g){return ue(g,0,g.length-1)}function ce(g){return g[g.length-1]}function ue(g,F,N){return Array.prototype.slice.call(g,F,N)}function Qe(g,F){for(let N=0;N<g.length;N++)if(F(g[N]))return g[N]}function Re(g,F){return Array.prototype.concat.apply([],g.map(F))}function le(){const g=Ze(arguments).map(N=>p(A(N))),F=ce(arguments);if(typeof F!="function")throw new TypeError("Callback function expected as last argument");return Te(g,F)}function Te(g,F){return{referTo:{references:g,callback:F}}}function et(g){if(typeof g!="function")throw new TypeError("Callback function expected as first argument");return{referToSelf:{callback:g}}}function pt(g){return g&&typeof g.referTo=="object"&&Array.isArray(g.referTo.references)&&typeof g.referTo.callback=="function"}function vt(g){return g&&typeof g.referToSelf=="object"&&typeof g.referToSelf.callback=="function"}function Lt(g,F){if(!g)return F;if(F&&F!==g){const N=new Error("Function names do not match (expected: "+g+", actual: "+F+")");throw N.data={actual:F,expected:g},N}return g}function Ut(g){let F;for(const N in g)Object.prototype.hasOwnProperty.call(g,N)&&(D(g[N])||typeof g[N].signature=="string")&&(F=Lt(F,g[N].name));return F}function sn(g,F){let N;for(N in F)if(Object.prototype.hasOwnProperty.call(F,N)){if(N in g&&F[N]!==g[N]){const x=new Error('Signature "'+N+'" is defined twice');throw x.data={signature:N,sourceFunction:F[N],destFunction:g[N]},x}g[N]=F[N]}}const no=o;o=function(g){const F=typeof g=="string",N=F?1:0;let x=F?g:"";const R={};for(let O=N;O<arguments.length;++O){const U=arguments[O];let q={},Z;if(typeof U=="function"?(Z=U.name,typeof U.signature=="string"?q[U.signature]=U:D(U)&&(q=U.signatures)):e(U)&&(q=U,F||(Z=Ut(U))),Object.keys(q).length===0){const z=new TypeError("Argument to 'typed' at index "+O+" is not a (typed) function, nor an object with signatures as keys and functions as values.");throw z.data={index:O,argument:U},z}F||(x=Lt(x,Z)),sn(R,q)}return ye(x||"",R)},o.create=Eu,o.createCount=no.createCount,o.onMismatch=ve,o.throwMismatchError=ve,o.createError=$,o.clear=f,o.clearConversions=a,o.addTypes=c,o._findType=s,o.referTo=le,o.referToSelf=et,o.convert=h,o.findSignature=d,o.find=v,o.isTypedFunction=D,o.warnAgainstDeprecatedThis=!0,o.addType=function(g,F){let N="any";F!==!1&&n.has("Object")&&(N="Object"),o.addTypes([g],N)};function ri(g){if(!g||typeof g.from!="string"||typeof g.to!="string"||typeof g.convert!="function")throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");if(g.to===g.from)throw new SyntaxError('Illegal to define conversion from "'+g.from+'" to itself.')}return o.addConversion=function(g){let F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{override:!1};ri(g);const N=s(g.to),x=N.conversionsTo.find(R=>R.from===g.from);if(x)if(F&&F.override)o.removeConversion({from:x.from,to:g.to,convert:x.convert});else throw new Error('There is already a conversion from "'+g.from+'" to "'+N.name+'"');N.conversionsTo.push({from:g.from,convert:g.convert,index:u++})},o.addConversions=function(g,F){g.forEach(N=>o.addConversion(N,F))},o.removeConversion=function(g){ri(g);const F=s(g.to),N=Qe(F.conversionsTo,R=>R.from===g.from);if(!N)throw new Error("Attempt to remove nonexistent conversion from "+g.from+" to "+g.to);if(N.convert!==g.convert)throw new Error("Conversion to remove does not match existing conversion");const x=F.conversionsTo.indexOf(N);F.conversionsTo.splice(x,1)},o.resolve=function(g,F){if(!D(g))throw new TypeError(vi);const N=g._typedFunctionData.signatures;for(let x=0;x<N.length;++x)if(N[x].test(F))return N[x];return null},o}const qr=Eu();function te(e,t,r,n){function i(u){var o=zs(u,t.map(Zs));return Ls(e,t,u),r(o)}return i.isFactory=!0,i.fn=e,i.dependencies=t.slice().sort(),n&&(i.meta=n),i}function Ls(e,t,r){var n=t.filter(u=>!Us(u)).every(u=>r[u]!==void 0);if(!n){var i=t.filter(u=>r[u]===void 0);throw new Error('Cannot create function "'.concat(e,'", ')+"some dependencies are missing: ".concat(i.map(u=>'"'.concat(u,'"')).join(", "),"."))}}function Us(e){return e&&e[0]==="?"}function Zs(e){return e&&e[0]==="?"?e.slice(1):e}function Me(e){return typeof e=="boolean"?!0:isFinite(e)?e===Math.round(e):!1}function hn(e,t,r){var n={2:"0b",8:"0o",16:"0x"},i=n[t],u="";if(r){if(r<1)throw new Error("size must be in greater than 0");if(!Me(r))throw new Error("size must be an integer");if(e>2**(r-1)-1||e<-(2**(r-1)))throw new Error("Value must be in range [-2^".concat(r-1,", 2^").concat(r-1,"-1]"));if(!Me(e))throw new Error("Value must be an integer");e<0&&(e=e+2**r),u="i".concat(r)}var o="";return e<0&&(e=-e,o="-"),"".concat(o).concat(i).concat(e.toString(t)).concat(u)}function Fn(e,t){if(typeof t=="function")return t(e);if(e===1/0)return"Infinity";if(e===-1/0)return"-Infinity";if(isNaN(e))return"NaN";var{notation:r,precision:n,wordSize:i}=Fu(t);switch(r){case"fixed":return Ws(e,n);case"exponential":return Au(e,n);case"engineering":return Vs(e,n);case"bin":return hn(e,2,i);case"oct":return hn(e,8,i);case"hex":return hn(e,16,i);case"auto":return Xs(e,n,t).replace(/((\.\d*?)(0+))($|e)/,function(){var u=arguments[2],o=arguments[4];return u!=="."?u+o:o});default:throw new Error('Unknown notation "'+r+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function Fu(e){var t="auto",r,n;if(e!==void 0)if(pe(e))r=e;else if(_e(e))r=e.toNumber();else if(Wn(e))e.precision!==void 0&&(r=mi(e.precision,()=>{throw new Error('Option "precision" must be a number or BigNumber')})),e.wordSize!==void 0&&(n=mi(e.wordSize,()=>{throw new Error('Option "wordSize" must be a number or BigNumber')})),e.notation&&(t=e.notation);else throw new Error("Unsupported type of options, number, BigNumber, or object expected");return{notation:t,precision:r,wordSize:n}}function Qr(e){var t=String(e).toLowerCase().match(/^(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!t)throw new SyntaxError("Invalid number "+e);var r=t[1],n=t[2],i=parseFloat(t[4]||"0"),u=n.indexOf(".");i+=u!==-1?u-1:n.length-1;var o=n.replace(".","").replace(/^0*/,function(s){return i-=s.length,""}).replace(/0*$/,"").split("").map(function(s){return parseInt(s)});return o.length===0&&(o.push(0),i++),{sign:r,coefficients:o,exponent:i}}function Vs(e,t){if(isNaN(e)||!isFinite(e))return String(e);var r=Qr(e),n=en(r,t),i=n.exponent,u=n.coefficients,o=i%3===0?i:i<0?i-3-i%3:i-i%3;if(pe(t))for(;t>u.length||i-o+1>u.length;)u.push(0);else for(var s=Math.abs(i-o)-(u.length-1),c=0;c<s;c++)u.push(0);for(var f=Math.abs(i-o),a=1;f>0;)a++,f--;var l=u.slice(a).join(""),D=pe(t)&&l.length||l.match(/[1-9]/)?"."+l:"",d=u.slice(0,a).join("")+D+"e"+(i>=0?"+":"")+o.toString();return n.sign+d}function Ws(e,t){if(isNaN(e)||!isFinite(e))return String(e);var r=Qr(e),n=typeof t=="number"?en(r,r.exponent+1+t):r,i=n.coefficients,u=n.exponent+1,o=u+(t||0);return i.length<o&&(i=i.concat(Jt(o-i.length))),u<0&&(i=Jt(-u+1).concat(i),u=1),u<i.length&&i.splice(u,0,u===0?"0.":"."),n.sign+i.join("")}function Au(e,t){if(isNaN(e)||!isFinite(e))return String(e);var r=Qr(e),n=t?en(r,t):r,i=n.coefficients,u=n.exponent;i.length<t&&(i=i.concat(Jt(t-i.length)));var o=i.shift();return n.sign+o+(i.length>0?"."+i.join(""):"")+"e"+(u>=0?"+":"")+u}function Xs(e,t,r){if(isNaN(e)||!isFinite(e))return String(e);var n=gi(r==null?void 0:r.lowerExp,-3),i=gi(r==null?void 0:r.upperExp,5),u=Qr(e),o=t?en(u,t):u;if(o.exponent<n||o.exponent>=i)return Au(e,t);var s=o.coefficients,c=o.exponent;s.length<t&&(s=s.concat(Jt(t-s.length))),s=s.concat(Jt(c-s.length+1+(s.length<t?t-s.length:0))),s=Jt(-c).concat(s);var f=c>0?c:0;return f<s.length-1&&s.splice(f+1,0,"."),o.sign+s.join("")}function en(e,t){for(var r={sign:e.sign,coefficients:e.coefficients,exponent:e.exponent},n=r.coefficients;t<=0;)n.unshift(0),r.exponent++,t++;if(n.length>t){var i=n.splice(t,n.length-t);if(i[0]>=5){var u=t-1;for(n[u]++;n[u]===10;)n.pop(),u===0&&(n.unshift(0),r.exponent++,u++),u--,n[u]++}}return r}function Jt(e){for(var t=[],r=0;r<e;r++)t.push(0);return t}function ks(e){return e.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length}function $r(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e-8,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;if(r<=0)throw new Error("Relative tolerance must be greater than 0");if(n<0)throw new Error("Absolute tolerance must be at least 0");return isNaN(e)||isNaN(t)?!1:!isFinite(e)||!isFinite(t)?e===t:e===t?!0:Math.abs(e-t)<=Math.max(r*Math.max(Math.abs(e),Math.abs(t)),n)}function mi(e,t){if(pe(e))return e;if(_e(e))return e.toNumber();t()}function gi(e,t){return pe(e)?e:_e(e)?e.toNumber():t}var Cu=function(){return Cu=qr.create,qr},Hs=["?BigNumber","?Complex","?DenseMatrix","?Fraction"],Ys=te("typed",Hs,function(t){var{BigNumber:r,Complex:n,DenseMatrix:i,Fraction:u}=t,o=Cu();return o.clear(),o.addTypes([{name:"number",test:pe},{name:"Complex",test:mu},{name:"BigNumber",test:_e},{name:"bigint",test:os},{name:"Fraction",test:gu},{name:"Unit",test:wu},{name:"identifier",test:s=>ct&&/^(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC4\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC4\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])*$/.test(s)},{name:"string",test:ct},{name:"Chain",test:Ps},{name:"Array",test:Se},{name:"Matrix",test:Ae},{name:"DenseMatrix",test:as},{name:"SparseMatrix",test:ss},{name:"Range",test:fs},{name:"Index",test:Vn},{name:"boolean",test:cs},{name:"ResultSet",test:ls},{name:"Help",test:hs},{name:"function",test:Ds},{name:"Date",test:ds},{name:"RegExp",test:ps},{name:"null",test:ms},{name:"undefined",test:gs},{name:"AccessorNode",test:ws},{name:"ArrayNode",test:ys},{name:"AssignmentNode",test:Es},{name:"BlockNode",test:Fs},{name:"ConditionalNode",test:As},{name:"ConstantNode",test:Cs},{name:"FunctionNode",test:bs},{name:"FunctionAssignmentNode",test:_s},{name:"IndexNode",test:Bs},{name:"Node",test:Ns},{name:"ObjectNode",test:Ms},{name:"OperatorNode",test:Ss},{name:"ParenthesisNode",test:xs},{name:"RangeNode",test:Ts},{name:"RelationalNode",test:Os},{name:"SymbolNode",test:Is},{name:"Map",test:vs},{name:"Object",test:Wn}]),o.addConversions([{from:"number",to:"BigNumber",convert:function(c){if(r||_r(c),ks(c)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+c+"). Use function bignumber(x) to convert to BigNumber.");return new r(c)}},{from:"number",to:"Complex",convert:function(c){return n||br(c),new n(c,0)}},{from:"BigNumber",to:"Complex",convert:function(c){return n||br(c),new n(c.toNumber(),0)}},{from:"bigint",to:"number",convert:function(c){if(c>Number.MAX_SAFE_INTEGER)throw new TypeError("Cannot implicitly convert bigint to number: value exceeds the max safe integer value (value: "+c+")");return Number(c)}},{from:"bigint",to:"BigNumber",convert:function(c){return r||_r(c),new r(c.toString())}},{from:"bigint",to:"Fraction",convert:function(c){return u||Br(c),new u(c)}},{from:"Fraction",to:"BigNumber",convert:function(c){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(c){return n||br(c),new n(c.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(c){u||Br(c);var f=new u(c);if(f.valueOf()!==c)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+c+"). Use function fraction(x) to convert to Fraction.");return f}},{from:"string",to:"number",convert:function(c){var f=Number(c);if(isNaN(f))throw new Error('Cannot convert "'+c+'" to a number');return f}},{from:"string",to:"BigNumber",convert:function(c){r||_r(c);try{return new r(c)}catch{throw new Error('Cannot convert "'+c+'" to BigNumber')}}},{from:"string",to:"bigint",convert:function(c){try{return BigInt(c)}catch{throw new Error('Cannot convert "'+c+'" to BigInt')}}},{from:"string",to:"Fraction",convert:function(c){u||Br(c);try{return new u(c)}catch{throw new Error('Cannot convert "'+c+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(c){n||br(c);try{return new n(c)}catch{throw new Error('Cannot convert "'+c+'" to Complex')}}},{from:"boolean",to:"number",convert:function(c){return+c}},{from:"boolean",to:"BigNumber",convert:function(c){return r||_r(c),new r(+c)}},{from:"boolean",to:"bigint",convert:function(c){return BigInt(+c)}},{from:"boolean",to:"Fraction",convert:function(c){return u||Br(c),new u(+c)}},{from:"boolean",to:"string",convert:function(c){return String(c)}},{from:"Array",to:"Matrix",convert:function(c){return i||Gs(),new i(c)}},{from:"Matrix",to:"Array",convert:function(c){return c.valueOf()}}]),o.onMismatch=(s,c,f)=>{var a=o.createError(s,c,f);if(["wrongType","mismatch"].includes(a.data.category)&&c.length===1&&zr(c[0])&&f.some(D=>!D.params.includes(","))){var l=new TypeError("Function '".concat(s,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(s,")'."));throw l.data=a.data,l}throw a},o.onMismatch=(s,c,f)=>{var a=o.createError(s,c,f);if(["wrongType","mismatch"].includes(a.data.category)&&c.length===1&&zr(c[0])&&f.some(D=>!D.params.includes(","))){var l=new TypeError("Function '".concat(s,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(s,")'."));throw l.data=a.data,l}throw a},o});function _r(e){throw new Error("Cannot convert value ".concat(e," into a BigNumber: no class 'BigNumber' provided"))}function br(e){throw new Error("Cannot convert value ".concat(e," into a Complex number: no class 'Complex' provided"))}function Gs(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}function Br(e){throw new Error("Cannot convert value ".concat(e," into a Fraction, no class 'Fraction' provided."))}/*!
 *  decimal.js v10.5.0
 *  An arbitrary-precision Decimal type for JavaScript.
 *  https://github.com/MikeMcl/decimal.js
 *  Copyright (c) 2025 Michael Mclaughlin <M8ch88l@gmail.com>
 *  MIT Licence
 */var An=9e15,Mt=1e9,Cn="0123456789abcdef",Lr="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",Ur="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",_n={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-9e15,maxE:An,crypto:!1},_u,gt,j=!0,tn="[DecimalError] ",Nt=tn+"Invalid argument: ",bu=tn+"Precision limit exceeded",Bu=tn+"crypto unavailable",Nu="[object Decimal]",Ue=Math.floor,xe=Math.pow,Js=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,Ks=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,js=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,Mu=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ft=1e7,K=7,Qs=9007199254740991,ef=Lr.length-1,bn=Ur.length-1,I={toStringTag:Nu};I.absoluteValue=I.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),G(e)};I.ceil=function(){return G(new this.constructor(this),this.e+1,2)};I.clampedTo=I.clamp=function(e,t){var r,n=this,i=n.constructor;if(e=new i(e),t=new i(t),!e.s||!t.s)return new i(NaN);if(e.gt(t))throw Error(Nt+t);return r=n.cmp(e),r<0?e:n.cmp(t)>0?t:new i(n)};I.comparedTo=I.cmp=function(e){var t,r,n,i,u=this,o=u.d,s=(e=new u.constructor(e)).d,c=u.s,f=e.s;if(!o||!s)return!c||!f?NaN:c!==f?c:o===s?0:!o^c<0?1:-1;if(!o[0]||!s[0])return o[0]?c:s[0]?-f:0;if(c!==f)return c;if(u.e!==e.e)return u.e>e.e^c<0?1:-1;for(n=o.length,i=s.length,t=0,r=n<i?n:i;t<r;++t)if(o[t]!==s[t])return o[t]>s[t]^c<0?1:-1;return n===i?0:n>i^c<0?1:-1};I.cosine=I.cos=function(){var e,t,r=this,n=r.constructor;return r.d?r.d[0]?(e=n.precision,t=n.rounding,n.precision=e+Math.max(r.e,r.sd())+K,n.rounding=1,r=tf(n,Iu(n,r)),n.precision=e,n.rounding=t,G(gt==2||gt==3?r.neg():r,e,t,!0)):new n(1):new n(NaN)};I.cubeRoot=I.cbrt=function(){var e,t,r,n,i,u,o,s,c,f,a=this,l=a.constructor;if(!a.isFinite()||a.isZero())return new l(a);for(j=!1,u=a.s*xe(a.s*a,1/3),!u||Math.abs(u)==1/0?(r=qe(a.d),e=a.e,(u=(e-r.length+1)%3)&&(r+=u==1||u==-2?"0":"00"),u=xe(r,1/3),e=Ue((e+1)/3)-(e%3==(e<0?-1:2)),u==1/0?r="5e"+e:(r=u.toExponential(),r=r.slice(0,r.indexOf("e")+1)+e),n=new l(r),n.s=a.s):n=new l(u.toString()),o=(e=l.precision)+3;;)if(s=n,c=s.times(s).times(s),f=c.plus(a),n=De(f.plus(a).times(s),f.plus(c),o+2,1),qe(s.d).slice(0,o)===(r=qe(n.d)).slice(0,o))if(r=r.slice(o-3,o+1),r=="9999"||!i&&r=="4999"){if(!i&&(G(s,e+1,0),s.times(s).times(s).eq(a))){n=s;break}o+=4,i=1}else{(!+r||!+r.slice(1)&&r.charAt(0)=="5")&&(G(n,e+1,1),t=!n.times(n).times(n).eq(a));break}return j=!0,G(n,e,l.rounding,t)};I.decimalPlaces=I.dp=function(){var e,t=this.d,r=NaN;if(t){if(e=t.length-1,r=(e-Ue(this.e/K))*K,e=t[e],e)for(;e%10==0;e/=10)r--;r<0&&(r=0)}return r};I.dividedBy=I.div=function(e){return De(this,new this.constructor(e))};I.dividedToIntegerBy=I.divToInt=function(e){var t=this,r=t.constructor;return G(De(t,new r(e),0,1,1),r.precision,r.rounding)};I.equals=I.eq=function(e){return this.cmp(e)===0};I.floor=function(){return G(new this.constructor(this),this.e+1,3)};I.greaterThan=I.gt=function(e){return this.cmp(e)>0};I.greaterThanOrEqualTo=I.gte=function(e){var t=this.cmp(e);return t==1||t===0};I.hyperbolicCosine=I.cosh=function(){var e,t,r,n,i,u=this,o=u.constructor,s=new o(1);if(!u.isFinite())return new o(u.s?1/0:NaN);if(u.isZero())return s;r=o.precision,n=o.rounding,o.precision=r+Math.max(u.e,u.sd())+4,o.rounding=1,i=u.d.length,i<32?(e=Math.ceil(i/3),t=(1/nn(4,e)).toString()):(e=16,t="2.3283064365386962890625e-10"),u=er(o,1,u.times(t),new o(1),!0);for(var c,f=e,a=new o(8);f--;)c=u.times(u),u=s.minus(c.times(a.minus(c.times(a))));return G(u,o.precision=r,o.rounding=n,!0)};I.hyperbolicSine=I.sinh=function(){var e,t,r,n,i=this,u=i.constructor;if(!i.isFinite()||i.isZero())return new u(i);if(t=u.precision,r=u.rounding,u.precision=t+Math.max(i.e,i.sd())+4,u.rounding=1,n=i.d.length,n<3)i=er(u,2,i,i,!0);else{e=1.4*Math.sqrt(n),e=e>16?16:e|0,i=i.times(1/nn(5,e)),i=er(u,2,i,i,!0);for(var o,s=new u(5),c=new u(16),f=new u(20);e--;)o=i.times(i),i=i.times(s.plus(o.times(c.times(o).plus(f))))}return u.precision=t,u.rounding=r,G(i,t,r,!0)};I.hyperbolicTangent=I.tanh=function(){var e,t,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+7,n.rounding=1,De(r.sinh(),r.cosh(),n.precision=e,n.rounding=t)):new n(r.s)};I.inverseCosine=I.acos=function(){var e=this,t=e.constructor,r=e.abs().cmp(1),n=t.precision,i=t.rounding;return r!==-1?r===0?e.isNeg()?lt(t,n,i):new t(0):new t(NaN):e.isZero()?lt(t,n+4,i).times(.5):(t.precision=n+6,t.rounding=1,e=new t(1).minus(e).div(e.plus(1)).sqrt().atan(),t.precision=n,t.rounding=i,e.times(2))};I.inverseHyperbolicCosine=I.acosh=function(){var e,t,r=this,n=r.constructor;return r.lte(1)?new n(r.eq(1)?0:NaN):r.isFinite()?(e=n.precision,t=n.rounding,n.precision=e+Math.max(Math.abs(r.e),r.sd())+4,n.rounding=1,j=!1,r=r.times(r).minus(1).sqrt().plus(r),j=!0,n.precision=e,n.rounding=t,r.ln()):new n(r)};I.inverseHyperbolicSine=I.asinh=function(){var e,t,r=this,n=r.constructor;return!r.isFinite()||r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+2*Math.max(Math.abs(r.e),r.sd())+6,n.rounding=1,j=!1,r=r.times(r).plus(1).sqrt().plus(r),j=!0,n.precision=e,n.rounding=t,r.ln())};I.inverseHyperbolicTangent=I.atanh=function(){var e,t,r,n,i=this,u=i.constructor;return i.isFinite()?i.e>=0?new u(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(e=u.precision,t=u.rounding,n=i.sd(),Math.max(n,e)<2*-i.e-1?G(new u(i),e,t,!0):(u.precision=r=n-i.e,i=De(i.plus(1),new u(1).minus(i),r+e,1),u.precision=e+4,u.rounding=1,i=i.ln(),u.precision=e,u.rounding=t,i.times(.5))):new u(NaN)};I.inverseSine=I.asin=function(){var e,t,r,n,i=this,u=i.constructor;return i.isZero()?new u(i):(t=i.abs().cmp(1),r=u.precision,n=u.rounding,t!==-1?t===0?(e=lt(u,r+4,n).times(.5),e.s=i.s,e):new u(NaN):(u.precision=r+6,u.rounding=1,i=i.div(new u(1).minus(i.times(i)).sqrt().plus(1)).atan(),u.precision=r,u.rounding=n,i.times(2)))};I.inverseTangent=I.atan=function(){var e,t,r,n,i,u,o,s,c,f=this,a=f.constructor,l=a.precision,D=a.rounding;if(f.isFinite()){if(f.isZero())return new a(f);if(f.abs().eq(1)&&l+4<=bn)return o=lt(a,l+4,D).times(.25),o.s=f.s,o}else{if(!f.s)return new a(NaN);if(l+4<=bn)return o=lt(a,l+4,D).times(.5),o.s=f.s,o}for(a.precision=s=l+10,a.rounding=1,r=Math.min(28,s/K+2|0),e=r;e;--e)f=f.div(f.times(f).plus(1).sqrt().plus(1));for(j=!1,t=Math.ceil(s/K),n=1,c=f.times(f),o=new a(f),i=f;e!==-1;)if(i=i.times(c),u=o.minus(i.div(n+=2)),i=i.times(c),o=u.plus(i.div(n+=2)),o.d[t]!==void 0)for(e=t;o.d[e]===u.d[e]&&e--;);return r&&(o=o.times(2<<r-1)),j=!0,G(o,a.precision=l,a.rounding=D,!0)};I.isFinite=function(){return!!this.d};I.isInteger=I.isInt=function(){return!!this.d&&Ue(this.e/K)>this.d.length-2};I.isNaN=function(){return!this.s};I.isNegative=I.isNeg=function(){return this.s<0};I.isPositive=I.isPos=function(){return this.s>0};I.isZero=function(){return!!this.d&&this.d[0]===0};I.lessThan=I.lt=function(e){return this.cmp(e)<0};I.lessThanOrEqualTo=I.lte=function(e){return this.cmp(e)<1};I.logarithm=I.log=function(e){var t,r,n,i,u,o,s,c,f=this,a=f.constructor,l=a.precision,D=a.rounding,d=5;if(e==null)e=new a(10),t=!0;else{if(e=new a(e),r=e.d,e.s<0||!r||!r[0]||e.eq(1))return new a(NaN);t=e.eq(10)}if(r=f.d,f.s<0||!r||!r[0]||f.eq(1))return new a(r&&!r[0]?-1/0:f.s!=1?NaN:r?0:1/0);if(t)if(r.length>1)u=!0;else{for(i=r[0];i%10===0;)i/=10;u=i!==1}if(j=!1,s=l+d,o=Ct(f,s),n=t?Zr(a,s+10):Ct(e,s),c=De(o,n,s,1),lr(c.d,i=l,D))do if(s+=10,o=Ct(f,s),n=t?Zr(a,s+10):Ct(e,s),c=De(o,n,s,1),!u){+qe(c.d).slice(i+1,i+15)+1==1e14&&(c=G(c,l+1,0));break}while(lr(c.d,i+=10,D));return j=!0,G(c,l,D)};I.minus=I.sub=function(e){var t,r,n,i,u,o,s,c,f,a,l,D,d=this,v=d.constructor;if(e=new v(e),!d.d||!e.d)return!d.s||!e.s?e=new v(NaN):d.d?e.s=-e.s:e=new v(e.d||d.s!==e.s?d:NaN),e;if(d.s!=e.s)return e.s=-e.s,d.plus(e);if(f=d.d,D=e.d,s=v.precision,c=v.rounding,!f[0]||!D[0]){if(D[0])e.s=-e.s;else if(f[0])e=new v(d);else return new v(c===3?-0:0);return j?G(e,s,c):e}if(r=Ue(e.e/K),a=Ue(d.e/K),f=f.slice(),u=a-r,u){for(l=u<0,l?(t=f,u=-u,o=D.length):(t=D,r=a,o=f.length),n=Math.max(Math.ceil(s/K),o)+2,u>n&&(u=n,t.length=1),t.reverse(),n=u;n--;)t.push(0);t.reverse()}else{for(n=f.length,o=D.length,l=n<o,l&&(o=n),n=0;n<o;n++)if(f[n]!=D[n]){l=f[n]<D[n];break}u=0}for(l&&(t=f,f=D,D=t,e.s=-e.s),o=f.length,n=D.length-o;n>0;--n)f[o++]=0;for(n=D.length;n>u;){if(f[--n]<D[n]){for(i=n;i&&f[--i]===0;)f[i]=ft-1;--f[i],f[n]+=ft}f[n]-=D[n]}for(;f[--o]===0;)f.pop();for(;f[0]===0;f.shift())--r;return f[0]?(e.d=f,e.e=rn(f,r),j?G(e,s,c):e):new v(c===3?-0:0)};I.modulo=I.mod=function(e){var t,r=this,n=r.constructor;return e=new n(e),!r.d||!e.s||e.d&&!e.d[0]?new n(NaN):!e.d||r.d&&!r.d[0]?G(new n(r),n.precision,n.rounding):(j=!1,n.modulo==9?(t=De(r,e.abs(),0,3,1),t.s*=e.s):t=De(r,e,0,n.modulo,1),t=t.times(e),j=!0,r.minus(t))};I.naturalExponential=I.exp=function(){return Bn(this)};I.naturalLogarithm=I.ln=function(){return Ct(this)};I.negated=I.neg=function(){var e=new this.constructor(this);return e.s=-e.s,G(e)};I.plus=I.add=function(e){var t,r,n,i,u,o,s,c,f,a,l=this,D=l.constructor;if(e=new D(e),!l.d||!e.d)return!l.s||!e.s?e=new D(NaN):l.d||(e=new D(e.d||l.s===e.s?l:NaN)),e;if(l.s!=e.s)return e.s=-e.s,l.minus(e);if(f=l.d,a=e.d,s=D.precision,c=D.rounding,!f[0]||!a[0])return a[0]||(e=new D(l)),j?G(e,s,c):e;if(u=Ue(l.e/K),n=Ue(e.e/K),f=f.slice(),i=u-n,i){for(i<0?(r=f,i=-i,o=a.length):(r=a,n=u,o=f.length),u=Math.ceil(s/K),o=u>o?u+1:o+1,i>o&&(i=o,r.length=1),r.reverse();i--;)r.push(0);r.reverse()}for(o=f.length,i=a.length,o-i<0&&(i=o,r=a,a=f,f=r),t=0;i;)t=(f[--i]=f[i]+a[i]+t)/ft|0,f[i]%=ft;for(t&&(f.unshift(t),++n),o=f.length;f[--o]==0;)f.pop();return e.d=f,e.e=rn(f,n),j?G(e,s,c):e};I.precision=I.sd=function(e){var t,r=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Nt+e);return r.d?(t=Su(r.d),e&&r.e+1>t&&(t=r.e+1)):t=NaN,t};I.round=function(){var e=this,t=e.constructor;return G(new t(e),e.e+1,t.rounding)};I.sine=I.sin=function(){var e,t,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+Math.max(r.e,r.sd())+K,n.rounding=1,r=nf(n,Iu(n,r)),n.precision=e,n.rounding=t,G(gt>2?r.neg():r,e,t,!0)):new n(NaN)};I.squareRoot=I.sqrt=function(){var e,t,r,n,i,u,o=this,s=o.d,c=o.e,f=o.s,a=o.constructor;if(f!==1||!s||!s[0])return new a(!f||f<0&&(!s||s[0])?NaN:s?o:1/0);for(j=!1,f=Math.sqrt(+o),f==0||f==1/0?(t=qe(s),(t.length+c)%2==0&&(t+="0"),f=Math.sqrt(t),c=Ue((c+1)/2)-(c<0||c%2),f==1/0?t="5e"+c:(t=f.toExponential(),t=t.slice(0,t.indexOf("e")+1)+c),n=new a(t)):n=new a(f.toString()),r=(c=a.precision)+3;;)if(u=n,n=u.plus(De(o,u,r+2,1)).times(.5),qe(u.d).slice(0,r)===(t=qe(n.d)).slice(0,r))if(t=t.slice(r-3,r+1),t=="9999"||!i&&t=="4999"){if(!i&&(G(u,c+1,0),u.times(u).eq(o))){n=u;break}r+=4,i=1}else{(!+t||!+t.slice(1)&&t.charAt(0)=="5")&&(G(n,c+1,1),e=!n.times(n).eq(o));break}return j=!0,G(n,c,a.rounding,e)};I.tangent=I.tan=function(){var e,t,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+10,n.rounding=1,r=r.sin(),r.s=1,r=De(r,new n(1).minus(r.times(r)).sqrt(),e+10,0),n.precision=e,n.rounding=t,G(gt==2||gt==4?r.neg():r,e,t,!0)):new n(NaN)};I.times=I.mul=function(e){var t,r,n,i,u,o,s,c,f,a=this,l=a.constructor,D=a.d,d=(e=new l(e)).d;if(e.s*=a.s,!D||!D[0]||!d||!d[0])return new l(!e.s||D&&!D[0]&&!d||d&&!d[0]&&!D?NaN:!D||!d?e.s/0:e.s*0);for(r=Ue(a.e/K)+Ue(e.e/K),c=D.length,f=d.length,c<f&&(u=D,D=d,d=u,o=c,c=f,f=o),u=[],o=c+f,n=o;n--;)u.push(0);for(n=f;--n>=0;){for(t=0,i=c+n;i>n;)s=u[i]+d[n]*D[i-n-1]+t,u[i--]=s%ft|0,t=s/ft|0;u[i]=(u[i]+t)%ft|0}for(;!u[--o];)u.pop();return t?++r:u.shift(),e.d=u,e.e=rn(u,r),j?G(e,l.precision,l.rounding):e};I.toBinary=function(e,t){return Xn(this,2,e,t)};I.toDecimalPlaces=I.toDP=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Ye(e,0,Mt),t===void 0?t=n.rounding:Ye(t,0,8),G(r,e+r.e+1,t))};I.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=Dt(n,!0):(Ye(e,0,Mt),t===void 0?t=i.rounding:Ye(t,0,8),n=G(new i(n),e+1,t),r=Dt(n,!0,e+1)),n.isNeg()&&!n.isZero()?"-"+r:r};I.toFixed=function(e,t){var r,n,i=this,u=i.constructor;return e===void 0?r=Dt(i):(Ye(e,0,Mt),t===void 0?t=u.rounding:Ye(t,0,8),n=G(new u(i),e+i.e+1,t),r=Dt(n,!1,e+n.e+1)),i.isNeg()&&!i.isZero()?"-"+r:r};I.toFraction=function(e){var t,r,n,i,u,o,s,c,f,a,l,D,d=this,v=d.d,h=d.constructor;if(!v)return new h(d);if(f=r=new h(1),n=c=new h(0),t=new h(n),u=t.e=Su(v)-d.e-1,o=u%K,t.d[0]=xe(10,o<0?K+o:o),e==null)e=u>0?t:f;else{if(s=new h(e),!s.isInt()||s.lt(f))throw Error(Nt+s);e=s.gt(t)?u>0?t:f:s}for(j=!1,s=new h(qe(v)),a=h.precision,h.precision=u=v.length*K*2;l=De(s,t,0,1,1),i=r.plus(l.times(n)),i.cmp(e)!=1;)r=n,n=i,i=f,f=c.plus(l.times(i)),c=i,i=t,t=s.minus(l.times(i)),s=i;return i=De(e.minus(r),n,0,1,1),c=c.plus(i.times(f)),r=r.plus(i.times(n)),c.s=f.s=d.s,D=De(f,n,u,1).minus(d).abs().cmp(De(c,r,u,1).minus(d).abs())<1?[f,n]:[c,r],h.precision=a,j=!0,D};I.toHexadecimal=I.toHex=function(e,t){return Xn(this,16,e,t)};I.toNearest=function(e,t){var r=this,n=r.constructor;if(r=new n(r),e==null){if(!r.d)return r;e=new n(1),t=n.rounding}else{if(e=new n(e),t===void 0?t=n.rounding:Ye(t,0,8),!r.d)return e.s?r:e;if(!e.d)return e.s&&(e.s=r.s),e}return e.d[0]?(j=!1,r=De(r,e,0,t,1).times(e),j=!0,G(r)):(e.s=r.s,r=e),r};I.toNumber=function(){return+this};I.toOctal=function(e,t){return Xn(this,8,e,t)};I.toPower=I.pow=function(e){var t,r,n,i,u,o,s=this,c=s.constructor,f=+(e=new c(e));if(!s.d||!e.d||!s.d[0]||!e.d[0])return new c(xe(+s,f));if(s=new c(s),s.eq(1))return s;if(n=c.precision,u=c.rounding,e.eq(1))return G(s,n,u);if(t=Ue(e.e/K),t>=e.d.length-1&&(r=f<0?-f:f)<=Qs)return i=xu(c,s,r,n),e.s<0?new c(1).div(i):G(i,n,u);if(o=s.s,o<0){if(t<e.d.length-1)return new c(NaN);if(e.d[t]&1||(o=1),s.e==0&&s.d[0]==1&&s.d.length==1)return s.s=o,s}return r=xe(+s,f),t=r==0||!isFinite(r)?Ue(f*(Math.log("0."+qe(s.d))/Math.LN10+s.e+1)):new c(r+"").e,t>c.maxE+1||t<c.minE-1?new c(t>0?o/0:0):(j=!1,c.rounding=s.s=1,r=Math.min(12,(t+"").length),i=Bn(e.times(Ct(s,n+r)),n),i.d&&(i=G(i,n+5,1),lr(i.d,n,u)&&(t=n+10,i=G(Bn(e.times(Ct(s,t+r)),t),t+5,1),+qe(i.d).slice(n+1,n+15)+1==1e14&&(i=G(i,n+1,0)))),i.s=o,j=!0,c.rounding=u,G(i,n,u))};I.toPrecision=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=Dt(n,n.e<=i.toExpNeg||n.e>=i.toExpPos):(Ye(e,1,Mt),t===void 0?t=i.rounding:Ye(t,0,8),n=G(new i(n),e,t),r=Dt(n,e<=n.e||n.e<=i.toExpNeg,e)),n.isNeg()&&!n.isZero()?"-"+r:r};I.toSignificantDigits=I.toSD=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Ye(e,1,Mt),t===void 0?t=n.rounding:Ye(t,0,8)),G(new n(r),e,t)};I.toString=function(){var e=this,t=e.constructor,r=Dt(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()&&!e.isZero()?"-"+r:r};I.truncated=I.trunc=function(){return G(new this.constructor(this),this.e+1,1)};I.valueOf=I.toJSON=function(){var e=this,t=e.constructor,r=Dt(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()?"-"+r:r};function qe(e){var t,r,n,i=e.length-1,u="",o=e[0];if(i>0){for(u+=o,t=1;t<i;t++)n=e[t]+"",r=K-n.length,r&&(u+=At(r)),u+=n;o=e[t],n=o+"",r=K-n.length,r&&(u+=At(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return u+o}function Ye(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Nt+e)}function lr(e,t,r,n){var i,u,o,s;for(u=e[0];u>=10;u/=10)--t;return--t<0?(t+=K,i=0):(i=Math.ceil((t+1)/K),t%=K),u=xe(10,K-t),s=e[i]%u|0,n==null?t<3?(t==0?s=s/100|0:t==1&&(s=s/10|0),o=r<4&&s==99999||r>3&&s==49999||s==5e4||s==0):o=(r<4&&s+1==u||r>3&&s+1==u/2)&&(e[i+1]/u/100|0)==xe(10,t-2)-1||(s==u/2||s==0)&&(e[i+1]/u/100|0)==0:t<4?(t==0?s=s/1e3|0:t==1?s=s/100|0:t==2&&(s=s/10|0),o=(n||r<4)&&s==9999||!n&&r>3&&s==4999):o=((n||r<4)&&s+1==u||!n&&r>3&&s+1==u/2)&&(e[i+1]/u/1e3|0)==xe(10,t-3)-1,o}function Nr(e,t,r){for(var n,i=[0],u,o=0,s=e.length;o<s;){for(u=i.length;u--;)i[u]*=t;for(i[0]+=Cn.indexOf(e.charAt(o++)),n=0;n<i.length;n++)i[n]>r-1&&(i[n+1]===void 0&&(i[n+1]=0),i[n+1]+=i[n]/r|0,i[n]%=r)}return i.reverse()}function tf(e,t){var r,n,i;if(t.isZero())return t;n=t.d.length,n<32?(r=Math.ceil(n/3),i=(1/nn(4,r)).toString()):(r=16,i="2.3283064365386962890625e-10"),e.precision+=r,t=er(e,1,t.times(i),new e(1));for(var u=r;u--;){var o=t.times(t);t=o.times(o).minus(o).times(8).plus(1)}return e.precision-=r,t}var De=function(){function e(n,i,u){var o,s=0,c=n.length;for(n=n.slice();c--;)o=n[c]*i+s,n[c]=o%u|0,s=o/u|0;return s&&n.unshift(s),n}function t(n,i,u,o){var s,c;if(u!=o)c=u>o?1:-1;else for(s=c=0;s<u;s++)if(n[s]!=i[s]){c=n[s]>i[s]?1:-1;break}return c}function r(n,i,u,o){for(var s=0;u--;)n[u]-=s,s=n[u]<i[u]?1:0,n[u]=s*o+n[u]-i[u];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,u,o,s,c){var f,a,l,D,d,v,h,p,w,C,y,A,E,m,_,b,B,S,T,$,X=n.constructor,V=n.s==i.s?1:-1,W=n.d,P=i.d;if(!W||!W[0]||!P||!P[0])return new X(!n.s||!i.s||(W?P&&W[0]==P[0]:!P)?NaN:W&&W[0]==0||!P?V*0:V/0);for(c?(d=1,a=n.e-i.e):(c=ft,d=K,a=Ue(n.e/d)-Ue(i.e/d)),T=P.length,B=W.length,w=new X(V),C=w.d=[],l=0;P[l]==(W[l]||0);l++);if(P[l]>(W[l]||0)&&a--,u==null?(m=u=X.precision,o=X.rounding):s?m=u+(n.e-i.e)+1:m=u,m<0)C.push(1),v=!0;else{if(m=m/d+2|0,l=0,T==1){for(D=0,P=P[0],m++;(l<B||D)&&m--;l++)_=D*c+(W[l]||0),C[l]=_/P|0,D=_%P|0;v=D||l<B}else{for(D=c/(P[0]+1)|0,D>1&&(P=e(P,D,c),W=e(W,D,c),T=P.length,B=W.length),b=T,y=W.slice(0,T),A=y.length;A<T;)y[A++]=0;$=P.slice(),$.unshift(0),S=P[0],P[1]>=c/2&&++S;do D=0,f=t(P,y,T,A),f<0?(E=y[0],T!=A&&(E=E*c+(y[1]||0)),D=E/S|0,D>1?(D>=c&&(D=c-1),h=e(P,D,c),p=h.length,A=y.length,f=t(h,y,p,A),f==1&&(D--,r(h,T<p?$:P,p,c))):(D==0&&(f=D=1),h=P.slice()),p=h.length,p<A&&h.unshift(0),r(y,h,A,c),f==-1&&(A=y.length,f=t(P,y,T,A),f<1&&(D++,r(y,T<A?$:P,A,c))),A=y.length):f===0&&(D++,y=[0]),C[l++]=D,f&&y[0]?y[A++]=W[b]||0:(y=[W[b]],A=1);while((b++<B||y[0]!==void 0)&&m--);v=y[0]!==void 0}C[0]||C.shift()}if(d==1)w.e=a,_u=v;else{for(l=1,D=C[0];D>=10;D/=10)l++;w.e=l+a*d-1,G(w,s?u+w.e+1:u,o,v)}return w}}();function G(e,t,r,n){var i,u,o,s,c,f,a,l,D,d=e.constructor;e:if(t!=null){if(l=e.d,!l)return e;for(i=1,s=l[0];s>=10;s/=10)i++;if(u=t-i,u<0)u+=K,o=t,a=l[D=0],c=a/xe(10,i-o-1)%10|0;else if(D=Math.ceil((u+1)/K),s=l.length,D>=s)if(n){for(;s++<=D;)l.push(0);a=c=0,i=1,u%=K,o=u-K+1}else break e;else{for(a=s=l[D],i=1;s>=10;s/=10)i++;u%=K,o=u-K+i,c=o<0?0:a/xe(10,i-o-1)%10|0}if(n=n||t<0||l[D+1]!==void 0||(o<0?a:a%xe(10,i-o-1)),f=r<4?(c||n)&&(r==0||r==(e.s<0?3:2)):c>5||c==5&&(r==4||n||r==6&&(u>0?o>0?a/xe(10,i-o):0:l[D-1])%10&1||r==(e.s<0?8:7)),t<1||!l[0])return l.length=0,f?(t-=e.e+1,l[0]=xe(10,(K-t%K)%K),e.e=-t||0):l[0]=e.e=0,e;if(u==0?(l.length=D,s=1,D--):(l.length=D+1,s=xe(10,K-u),l[D]=o>0?(a/xe(10,i-o)%xe(10,o)|0)*s:0),f)for(;;)if(D==0){for(u=1,o=l[0];o>=10;o/=10)u++;for(o=l[0]+=s,s=1;o>=10;o/=10)s++;u!=s&&(e.e++,l[0]==ft&&(l[0]=1));break}else{if(l[D]+=s,l[D]!=ft)break;l[D--]=0,s=1}for(u=l.length;l[--u]===0;)l.pop()}return j&&(e.e>d.maxE?(e.d=null,e.e=NaN):e.e<d.minE&&(e.e=0,e.d=[0])),e}function Dt(e,t,r){if(!e.isFinite())return Ou(e);var n,i=e.e,u=qe(e.d),o=u.length;return t?(r&&(n=r-o)>0?u=u.charAt(0)+"."+u.slice(1)+At(n):o>1&&(u=u.charAt(0)+"."+u.slice(1)),u=u+(e.e<0?"e":"e+")+e.e):i<0?(u="0."+At(-i-1)+u,r&&(n=r-o)>0&&(u+=At(n))):i>=o?(u+=At(i+1-o),r&&(n=r-i-1)>0&&(u=u+"."+At(n))):((n=i+1)<o&&(u=u.slice(0,n)+"."+u.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(u+="."),u+=At(n))),u}function rn(e,t){var r=e[0];for(t*=K;r>=10;r/=10)t++;return t}function Zr(e,t,r){if(t>ef)throw j=!0,r&&(e.precision=r),Error(bu);return G(new e(Lr),t,1,!0)}function lt(e,t,r){if(t>bn)throw Error(bu);return G(new e(Ur),t,r,!0)}function Su(e){var t=e.length-1,r=t*K+1;if(t=e[t],t){for(;t%10==0;t/=10)r--;for(t=e[0];t>=10;t/=10)r++}return r}function At(e){for(var t="";e--;)t+="0";return t}function xu(e,t,r,n){var i,u=new e(1),o=Math.ceil(n/K+4);for(j=!1;;){if(r%2&&(u=u.times(t),yi(u.d,o)&&(i=!0)),r=Ue(r/2),r===0){r=u.d.length-1,i&&u.d[r]===0&&++u.d[r];break}t=t.times(t),yi(t.d,o)}return j=!0,u}function wi(e){return e.d[e.d.length-1]&1}function Tu(e,t,r){for(var n,i,u=new e(t[0]),o=0;++o<t.length;){if(i=new e(t[o]),!i.s){u=i;break}n=u.cmp(i),(n===r||n===0&&u.s===r)&&(u=i)}return u}function Bn(e,t){var r,n,i,u,o,s,c,f=0,a=0,l=0,D=e.constructor,d=D.rounding,v=D.precision;if(!e.d||!e.d[0]||e.e>17)return new D(e.d?e.d[0]?e.s<0?0:1/0:1:e.s?e.s<0?0:e:NaN);for(t==null?(j=!1,c=v):c=t,s=new D(.03125);e.e>-2;)e=e.times(s),l+=5;for(n=Math.log(xe(2,l))/Math.LN10*2+5|0,c+=n,r=u=o=new D(1),D.precision=c;;){if(u=G(u.times(e),c,1),r=r.times(++a),s=o.plus(De(u,r,c,1)),qe(s.d).slice(0,c)===qe(o.d).slice(0,c)){for(i=l;i--;)o=G(o.times(o),c,1);if(t==null)if(f<3&&lr(o.d,c-n,d,f))D.precision=c+=10,r=u=s=new D(1),a=0,f++;else return G(o,D.precision=v,d,j=!0);else return D.precision=v,o}o=s}}function Ct(e,t){var r,n,i,u,o,s,c,f,a,l,D,d=1,v=10,h=e,p=h.d,w=h.constructor,C=w.rounding,y=w.precision;if(h.s<0||!p||!p[0]||!h.e&&p[0]==1&&p.length==1)return new w(p&&!p[0]?-1/0:h.s!=1?NaN:p?0:h);if(t==null?(j=!1,a=y):a=t,w.precision=a+=v,r=qe(p),n=r.charAt(0),Math.abs(u=h.e)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)h=h.times(e),r=qe(h.d),n=r.charAt(0),d++;u=h.e,n>1?(h=new w("0."+r),u++):h=new w(n+"."+r.slice(1))}else return f=Zr(w,a+2,y).times(u+""),h=Ct(new w(n+"."+r.slice(1)),a-v).plus(f),w.precision=y,t==null?G(h,y,C,j=!0):h;for(l=h,c=o=h=De(h.minus(1),h.plus(1),a,1),D=G(h.times(h),a,1),i=3;;){if(o=G(o.times(D),a,1),f=c.plus(De(o,new w(i),a,1)),qe(f.d).slice(0,a)===qe(c.d).slice(0,a))if(c=c.times(2),u!==0&&(c=c.plus(Zr(w,a+2,y).times(u+""))),c=De(c,new w(d),a,1),t==null)if(lr(c.d,a-v,C,s))w.precision=a+=v,f=o=h=De(l.minus(1),l.plus(1),a,1),D=G(h.times(h),a,1),i=s=1;else return G(c,w.precision=y,C,j=!0);else return w.precision=y,c;c=f,i+=2}}function Ou(e){return String(e.s*e.s/0)}function Mr(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;n++);for(i=t.length;t.charCodeAt(i-1)===48;--i);if(t=t.slice(n,i),t){if(i-=n,e.e=r=r-n-1,e.d=[],n=(r+1)%K,r<0&&(n+=K),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=K;n<i;)e.d.push(+t.slice(n,n+=K));t=t.slice(n),n=K-t.length}else n-=i;for(;n--;)t+="0";e.d.push(+t),j&&(e.e>e.constructor.maxE?(e.d=null,e.e=NaN):e.e<e.constructor.minE&&(e.e=0,e.d=[0]))}else e.e=0,e.d=[0];return e}function rf(e,t){var r,n,i,u,o,s,c,f,a;if(t.indexOf("_")>-1){if(t=t.replace(/(\d)_(?=\d)/g,"$1"),Mu.test(t))return Mr(e,t)}else if(t==="Infinity"||t==="NaN")return+t||(e.s=NaN),e.e=NaN,e.d=null,e;if(Ks.test(t))r=16,t=t.toLowerCase();else if(Js.test(t))r=2;else if(js.test(t))r=8;else throw Error(Nt+t);for(u=t.search(/p/i),u>0?(c=+t.slice(u+1),t=t.substring(2,u)):t=t.slice(2),u=t.indexOf("."),o=u>=0,n=e.constructor,o&&(t=t.replace(".",""),s=t.length,u=s-u,i=xu(n,new n(r),u,u*2)),f=Nr(t,r,ft),a=f.length-1,u=a;f[u]===0;--u)f.pop();return u<0?new n(e.s*0):(e.e=rn(f,a),e.d=f,j=!1,o&&(e=De(e,i,s*4)),c&&(e=e.times(Math.abs(c)<54?xe(2,c):tr.pow(2,c))),j=!0,e)}function nf(e,t){var r,n=t.d.length;if(n<3)return t.isZero()?t:er(e,2,t,t);r=1.4*Math.sqrt(n),r=r>16?16:r|0,t=t.times(1/nn(5,r)),t=er(e,2,t,t);for(var i,u=new e(5),o=new e(16),s=new e(20);r--;)i=t.times(t),t=t.times(u.plus(i.times(o.times(i).minus(s))));return t}function er(e,t,r,n,i){var u,o,s,c,f=e.precision,a=Math.ceil(f/K);for(j=!1,c=r.times(r),s=new e(n);;){if(o=De(s.times(c),new e(t++*t++),f,1),s=i?n.plus(o):n.minus(o),n=De(o.times(c),new e(t++*t++),f,1),o=s.plus(n),o.d[a]!==void 0){for(u=a;o.d[u]===s.d[u]&&u--;);if(u==-1)break}u=s,s=n,n=o,o=u}return j=!0,o.d.length=a+1,o}function nn(e,t){for(var r=e;--t;)r*=e;return r}function Iu(e,t){var r,n=t.s<0,i=lt(e,e.precision,1),u=i.times(.5);if(t=t.abs(),t.lte(u))return gt=n?4:1,t;if(r=t.divToInt(i),r.isZero())gt=n?3:2;else{if(t=t.minus(r.times(i)),t.lte(u))return gt=wi(r)?n?2:3:n?4:1,t;gt=wi(r)?n?1:4:n?3:2}return t.minus(i).abs()}function Xn(e,t,r,n){var i,u,o,s,c,f,a,l,D,d=e.constructor,v=r!==void 0;if(v?(Ye(r,1,Mt),n===void 0?n=d.rounding:Ye(n,0,8)):(r=d.precision,n=d.rounding),!e.isFinite())a=Ou(e);else{for(a=Dt(e),o=a.indexOf("."),v?(i=2,t==16?r=r*4-3:t==8&&(r=r*3-2)):i=t,o>=0&&(a=a.replace(".",""),D=new d(1),D.e=a.length-o,D.d=Nr(Dt(D),10,i),D.e=D.d.length),l=Nr(a,10,i),u=c=l.length;l[--c]==0;)l.pop();if(!l[0])a=v?"0p+0":"0";else{if(o<0?u--:(e=new d(e),e.d=l,e.e=u,e=De(e,D,r,n,0,i),l=e.d,u=e.e,f=_u),o=l[r],s=i/2,f=f||l[r+1]!==void 0,f=n<4?(o!==void 0||f)&&(n===0||n===(e.s<0?3:2)):o>s||o===s&&(n===4||f||n===6&&l[r-1]&1||n===(e.s<0?8:7)),l.length=r,f)for(;++l[--r]>i-1;)l[r]=0,r||(++u,l.unshift(1));for(c=l.length;!l[c-1];--c);for(o=0,a="";o<c;o++)a+=Cn.charAt(l[o]);if(v){if(c>1)if(t==16||t==8){for(o=t==16?4:3,--c;c%o;c++)a+="0";for(l=Nr(a,i,t),c=l.length;!l[c-1];--c);for(o=1,a="1.";o<c;o++)a+=Cn.charAt(l[o])}else a=a.charAt(0)+"."+a.slice(1);a=a+(u<0?"p":"p+")+u}else if(u<0){for(;++u;)a="0"+a;a="0."+a}else if(++u>c)for(u-=c;u--;)a+="0";else u<c&&(a=a.slice(0,u)+"."+a.slice(u))}a=(t==16?"0x":t==2?"0b":t==8?"0o":"")+a}return e.s<0?"-"+a:a}function yi(e,t){if(e.length>t)return e.length=t,!0}function uf(e){return new this(e).abs()}function of(e){return new this(e).acos()}function af(e){return new this(e).acosh()}function sf(e,t){return new this(e).plus(t)}function ff(e){return new this(e).asin()}function cf(e){return new this(e).asinh()}function lf(e){return new this(e).atan()}function hf(e){return new this(e).atanh()}function Df(e,t){e=new this(e),t=new this(t);var r,n=this.precision,i=this.rounding,u=n+4;return!e.s||!t.s?r=new this(NaN):!e.d&&!t.d?(r=lt(this,u,1).times(t.s>0?.25:.75),r.s=e.s):!t.d||e.isZero()?(r=t.s<0?lt(this,n,i):new this(0),r.s=e.s):!e.d||t.isZero()?(r=lt(this,u,1).times(.5),r.s=e.s):t.s<0?(this.precision=u,this.rounding=1,r=this.atan(De(e,t,u,1)),t=lt(this,u,1),this.precision=n,this.rounding=i,r=e.s<0?r.minus(t):r.plus(t)):r=this.atan(De(e,t,u,1)),r}function df(e){return new this(e).cbrt()}function pf(e){return G(e=new this(e),e.e+1,2)}function vf(e,t,r){return new this(e).clamp(t,r)}function mf(e){if(!e||typeof e!="object")throw Error(tn+"Object expected");var t,r,n,i=e.defaults===!0,u=["precision",1,Mt,"rounding",0,8,"toExpNeg",-9e15,0,"toExpPos",0,An,"maxE",0,An,"minE",-9e15,0,"modulo",0,9];for(t=0;t<u.length;t+=3)if(r=u[t],i&&(this[r]=_n[r]),(n=e[r])!==void 0)if(Ue(n)===n&&n>=u[t+1]&&n<=u[t+2])this[r]=n;else throw Error(Nt+r+": "+n);if(r="crypto",i&&(this[r]=_n[r]),(n=e[r])!==void 0)if(n===!0||n===!1||n===0||n===1)if(n)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[r]=!0;else throw Error(Bu);else this[r]=!1;else throw Error(Nt+r+": "+n);return this}function gf(e){return new this(e).cos()}function wf(e){return new this(e).cosh()}function Pu(e){var t,r,n;function i(u){var o,s,c,f=this;if(!(f instanceof i))return new i(u);if(f.constructor=i,Ei(u)){f.s=u.s,j?!u.d||u.e>i.maxE?(f.e=NaN,f.d=null):u.e<i.minE?(f.e=0,f.d=[0]):(f.e=u.e,f.d=u.d.slice()):(f.e=u.e,f.d=u.d?u.d.slice():u.d);return}if(c=typeof u,c==="number"){if(u===0){f.s=1/u<0?-1:1,f.e=0,f.d=[0];return}if(u<0?(u=-u,f.s=-1):f.s=1,u===~~u&&u<1e7){for(o=0,s=u;s>=10;s/=10)o++;j?o>i.maxE?(f.e=NaN,f.d=null):o<i.minE?(f.e=0,f.d=[0]):(f.e=o,f.d=[u]):(f.e=o,f.d=[u]);return}if(u*0!==0){u||(f.s=NaN),f.e=NaN,f.d=null;return}return Mr(f,u.toString())}if(c==="string")return(s=u.charCodeAt(0))===45?(u=u.slice(1),f.s=-1):(s===43&&(u=u.slice(1)),f.s=1),Mu.test(u)?Mr(f,u):rf(f,u);if(c==="bigint")return u<0?(u=-u,f.s=-1):f.s=1,Mr(f,u.toString());throw Error(Nt+u)}if(i.prototype=I,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.EUCLID=9,i.config=i.set=mf,i.clone=Pu,i.isDecimal=Ei,i.abs=uf,i.acos=of,i.acosh=af,i.add=sf,i.asin=ff,i.asinh=cf,i.atan=lf,i.atanh=hf,i.atan2=Df,i.cbrt=df,i.ceil=pf,i.clamp=vf,i.cos=gf,i.cosh=wf,i.div=yf,i.exp=Ef,i.floor=Ff,i.hypot=Af,i.ln=Cf,i.log=_f,i.log10=Bf,i.log2=bf,i.max=Nf,i.min=Mf,i.mod=Sf,i.mul=xf,i.pow=Tf,i.random=Of,i.round=If,i.sign=Pf,i.sin=Rf,i.sinh=zf,i.sqrt=qf,i.sub=$f,i.sum=Lf,i.tan=Uf,i.tanh=Zf,i.trunc=Vf,e===void 0&&(e={}),e&&e.defaults!==!0)for(n=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function yf(e,t){return new this(e).div(t)}function Ef(e){return new this(e).exp()}function Ff(e){return G(e=new this(e),e.e+1,3)}function Af(){var e,t,r=new this(0);for(j=!1,e=0;e<arguments.length;)if(t=new this(arguments[e++]),t.d)r.d&&(r=r.plus(t.times(t)));else{if(t.s)return j=!0,new this(1/0);r=t}return j=!0,r.sqrt()}function Ei(e){return e instanceof tr||e&&e.toStringTag===Nu||!1}function Cf(e){return new this(e).ln()}function _f(e,t){return new this(e).log(t)}function bf(e){return new this(e).log(2)}function Bf(e){return new this(e).log(10)}function Nf(){return Tu(this,arguments,-1)}function Mf(){return Tu(this,arguments,1)}function Sf(e,t){return new this(e).mod(t)}function xf(e,t){return new this(e).mul(t)}function Tf(e,t){return new this(e).pow(t)}function Of(e){var t,r,n,i,u=0,o=new this(1),s=[];if(e===void 0?e=this.precision:Ye(e,1,Mt),n=Math.ceil(e/K),this.crypto)if(crypto.getRandomValues)for(t=crypto.getRandomValues(new Uint32Array(n));u<n;)i=t[u],i>=429e7?t[u]=crypto.getRandomValues(new Uint32Array(1))[0]:s[u++]=i%1e7;else if(crypto.randomBytes){for(t=crypto.randomBytes(n*=4);u<n;)i=t[u]+(t[u+1]<<8)+(t[u+2]<<16)+((t[u+3]&127)<<24),i>=214e7?crypto.randomBytes(4).copy(t,u):(s.push(i%1e7),u+=4);u=n/4}else throw Error(Bu);else for(;u<n;)s[u++]=Math.random()*1e7|0;for(n=s[--u],e%=K,n&&e&&(i=xe(10,K-e),s[u]=(n/i|0)*i);s[u]===0;u--)s.pop();if(u<0)r=0,s=[0];else{for(r=-1;s[0]===0;r-=K)s.shift();for(n=1,i=s[0];i>=10;i/=10)n++;n<K&&(r-=K-n)}return o.e=r,o.d=s,o}function If(e){return G(e=new this(e),e.e+1,this.rounding)}function Pf(e){return e=new this(e),e.d?e.d[0]?e.s:0*e.s:e.s||NaN}function Rf(e){return new this(e).sin()}function zf(e){return new this(e).sinh()}function qf(e){return new this(e).sqrt()}function $f(e,t){return new this(e).sub(t)}function Lf(){var e=0,t=arguments,r=new this(t[e]);for(j=!1;r.s&&++e<t.length;)r=r.plus(t[e]);return j=!0,G(r,this.precision,this.rounding)}function Uf(e){return new this(e).tan()}function Zf(e){return new this(e).tanh()}function Vf(e){return G(e=new this(e),e.e+1,1)}I[Symbol.for("nodejs.util.inspect.custom")]=I.toString;I[Symbol.toStringTag]="Decimal";var tr=I.constructor=Pu(_n);Lr=new tr(Lr);Ur=new tr(Ur);var Wf="BigNumber",Xf=["?on","config"],kf=te(Wf,Xf,e=>{var{on:t,config:r}=e,n=tr.clone({precision:r.precision,modulo:tr.EUCLID});return n.prototype=Object.create(n.prototype),n.prototype.type="BigNumber",n.prototype.isBigNumber=!0,n.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},n.fromJSON=function(i){return new n(i.value)},t&&t("config",function(i,u){i.precision!==u.precision&&n.config({precision:i.precision})}),n},{isClass:!0});const $e=Math.cosh||function(e){return Math.abs(e)<1e-9?1-e:(Math.exp(e)+Math.exp(-e))*.5},rt=Math.sinh||function(e){return Math.abs(e)<1e-9?e:(Math.exp(e)-Math.exp(-e))*.5},Hf=function(e){const t=Math.PI/4;if(-t>e||e>t)return Math.cos(e)-1;const r=e*e;return r*(r*(r*(r*(r*(r*(r*(r/20922789888e3-1/87178291200)+1/479001600)-1/3628800)+1/40320)-1/720)+1/24)-1/2)},Dn=function(e,t){return e=Math.abs(e),t=Math.abs(t),e<t&&([e,t]=[t,e]),e<1e8?Math.sqrt(e*e+t*t):(t/=e,e*Math.sqrt(1+t*t))},Xt=function(){throw SyntaxError("Invalid Param")};function dn(e,t){const r=Math.abs(e),n=Math.abs(t);return e===0?Math.log(n):t===0?Math.log(r):r<3e3&&n<3e3?Math.log(e*e+t*t)*.5:(e=e*.5,t=t*.5,.5*Math.log(e*e+t*t)+Math.LN2)}const Yf={re:0,im:0},It=function(e,t){const r=Yf;if(e==null)r.re=r.im=0;else if(t!==void 0)r.re=e,r.im=t;else switch(typeof e){case"object":if("im"in e&&"re"in e)r.re=e.re,r.im=e.im;else if("abs"in e&&"arg"in e){if(!isFinite(e.abs)&&isFinite(e.arg))return M.INFINITY;r.re=e.abs*Math.cos(e.arg),r.im=e.abs*Math.sin(e.arg)}else if("r"in e&&"phi"in e){if(!isFinite(e.r)&&isFinite(e.phi))return M.INFINITY;r.re=e.r*Math.cos(e.phi),r.im=e.r*Math.sin(e.phi)}else e.length===2?(r.re=e[0],r.im=e[1]):Xt();break;case"string":r.im=r.re=0;const n=e.replace(/_/g,"").match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g);let i=1,u=0;n===null&&Xt();for(let o=0;o<n.length;o++){const s=n[o];s===" "||s==="	"||s===`
`||(s==="+"?i++:s==="-"?u++:s==="i"||s==="I"?(i+u===0&&Xt(),n[o+1]!==" "&&!isNaN(n[o+1])?(r.im+=parseFloat((u%2?"-":"")+n[o+1]),o++):r.im+=parseFloat((u%2?"-":"")+"1"),i=u=0):((i+u===0||isNaN(s))&&Xt(),n[o+1]==="i"||n[o+1]==="I"?(r.im+=parseFloat((u%2?"-":"")+s),o++):r.re+=parseFloat((u%2?"-":"")+s),i=u=0))}i+u>0&&Xt();break;case"number":r.im=0,r.re=e;break;default:Xt()}return isNaN(r.re)||isNaN(r.im),r};function M(e,t){if(!(this instanceof M))return new M(e,t);const r=It(e,t);this.re=r.re,this.im=r.im}M.prototype={re:0,im:0,sign:function(){const e=Dn(this.re,this.im);return new M(this.re/e,this.im/e)},add:function(e,t){const r=It(e,t),n=this.isInfinite(),i=!(isFinite(r.re)&&isFinite(r.im));return n||i?n&&i?M.NAN:M.INFINITY:new M(this.re+r.re,this.im+r.im)},sub:function(e,t){const r=It(e,t),n=this.isInfinite(),i=!(isFinite(r.re)&&isFinite(r.im));return n||i?n&&i?M.NAN:M.INFINITY:new M(this.re-r.re,this.im-r.im)},mul:function(e,t){const r=It(e,t),n=this.isInfinite(),i=!(isFinite(r.re)&&isFinite(r.im)),u=this.re===0&&this.im===0,o=r.re===0&&r.im===0;return n&&o||i&&u?M.NAN:n||i?M.INFINITY:r.im===0&&this.im===0?new M(this.re*r.re,0):new M(this.re*r.re-this.im*r.im,this.re*r.im+this.im*r.re)},div:function(e,t){const r=It(e,t),n=this.isInfinite(),i=!(isFinite(r.re)&&isFinite(r.im)),u=this.re===0&&this.im===0,o=r.re===0&&r.im===0;if(u&&o||n&&i)return M.NAN;if(o||n)return M.INFINITY;if(u||i)return M.ZERO;if(r.im===0)return new M(this.re/r.re,this.im/r.re);if(Math.abs(r.re)<Math.abs(r.im)){const s=r.re/r.im,c=r.re*s+r.im;return new M((this.re*s+this.im)/c,(this.im*s-this.re)/c)}else{const s=r.im/r.re,c=r.im*s+r.re;return new M((this.re+this.im*s)/c,(this.im-this.re*s)/c)}},pow:function(e,t){const r=It(e,t),n=this.re===0&&this.im===0;if(r.re===0&&r.im===0)return M.ONE;if(r.im===0){if(this.im===0&&this.re>0)return new M(Math.pow(this.re,r.re),0);if(this.re===0)switch((r.re%4+4)%4){case 0:return new M(Math.pow(this.im,r.re),0);case 1:return new M(0,Math.pow(this.im,r.re));case 2:return new M(-Math.pow(this.im,r.re),0);case 3:return new M(0,-Math.pow(this.im,r.re))}}if(n&&r.re>0)return M.ZERO;const u=Math.atan2(this.im,this.re),o=dn(this.re,this.im);let s=Math.exp(r.re*o-r.im*u),c=r.im*o+r.re*u;return new M(s*Math.cos(c),s*Math.sin(c))},sqrt:function(){const e=this.re,t=this.im;if(t===0)return e>=0?new M(Math.sqrt(e),0):new M(0,Math.sqrt(-e));const r=Dn(e,t);let n=Math.sqrt(.5*(r+Math.abs(e))),i=Math.abs(t)/(2*n);return e>=0?new M(n,t<0?-i:i):new M(i,t<0?-n:n)},exp:function(){const e=Math.exp(this.re);return this.im===0?new M(e,0):new M(e*Math.cos(this.im),e*Math.sin(this.im))},expm1:function(){const e=this.re,t=this.im;return new M(Math.expm1(e)*Math.cos(t)+Hf(t),Math.exp(e)*Math.sin(t))},log:function(){const e=this.re,t=this.im;return t===0&&e>0?new M(Math.log(e),0):new M(dn(e,t),Math.atan2(t,e))},abs:function(){return Dn(this.re,this.im)},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){const e=this.re,t=this.im;return new M(Math.sin(e)*$e(t),Math.cos(e)*rt(t))},cos:function(){const e=this.re,t=this.im;return new M(Math.cos(e)*$e(t),-Math.sin(e)*rt(t))},tan:function(){const e=2*this.re,t=2*this.im,r=Math.cos(e)+$e(t);return new M(Math.sin(e)/r,rt(t)/r)},cot:function(){const e=2*this.re,t=2*this.im,r=Math.cos(e)-$e(t);return new M(-Math.sin(e)/r,rt(t)/r)},sec:function(){const e=this.re,t=this.im,r=.5*$e(2*t)+.5*Math.cos(2*e);return new M(Math.cos(e)*$e(t)/r,Math.sin(e)*rt(t)/r)},csc:function(){const e=this.re,t=this.im,r=.5*$e(2*t)-.5*Math.cos(2*e);return new M(Math.sin(e)*$e(t)/r,-Math.cos(e)*rt(t)/r)},asin:function(){const e=this.re,t=this.im,r=new M(t*t-e*e+1,-2*e*t).sqrt(),n=new M(r.re-t,r.im+e).log();return new M(n.im,-n.re)},acos:function(){const e=this.re,t=this.im,r=new M(t*t-e*e+1,-2*e*t).sqrt(),n=new M(r.re-t,r.im+e).log();return new M(Math.PI/2-n.im,n.re)},atan:function(){const e=this.re,t=this.im;if(e===0){if(t===1)return new M(0,1/0);if(t===-1)return new M(0,-1/0)}const r=e*e+(1-t)*(1-t),n=new M((1-t*t-e*e)/r,-2*e/r).log();return new M(-.5*n.im,.5*n.re)},acot:function(){const e=this.re,t=this.im;if(t===0)return new M(Math.atan2(1,e),0);const r=e*e+t*t;return r!==0?new M(e/r,-t/r).atan():new M(e!==0?e/0:0,t!==0?-t/0:0).atan()},asec:function(){const e=this.re,t=this.im;if(e===0&&t===0)return new M(0,1/0);const r=e*e+t*t;return r!==0?new M(e/r,-t/r).acos():new M(e!==0?e/0:0,t!==0?-t/0:0).acos()},acsc:function(){const e=this.re,t=this.im;if(e===0&&t===0)return new M(Math.PI/2,1/0);const r=e*e+t*t;return r!==0?new M(e/r,-t/r).asin():new M(e!==0?e/0:0,t!==0?-t/0:0).asin()},sinh:function(){const e=this.re,t=this.im;return new M(rt(e)*Math.cos(t),$e(e)*Math.sin(t))},cosh:function(){const e=this.re,t=this.im;return new M($e(e)*Math.cos(t),rt(e)*Math.sin(t))},tanh:function(){const e=2*this.re,t=2*this.im,r=$e(e)+Math.cos(t);return new M(rt(e)/r,Math.sin(t)/r)},coth:function(){const e=2*this.re,t=2*this.im,r=$e(e)-Math.cos(t);return new M(rt(e)/r,-Math.sin(t)/r)},csch:function(){const e=this.re,t=this.im,r=Math.cos(2*t)-$e(2*e);return new M(-2*rt(e)*Math.cos(t)/r,2*$e(e)*Math.sin(t)/r)},sech:function(){const e=this.re,t=this.im,r=Math.cos(2*t)+$e(2*e);return new M(2*$e(e)*Math.cos(t)/r,-2*rt(e)*Math.sin(t)/r)},asinh:function(){let e=this.im;this.im=-this.re,this.re=e;const t=this.asin();return this.re=-this.im,this.im=e,e=t.re,t.re=-t.im,t.im=e,t},acosh:function(){const e=this.acos();if(e.im<=0){const t=e.re;e.re=-e.im,e.im=t}else{const t=e.im;e.im=-e.re,e.re=t}return e},atanh:function(){const e=this.re,t=this.im,r=e>1&&t===0,n=1-e,i=1+e,u=n*n+t*t,o=u!==0?new M((i*n-t*t)/u,(t*n+i*t)/u):new M(e!==-1?e/0:0,t!==0?t/0:0),s=o.re;return o.re=dn(o.re,o.im)/2,o.im=Math.atan2(o.im,s)/2,r&&(o.im=-o.im),o},acoth:function(){const e=this.re,t=this.im;if(e===0&&t===0)return new M(0,Math.PI/2);const r=e*e+t*t;return r!==0?new M(e/r,-t/r).atanh():new M(e!==0?e/0:0,t!==0?-t/0:0).atanh()},acsch:function(){const e=this.re,t=this.im;if(t===0)return new M(e!==0?Math.log(e+Math.sqrt(e*e+1)):1/0,0);const r=e*e+t*t;return r!==0?new M(e/r,-t/r).asinh():new M(e!==0?e/0:0,t!==0?-t/0:0).asinh()},asech:function(){const e=this.re,t=this.im;if(this.isZero())return M.INFINITY;const r=e*e+t*t;return r!==0?new M(e/r,-t/r).acosh():new M(e!==0?e/0:0,t!==0?-t/0:0).acosh()},inverse:function(){if(this.isZero())return M.INFINITY;if(this.isInfinite())return M.ZERO;const e=this.re,t=this.im,r=e*e+t*t;return new M(e/r,-t/r)},conjugate:function(){return new M(this.re,-this.im)},neg:function(){return new M(-this.re,-this.im)},ceil:function(e){return e=Math.pow(10,e||0),new M(Math.ceil(this.re*e)/e,Math.ceil(this.im*e)/e)},floor:function(e){return e=Math.pow(10,e||0),new M(Math.floor(this.re*e)/e,Math.floor(this.im*e)/e)},round:function(e){return e=Math.pow(10,e||0),new M(Math.round(this.re*e)/e,Math.round(this.im*e)/e)},equals:function(e,t){const r=It(e,t);return Math.abs(r.re-this.re)<=M.EPSILON&&Math.abs(r.im-this.im)<=M.EPSILON},clone:function(){return new M(this.re,this.im)},toString:function(){let e=this.re,t=this.im,r="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(e)<M.EPSILON&&(e=0),Math.abs(t)<M.EPSILON&&(t=0),t===0?r+e:(e!==0?(r+=e,r+=" ",t<0?(t=-t,r+="-"):r+="+",r+=" "):t<0&&(t=-t,r+="-"),t!==1&&(r+=t),r+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return this.im===0?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return this.im===0&&this.re===0},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!this.isFinite()}};M.ZERO=new M(0,0);M.ONE=new M(1,0);M.I=new M(0,1);M.PI=new M(Math.PI,0);M.E=new M(Math.E,0);M.INFINITY=new M(1/0,1/0);M.NAN=new M(NaN,NaN);M.EPSILON=1e-15;var Gf="Complex",Jf=[],Kf=te(Gf,Jf,()=>(Object.defineProperty(M,"name",{value:"Complex"}),M.prototype.constructor=M,M.prototype.type="Complex",M.prototype.isComplex=!0,M.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},M.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},M.prototype.format=function(e){var t="",r=this.im,n=this.re,i=Fn(this.re,e),u=Fn(this.im,e),o=pe(e)?e:e?e.precision:null;if(o!==null){var s=Math.pow(10,-o);Math.abs(n/r)<s&&(n=0),Math.abs(r/n)<s&&(r=0)}return r===0?t=i:n===0?r===1?t="i":r===-1?t="-i":t=u+"i":r<0?r===-1?t=i+" - i":t=i+" - "+u.substring(1)+"i":r===1?t=i+" + i":t=i+" + "+u+"i",t},M.fromPolar=function(e){switch(arguments.length){case 1:{var t=arguments[0];if(typeof t=="object")return M(t);throw new TypeError("Input has to be an object with r and phi keys.")}case 2:{var r=arguments[0],n=arguments[1];if(pe(r)){if(wu(n)&&n.hasBase("ANGLE")&&(n=n.toNumber("rad")),pe(n))return new M({r,phi:n});throw new TypeError("Phi is not a number nor an angle unit.")}else throw new TypeError("Radius r is not a number.")}default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},M.prototype.valueOf=M.prototype.toString,M.fromJSON=function(e){return new M(e)},M.compare=function(e,t){return e.re>t.re?1:e.re<t.re?-1:e.im>t.im?1:e.im<t.im?-1:0},M),{isClass:!0});typeof BigInt>"u"&&(BigInt=function(e){if(isNaN(e))throw new Error("");return e});const Y=BigInt(0),ee=BigInt(1),hr=BigInt(2),Nn=BigInt(5),He=BigInt(10),jf=2e3,L={s:ee,n:Y,d:ee};function mt(e,t){try{e=BigInt(e)}catch{throw Et()}return e*t}function st(e){return typeof e=="bigint"?e:Math.floor(e)}function me(e,t){if(t===Y)throw kn();const r=Object.create(nt.prototype);r.s=e<Y?-ee:ee,e=e<Y?-e:e;const n=Rt(e,t);return r.n=e/n,r.d=t/n,r}function kt(e){const t={};let r=e,n=hr,i=Nn-ee;for(;i<=r;){for(;r%n===Y;)r/=n,t[n]=(t[n]||Y)+ee;i+=ee+hr*n++}return r!==e?r>1&&(t[r]=(t[r]||Y)+ee):t[e]=(t[e]||Y)+ee,t}const Ie=function(e,t){let r=Y,n=ee,i=ee;if(e!=null)if(t!==void 0){if(typeof e=="bigint")r=e;else{if(isNaN(e))throw Et();if(e%1!==0)throw Fi();r=BigInt(e)}if(typeof t=="bigint")n=t;else{if(isNaN(t))throw Et();if(t%1!==0)throw Fi();n=BigInt(t)}i=r*n}else if(typeof e=="object"){if("d"in e&&"n"in e)r=BigInt(e.n),n=BigInt(e.d),"s"in e&&(r*=BigInt(e.s));else if(0 in e)r=BigInt(e[0]),1 in e&&(n=BigInt(e[1]));else if(typeof e=="bigint")r=e;else throw Et();i=r*n}else if(typeof e=="number"){if(isNaN(e))throw Et();if(e<0&&(i=-ee,e=-e),e%1===0)r=BigInt(e);else{let u=1,o=0,s=1,c=1,f=1,a=1e7;for(e>=1&&(u=10**Math.floor(1+Math.log10(e)),e/=u);s<=a&&f<=a;){let l=(o+c)/(s+f);if(e===l){s+f<=a?(r=o+c,n=s+f):f>s?(r=c,n=f):(r=o,n=s);break}else e>l?(o+=c,s+=f):(c+=o,f+=s),s>a?(r=c,n=f):(r=o,n=s)}r=BigInt(r)*BigInt(u),n=BigInt(n)}}else if(typeof e=="string"){let u=0,o=Y,s=Y,c=Y,f=ee,a=ee,l=e.replace(/_/g,"").match(/\d+|./g);if(l===null)throw Et();if(l[u]==="-"?(i=-ee,u++):l[u]==="+"&&u++,l.length===u+1?s=mt(l[u++],i):l[u+1]==="."||l[u]==="."?(l[u]!=="."&&(o=mt(l[u++],i)),u++,(u+1===l.length||l[u+1]==="("&&l[u+3]===")"||l[u+1]==="'"&&l[u+3]==="'")&&(s=mt(l[u],i),f=He**BigInt(l[u].length),u++),(l[u]==="("&&l[u+2]===")"||l[u]==="'"&&l[u+2]==="'")&&(c=mt(l[u+1],i),a=He**BigInt(l[u+1].length)-ee,u+=3)):l[u+1]==="/"||l[u+1]===":"?(s=mt(l[u],i),f=mt(l[u+2],ee),u+=3):l[u+3]==="/"&&l[u+1]===" "&&(o=mt(l[u],i),s=mt(l[u+2],i),f=mt(l[u+4],ee),u+=5),l.length<=u)n=f*a,i=r=c+n*o+a*s;else throw Et()}else if(typeof e=="bigint")r=e,i=e,n=ee;else throw Et();if(n===Y)throw kn();L.s=i<Y?-ee:ee,L.n=r<Y?-r:r,L.d=n<Y?-n:n};function Qf(e,t,r){let n=ee;for(;t>Y;e=e*e%r,t>>=ee)t&ee&&(n=n*e%r);return n}function ec(e,t){for(;t%hr===Y;t/=hr);for(;t%Nn===Y;t/=Nn);if(t===ee)return Y;let r=He%t,n=1;for(;r!==ee;n++)if(r=r*He%t,n>jf)return Y;return BigInt(n)}function tc(e,t,r){let n=ee,i=Qf(He,r,t);for(let u=0;u<300;u++){if(n===i)return BigInt(u);n=n*He%t,i=i*He%t}return 0}function Rt(e,t){if(!e)return t;if(!t)return e;for(;;){if(e%=t,!e)return t;if(t%=e,!t)return e}}function nt(e,t){if(Ie(e,t),this instanceof nt)e=Rt(L.d,L.n),this.s=L.s,this.n=L.n/e,this.d=L.d/e;else return me(L.s*L.n,L.d)}var kn=function(){return new Error("Division by Zero")},Et=function(){return new Error("Invalid argument")},Fi=function(){return new Error("Parameters must be integer")};nt.prototype={s:ee,n:Y,d:ee,abs:function(){return me(this.n,this.d)},neg:function(){return me(-this.s*this.n,this.d)},add:function(e,t){return Ie(e,t),me(this.s*this.n*L.d+L.s*this.d*L.n,this.d*L.d)},sub:function(e,t){return Ie(e,t),me(this.s*this.n*L.d-L.s*this.d*L.n,this.d*L.d)},mul:function(e,t){return Ie(e,t),me(this.s*L.s*this.n*L.n,this.d*L.d)},div:function(e,t){return Ie(e,t),me(this.s*L.s*this.n*L.d,this.d*L.n)},clone:function(){return me(this.s*this.n,this.d)},mod:function(e,t){if(e===void 0)return me(this.s*this.n%this.d,ee);if(Ie(e,t),Y===L.n*this.d)throw kn();return me(this.s*(L.d*this.n)%(L.n*this.d),L.d*this.d)},gcd:function(e,t){return Ie(e,t),me(Rt(L.n,this.n)*Rt(L.d,this.d),L.d*this.d)},lcm:function(e,t){return Ie(e,t),L.n===Y&&this.n===Y?me(Y,ee):me(L.n*this.n,Rt(L.n,this.n)*Rt(L.d,this.d))},inverse:function(){return me(this.s*this.d,this.n)},pow:function(e,t){if(Ie(e,t),L.d===ee)return L.s<Y?me((this.s*this.d)**L.n,this.n**L.n):me((this.s*this.n)**L.n,this.d**L.n);if(this.s<Y)return null;let r=kt(this.n),n=kt(this.d),i=ee,u=ee;for(let o in r)if(o!=="1"){if(o==="0"){i=Y;break}if(r[o]*=L.n,r[o]%L.d===Y)r[o]/=L.d;else return null;i*=BigInt(o)**r[o]}for(let o in n)if(o!=="1"){if(n[o]*=L.n,n[o]%L.d===Y)n[o]/=L.d;else return null;u*=BigInt(o)**n[o]}return L.s<Y?me(u,i):me(i,u)},log:function(e,t){if(Ie(e,t),this.s<=Y||L.s<=Y)return null;const r={},n=kt(L.n),i=kt(L.d),u=kt(this.n),o=kt(this.d);for(const f in i)n[f]=(n[f]||Y)-i[f];for(const f in o)u[f]=(u[f]||Y)-o[f];for(const f in n)f!=="1"&&(r[f]=!0);for(const f in u)f!=="1"&&(r[f]=!0);let s=null,c=null;for(const f in r){const a=n[f]||Y,l=u[f]||Y;if(a===Y){if(l!==Y)return null;continue}let D=l,d=a;const v=Rt(D,d);if(D/=v,d/=v,s===null&&c===null)s=D,c=d;else if(D*c!==s*d)return null}return s!==null&&c!==null?me(s,c):null},equals:function(e,t){return Ie(e,t),this.s*this.n*L.d===L.s*L.n*this.d},lt:function(e,t){return Ie(e,t),this.s*this.n*L.d<L.s*L.n*this.d},lte:function(e,t){return Ie(e,t),this.s*this.n*L.d<=L.s*L.n*this.d},gt:function(e,t){return Ie(e,t),this.s*this.n*L.d>L.s*L.n*this.d},gte:function(e,t){return Ie(e,t),this.s*this.n*L.d>=L.s*L.n*this.d},compare:function(e,t){Ie(e,t);let r=this.s*this.n*L.d-L.s*L.n*this.d;return(Y<r)-(r<Y)},ceil:function(e){return e=He**BigInt(e||0),me(st(this.s*e*this.n/this.d)+(e*this.n%this.d>Y&&this.s>=Y?ee:Y),e)},floor:function(e){return e=He**BigInt(e||0),me(st(this.s*e*this.n/this.d)-(e*this.n%this.d>Y&&this.s<Y?ee:Y),e)},round:function(e){return e=He**BigInt(e||0),me(st(this.s*e*this.n/this.d)+this.s*((this.s>=Y?ee:Y)+hr*(e*this.n%this.d)>this.d?ee:Y),e)},roundTo:function(e,t){Ie(e,t);const r=this.n*L.d,n=this.d*L.n,i=r%n;let u=st(r/n);return i+i>=n&&u++,me(this.s*u*L.n,L.d)},divisible:function(e,t){return Ie(e,t),!(!(L.n*this.d)||this.n*L.d%(L.n*this.d))},valueOf:function(){return Number(this.s*this.n)/Number(this.d)},toString:function(e){let t=this.n,r=this.d;e=e||15;let n=ec(t,r),i=tc(t,r,n),u=this.s<Y?"-":"";if(u+=st(t/r),t%=r,t*=He,t&&(u+="."),n){for(let o=i;o--;)u+=st(t/r),t%=r,t*=He;u+="(";for(let o=n;o--;)u+=st(t/r),t%=r,t*=He;u+=")"}else for(let o=e;t&&o--;)u+=st(t/r),t%=r,t*=He;return u},toFraction:function(e){let t=this.n,r=this.d,n=this.s<Y?"-":"";if(r===ee)n+=t;else{let i=st(t/r);e&&i>Y&&(n+=i,n+=" ",t%=r),n+=t,n+="/",n+=r}return n},toLatex:function(e){let t=this.n,r=this.d,n=this.s<Y?"-":"";if(r===ee)n+=t;else{let i=st(t/r);e&&i>Y&&(n+=i,t%=r),n+="\\frac{",n+=t,n+="}{",n+=r,n+="}"}return n},toContinued:function(){let e=this.n,t=this.d,r=[];do{r.push(st(e/t));let n=e%t;e=t,t=n}while(e!==ee);return r},simplify:function(e){const t=BigInt(1/(e||.001)|0),r=this.abs(),n=r.toContinued();for(let i=1;i<n.length;i++){let u=me(n[i-1],ee);for(let s=i-2;s>=0;s--)u=u.inverse().add(n[s]);let o=u.sub(r);if(o.n*t<o.d)return u.mul(this.s)}return this}};var rc="Fraction",nc=[],ic=te(rc,nc,()=>(Object.defineProperty(nt,"name",{value:"Fraction"}),nt.prototype.constructor=nt,nt.prototype.type="Fraction",nt.prototype.isFraction=!0,nt.prototype.toJSON=function(){return{mathjs:"Fraction",n:String(this.s*this.n),d:String(this.d)}},nt.fromJSON=function(e){return new nt(e)},nt),{isClass:!0}),uc="Matrix",oc=[],ac=te(uc,oc,()=>{function e(){if(!(this instanceof e))throw new SyntaxError("Constructor must be called with the new operator")}return e.prototype.type="Matrix",e.prototype.isMatrix=!0,e.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},e.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},e.prototype.create=function(t,r){throw new Error("Cannot invoke create on a Matrix interface")},e.prototype.subset=function(t,r,n){throw new Error("Cannot invoke subset on a Matrix interface")},e.prototype.get=function(t){throw new Error("Cannot invoke get on a Matrix interface")},e.prototype.set=function(t,r,n){throw new Error("Cannot invoke set on a Matrix interface")},e.prototype.resize=function(t,r){throw new Error("Cannot invoke resize on a Matrix interface")},e.prototype.reshape=function(t,r){throw new Error("Cannot invoke reshape on a Matrix interface")},e.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},e.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},e.prototype.map=function(t,r){throw new Error("Cannot invoke map on a Matrix interface")},e.prototype.forEach=function(t){throw new Error("Cannot invoke forEach on a Matrix interface")},e.prototype[Symbol.iterator]=function(){throw new Error("Cannot iterate a Matrix interface")},e.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},e.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},e.prototype.format=function(t){throw new Error("Cannot invoke format on a Matrix interface")},e.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},e},{isClass:!0});function pn(e,t,r){var n=e.constructor,i=new n(2),u="";if(r){if(r<1)throw new Error("size must be in greater than 0");if(!Me(r))throw new Error("size must be an integer");if(e.greaterThan(i.pow(r-1).sub(1))||e.lessThan(i.pow(r-1).mul(-1)))throw new Error("Value must be in range [-2^".concat(r-1,", 2^").concat(r-1,"-1]"));if(!e.isInteger())throw new Error("Value must be an integer");e.lessThan(0)&&(e=e.add(i.pow(r))),u="i".concat(r)}switch(t){case 2:return"".concat(e.toBinary()).concat(u);case 8:return"".concat(e.toOctal()).concat(u);case 16:return"".concat(e.toHexadecimal()).concat(u);default:throw new Error("Base ".concat(t," not supported "))}}function sc(e,t){if(typeof t=="function")return t(e);if(!e.isFinite())return e.isNaN()?"NaN":e.gt(0)?"Infinity":"-Infinity";var{notation:r,precision:n,wordSize:i}=Fu(t);switch(r){case"fixed":return cc(e,n);case"exponential":return Ai(e,n);case"engineering":return fc(e,n);case"bin":return pn(e,2,i);case"oct":return pn(e,8,i);case"hex":return pn(e,16,i);case"auto":{var u=Ci(t==null?void 0:t.lowerExp,-3),o=Ci(t==null?void 0:t.upperExp,5);if(e.isZero())return"0";var s,c=e.toSignificantDigits(n),f=c.e;return f>=u&&f<o?s=c.toFixed():s=Ai(e,n),s.replace(/((\.\d*?)(0+))($|e)/,function(){var a=arguments[2],l=arguments[4];return a!=="."?a+l:l})}default:throw new Error('Unknown notation "'+r+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function fc(e,t){var r=e.e,n=r%3===0?r:r<0?r-3-r%3:r-r%3,i=e.mul(Math.pow(10,-n)),u=i.toPrecision(t);if(u.includes("e")){var o=e.constructor;u=new o(u).toFixed()}return u+"e"+(r>=0?"+":"")+n.toString()}function Ai(e,t){return t!==void 0?e.toExponential(t-1):e.toExponential()}function cc(e,t){return e.toFixed(t)}function Ci(e,t){return pe(e)?e:_e(e)?e.toNumber():t}function Ne(e,t){var r=lc(e,t);return t&&typeof t=="object"&&"truncate"in t&&r.length>t.truncate?r.substring(0,t.truncate-3)+"...":r}function lc(e,t){if(typeof e=="number")return Fn(e,t);if(_e(e))return sc(e,t);if(hc(e))return!t||t.fraction!=="decimal"?"".concat(e.s*e.n,"/").concat(e.d):e.toString();if(Array.isArray(e))return Ru(e,t);if(ct(e))return _i(e);if(typeof e=="function")return e.syntax?String(e.syntax):"function";if(e&&typeof e=="object"){if(typeof e.format=="function")return e.format(t);if(e&&e.toString(t)!=={}.toString())return e.toString(t);var r=Object.keys(e).map(n=>_i(n)+": "+Ne(e[n],t));return"{"+r.join(", ")+"}"}return String(e)}function _i(e){for(var t=String(e),r="",n=0;n<t.length;){var i=t.charAt(n);r+=i in bi?bi[i]:i,n++}return'"'+r+'"'}var bi={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"};function Ru(e,t){if(Array.isArray(e)){for(var r="[",n=e.length,i=0;i<n;i++)i!==0&&(r+=", "),r+=Ru(e[i],t);return r+="]",r}else return Ne(e,t)}function hc(e){return e&&typeof e=="object"&&typeof e.s=="bigint"&&typeof e.n=="bigint"&&typeof e.d=="bigint"||!1}function se(e,t,r){if(!(this instanceof se))throw new SyntaxError("Constructor must be called with the new operator");this.actual=e,this.expected=t,this.relation=r,this.message="Dimension mismatch ("+(Array.isArray(e)?"["+e.join(", ")+"]":e)+" "+(this.relation||"!=")+" "+(Array.isArray(t)?"["+t.join(", ")+"]":t)+")",this.stack=new Error().stack}se.prototype=new RangeError;se.prototype.constructor=RangeError;se.prototype.name="DimensionError";se.prototype.isDimensionError=!0;function $t(e,t,r){if(!(this instanceof $t))throw new SyntaxError("Constructor must be called with the new operator");this.index=e,arguments.length<3?(this.min=0,this.max=t):(this.min=t,this.max=r),this.min!==void 0&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":this.max!==void 0&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=new Error().stack}$t.prototype=new RangeError;$t.prototype.constructor=RangeError;$t.prototype.name="IndexError";$t.prototype.isIndexError=!0;function We(e){for(var t=[];Array.isArray(e);)t.push(e.length),e=e[0];return t}function zu(e,t,r){var n,i=e.length;if(i!==t[r])throw new se(i,t[r]);if(r<t.length-1){var u=r+1;for(n=0;n<i;n++){var o=e[n];if(!Array.isArray(o))throw new se(t.length-1,t.length,"<");zu(e[n],t,u)}}else for(n=0;n<i;n++)if(Array.isArray(e[n]))throw new se(t.length+1,t.length,">")}function Bi(e,t){var r=t.length===0;if(r){if(Array.isArray(e))throw new se(e.length,0)}else zu(e,t,0)}function Ee(e,t){if(e!==void 0){if(!pe(e)||!Me(e))throw new TypeError("Index must be an integer (value: "+e+")");if(e<0||typeof t=="number"&&e>=t)throw new $t(e,t)}}function Mn(e,t,r){if(!Array.isArray(t))throw new TypeError("Array expected");if(t.length===0)throw new Error("Resizing to scalar is not supported");t.forEach(function(i){if(!pe(i)||!Me(i)||i<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Ne(t)+")")}),(pe(e)||_e(e))&&(e=[e]);var n=r!==void 0?r:0;return Sn(e,t,0,n),e}function Sn(e,t,r,n){var i,u,o=e.length,s=t[r],c=Math.min(o,s);if(e.length=s,r<t.length-1){var f=r+1;for(i=0;i<c;i++)u=e[i],Array.isArray(u)||(u=[u],e[i]=u),Sn(u,t,f,n);for(i=c;i<s;i++)u=[],e[i]=u,Sn(u,t,f,n)}else{for(i=0;i<c;i++)for(;Array.isArray(e[i]);)e[i]=e[i][0];for(i=c;i<s;i++)e[i]=n}}function qu(e,t){var r=dc(e,!0),n=r.length;if(!Array.isArray(e)||!Array.isArray(t))throw new TypeError("Array expected");if(t.length===0)throw new se(0,n,"!=");t=Hn(t,n);var i=$u(t);if(n!==i)throw new se(i,n,"!=");try{return Dc(r,t)}catch(u){throw u instanceof se?new se(i,n,"!="):u}}function Hn(e,t){var r=$u(e),n=e.slice(),i=-1,u=e.indexOf(i),o=e.indexOf(i,u+1)>=0;if(o)throw new Error("More than one wildcard in sizes");var s=u>=0,c=t%r===0;if(s)if(c)n[u]=-t/r;else throw new Error("Could not replace wildcard, since "+t+" is no multiple of "+-r);return n}function $u(e){return e.reduce((t,r)=>t*r,1)}function Dc(e,t){for(var r=e,n,i=t.length-1;i>0;i--){var u=t[i];n=[];for(var o=r.length/u,s=0;s<o;s++)n.push(r.slice(s*u,(s+1)*u));r=n}return r}function Lu(e,t,r,n){var i=n||We(e);if(r)for(var u=0;u<r;u++)e=[e],i.unshift(1);for(e=Uu(e,t,0);i.length<t;)i.push(1);return e}function Uu(e,t,r){var n,i;if(Array.isArray(e)){var u=r+1;for(n=0,i=e.length;n<i;n++)e[n]=Uu(e[n],t,u)}else for(var o=r;o<t;o++)e=[e];return e}function dc(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!Array.isArray(e))return e;if(typeof t!="boolean")throw new TypeError("Boolean expected for second argument of flatten");var r=[];return t?i(e):n(e),r;function n(u){for(var o=0;o<u.length;o++){var s=u[o];Array.isArray(s)?n(s):r.push(s)}}function i(u){if(Array.isArray(u[0]))for(var o=0;o<u.length;o++)i(u[o]);else for(var s=0;s<u.length;s++)r.push(u[s])}}function Yn(e,t){for(var r,n=0,i=0;i<e.length;i++){var u=e[i],o=Array.isArray(u);if(i===0&&o&&(n=u.length),o&&u.length!==n)return;var s=o?Yn(u,t):t(u);if(r===void 0)r=s;else if(r!==s)return"mixed"}return r}function Zu(e,t,r,n){if(n<r){if(e.length!==t.length)throw new se(e.length,t.length);for(var i=[],u=0;u<e.length;u++)i[u]=Zu(e[u],t[u],r,n+1);return i}else return e.concat(t)}function Vu(){var e=Array.prototype.slice.call(arguments,0,-1),t=Array.prototype.slice.call(arguments,-1);if(e.length===1)return e[0];if(e.length>1)return e.slice(1).reduce(function(r,n){return Zu(r,n,t,0)},e[0]);throw new Error("Wrong number of arguments in function concat")}function Wu(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];for(var n=t.map(D=>D.length),i=Math.max(...n),u=new Array(i).fill(null),o=0;o<t.length;o++)for(var s=t[o],c=n[o],f=0;f<c;f++){var a=i-c+f;s[f]>u[a]&&(u[a]=s[f])}for(var l=0;l<t.length;l++)Xu(t[l],u);return u}function Xu(e,t){for(var r=t.length,n=e.length,i=0;i<n;i++){var u=r-n+i;if(e[i]<t[u]&&e[i]>1||e[i]>t[u])throw new Error("shape mismatch: mismatch is found in arg with shape (".concat(e,") not possible to broadcast dimension ").concat(n," with size ").concat(e[i]," to size ").concat(t[u]))}}function xn(e,t){var r=We(e);if(Bt(r,t))return e;Xu(r,t);var n=Wu(r,t),i=n.length,u=[...Array(i-r.length).fill(1),...r],o=vc(e);r.length<i&&(o=qu(o,u),r=We(o));for(var s=0;s<i;s++)r[s]<n[s]&&(o=pc(o,n[s],s),r=We(o));return o}function pc(e,t,r){return Vu(...Array(t).fill(e),r)}function ku(e,t){if(!Array.isArray(e))throw new Error("Array expected");var r=We(e);if(t.length!==r.length)throw new se(t.length,r.length);for(var n=0;n<t.length;n++)Ee(t[n],r[n]);return t.reduce((i,u)=>i[u],e)}function Ni(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(e.length===0)return[];if(r)return u(e);var n=[];return i(e,0);function i(o,s){if(Array.isArray(o)){for(var c=o.length,f=Array(c),a=0;a<c;a++)n[s]=a,f[a]=i(o[a],s+1);return f}else return t(o,n.slice(0,s),e)}function u(o){if(Array.isArray(o)){for(var s=o.length,c=Array(s),f=0;f<s;f++)c[f]=u(o[f]);return c}else return t(o)}}function vc(e){return Pr([],e)}function Vr(e,t,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(qr.isTypedFunction(e)){var i;if(n)i=1;else{var u=(t.isMatrix?t.size():We(t)).map(()=>0),o=t.isMatrix?t.get(u):ku(t,u);i=wc(e,o,u,t)}var s;if(t.isMatrix&&t.dataType!=="mixed"&&t.dataType!==void 0){var c=mc(e,i);s=c!==void 0?c:e}else s=e;return i>=1&&i<=3?{isUnary:i===1,fn:function(){for(var a=arguments.length,l=new Array(a),D=0;D<a;D++)l[D]=arguments[D];return Mi(s,l.slice(0,i),r,e.name)}}:{isUnary:!1,fn:function(){for(var a=arguments.length,l=new Array(a),D=0;D<a;D++)l[D]=arguments[D];return Mi(s,l,r,e.name)}}}return n===void 0?{isUnary:gc(e),fn:e}:{isUnary:n,fn:e}}function mc(e,t){var r=[];if(Object.entries(e.signatures).forEach(n=>{var[i,u]=n;i.split(",").length===t&&r.push(u)}),r.length===1)return r[0]}function gc(e){if(e.length!==1)return!1;var t=e.toString();if(/arguments/.test(t))return!1;var r=t.match(/\(.*?\)/);return!/\.\.\./.test(r)}function wc(e,t,r,n){for(var i=[t,r,n],u=3;u>0;u--){var o=i.slice(0,u);if(qr.resolve(e,o)!==null)return u}}function Mi(e,t,r,n){try{return e(...t)}catch(i){yc(i,t,r,n)}}function yc(e,t,r,n){var i;if(e instanceof TypeError&&((i=e.data)===null||i===void 0?void 0:i.category)==="wrongType"){var u=[];throw u.push("value: ".concat(bt(t[0]))),t.length>=2&&u.push("index: ".concat(bt(t[1]))),t.length>=3&&u.push("array: ".concat(bt(t[2]))),new TypeError("Function ".concat(r," cannot apply callback arguments ")+"".concat(n,"(").concat(u.join(", "),") at index ").concat(JSON.stringify(t[1])))}else throw new TypeError("Function ".concat(r," cannot apply callback arguments ")+"to function ".concat(n,": ").concat(e.message))}var Ec="DenseMatrix",Fc=["Matrix"],Ac=te(Ec,Fc,e=>{var{Matrix:t}=e;function r(a,l){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(l&&!ct(l))throw new Error("Invalid datatype: "+l);if(Ae(a))a.type==="DenseMatrix"?(this._data=Fe(a._data),this._size=Fe(a._size),this._datatype=l||a._datatype):(this._data=a.toArray(),this._size=a.size(),this._datatype=l||a._datatype);else if(a&&Se(a.data)&&Se(a.size))this._data=a.data,this._size=a.size,Bi(this._data,this._size),this._datatype=l||a.datatype;else if(Se(a))this._data=f(a),this._size=We(this._data),Bi(this._data,this._size),this._datatype=l;else{if(a)throw new TypeError("Unsupported type of data ("+bt(a)+")");this._data=[],this._size=[0],this._datatype=l}}r.prototype=new t,r.prototype.createDenseMatrix=function(a,l){return new r(a,l)},Object.defineProperty(r,"name",{value:"DenseMatrix"}),r.prototype.constructor=r,r.prototype.type="DenseMatrix",r.prototype.isDenseMatrix=!0,r.prototype.getDataType=function(){return Yn(this._data,bt)},r.prototype.storage=function(){return"dense"},r.prototype.datatype=function(){return this._datatype},r.prototype.create=function(a,l){return new r(a,l)},r.prototype.subset=function(a,l,D){switch(arguments.length){case 1:return n(this,a);case 2:case 3:return u(this,a,l,D);default:throw new SyntaxError("Wrong number of arguments")}},r.prototype.get=function(a){return ku(this._data,a)},r.prototype.set=function(a,l,D){if(!Se(a))throw new TypeError("Array expected");if(a.length<this._size.length)throw new se(a.length,this._size.length,"<");var d,v,h,p=a.map(function(C){return C+1});c(this,p,D);var w=this._data;for(d=0,v=a.length-1;d<v;d++)h=a[d],Ee(h,w.length),w=w[h];return h=a[a.length-1],Ee(h,w.length),w[h]=l,this};function n(a,l){if(!Vn(l))throw new TypeError("Invalid index");var D=l.isScalar();if(D)return a.get(l.min());var d=l.size();if(d.length!==a._size.length)throw new se(d.length,a._size.length);for(var v=l.min(),h=l.max(),p=0,w=a._size.length;p<w;p++)Ee(v[p],a._size[p]),Ee(h[p],a._size[p]);return new r(i(a._data,l,d.length,0),a._datatype)}function i(a,l,D,d){var v=d===D-1,h=l.dimension(d);return v?h.map(function(p){return Ee(p,a.length),a[p]}).valueOf():h.map(function(p){Ee(p,a.length);var w=a[p];return i(w,l,D,d+1)}).valueOf()}function u(a,l,D,d){if(!l||l.isIndex!==!0)throw new TypeError("Invalid index");var v=l.size(),h=l.isScalar(),p;if(Ae(D)?(p=D.size(),D=D.valueOf()):p=We(D),h){if(p.length!==0)throw new TypeError("Scalar expected");a.set(l.min(),D,d)}else{if(!Bt(p,v))try{p.length===0?D=xn([D],v):D=xn(D,v),p=We(D)}catch{}if(v.length<a._size.length)throw new se(v.length,a._size.length,"<");if(p.length<v.length){for(var w=0,C=0;v[w]===1&&p[w]===1;)w++;for(;v[w]===1;)C++,w++;D=Lu(D,v.length,C,p)}if(!Bt(v,p))throw new se(v,p,">");var y=l.max().map(function(m){return m+1});c(a,y,d);var A=v.length,E=0;o(a._data,l,D,A,E)}return a}function o(a,l,D,d,v){var h=v===d-1,p=l.dimension(v);h?p.forEach(function(w,C){Ee(w),a[w]=D[C[0]]}):p.forEach(function(w,C){Ee(w),o(a[w],l,D[C[0]],d,v+1)})}r.prototype.resize=function(a,l,D){if(!zr(a))throw new TypeError("Array or Matrix expected");var d=a.valueOf().map(h=>Array.isArray(h)&&h.length===1?h[0]:h),v=D?this.clone():this;return s(v,d,l)};function s(a,l,D){if(l.length===0){for(var d=a._data;Se(d);)d=d[0];return d}return a._size=l.slice(0),a._data=Mn(a._data,a._size,D),a}r.prototype.reshape=function(a,l){var D=l?this.clone():this;D._data=qu(D._data,a);var d=D._size.reduce((v,h)=>v*h);return D._size=Hn(a,d),D};function c(a,l,D){for(var d=a._size.slice(0),v=!1;d.length<l.length;)d.push(0),v=!0;for(var h=0,p=l.length;h<p;h++)l[h]>d[h]&&(d[h]=l[h],v=!0);v&&s(a,d,D)}r.prototype.clone=function(){var a=new r({data:Fe(this._data),size:Fe(this._size),datatype:this._datatype});return a},r.prototype.size=function(){return this._size.slice(0)},r.prototype._forEach=function(a){var l=a.length===2,D=this._size.length-1;if(D<0)return;if(l){p(this._data);return}if(D===0){for(var d=0;d<this._data.length;d++)a(this._data,d,[d]);return}var v=new Array(D+1);h(this._data);function h(w){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(C<D)for(var y=0;y<w.length;y++)v[C]=y,h(w[y],C+1);else for(var A=0;A<w.length;A++)v[C]=A,a(w,A,v.slice())}function p(w){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(C<D)for(var y=0;y<w.length;y++)p(w[y],C+1);else for(var A=0;A<w.length;A++)a(w,A)}},r.prototype.map=function(a){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,D=this,d=new r(D),v=Vr(a,D._data,"map",l),h=l||v.isUnary?(p,w)=>{p[w]=v.fn(p[w])}:(p,w,C)=>{p[w]=v.fn(p[w],C,D)};return d._forEach(h),d},r.prototype.forEach=function(a){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,D=this,d=Vr(a,D._data,"map",l),v=l||d.isUnary?(h,p)=>{d.fn(h[p])}:(h,p,w)=>{d.fn(h[p],w,D)};D._forEach(v)},r.prototype[Symbol.iterator]=function*(){var a=this._size.length-1;if(!(a<0)){if(a===0){for(var l=0;l<this._data.length;l++)yield{value:this._data[l],index:[l]};return}var D=[],d=function*(h,p){if(p<a)for(var w=0;w<h.length;w++)D[p]=w,yield*d(h[w],p+1);else for(var C=0;C<h.length;C++)D[p]=C,yield{value:h[C],index:D.slice()}};yield*d(this._data,0)}},r.prototype.rows=function(){var a=[],l=this.size();if(l.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");var D=this._data;for(var d of D)a.push(new r([d],this._datatype));return a},r.prototype.columns=function(){var a=this,l=[],D=this.size();if(D.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");for(var d=this._data,v=function(w){var C=d.map(y=>[y[w]]);l.push(new r(C,a._datatype))},h=0;h<D[1];h++)v(h);return l},r.prototype.toArray=function(){return Fe(this._data)},r.prototype.valueOf=function(){return this._data},r.prototype.format=function(a){return Ne(this._data,a)},r.prototype.toString=function(){return Ne(this._data)},r.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},r.prototype.diagonal=function(a){if(a){if(_e(a)&&(a=a.toNumber()),!pe(a)||!Me(a))throw new TypeError("The parameter k must be an integer number")}else a=0;for(var l=a>0?a:0,D=a<0?-a:0,d=this._size[0],v=this._size[1],h=Math.min(d-D,v-l),p=[],w=0;w<h;w++)p[w]=this._data[w+D][w+l];return new r({data:p,size:[h],datatype:this._datatype})},r.diagonal=function(a,l,D,d){if(!Se(a))throw new TypeError("Array expected, size parameter");if(a.length!==2)throw new Error("Only two dimensions matrix are supported");if(a=a.map(function(_){if(_e(_)&&(_=_.toNumber()),!pe(_)||!Me(_)||_<1)throw new Error("Size values must be positive integers");return _}),D){if(_e(D)&&(D=D.toNumber()),!pe(D)||!Me(D))throw new TypeError("The parameter k must be an integer number")}else D=0;var v=D>0?D:0,h=D<0?-D:0,p=a[0],w=a[1],C=Math.min(p-h,w-v),y;if(Se(l)){if(l.length!==C)throw new Error("Invalid value array length");y=function(b){return l[b]}}else if(Ae(l)){var A=l.size();if(A.length!==1||A[0]!==C)throw new Error("Invalid matrix length");y=function(b){return l.get([b])}}else y=function(){return l};d||(d=_e(y(0))?y(0).mul(0):0);var E=[];if(a.length>0){E=Mn(E,a,d);for(var m=0;m<C;m++)E[m+h][m+v]=y(m)}return new r({data:E,size:[p,w]})},r.fromJSON=function(a){return new r(a)},r.prototype.swapRows=function(a,l){if(!pe(a)||!Me(a)||!pe(l)||!Me(l))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return Ee(a,this._size[0]),Ee(l,this._size[0]),r._swapRows(a,l,this._data),this},r._swapRows=function(a,l,D){var d=D[a];D[a]=D[l],D[l]=d};function f(a){return Ae(a)?f(a.valueOf()):Se(a)?a.map(f):a}return r},{isClass:!0});function St(e,t,r){if(!r)return Ae(e)?e.map(i=>t(i),!1,!0):Ni(e,t,!0);var n=i=>i===0?i:t(i);return Ae(e)?e.map(i=>n(i),!1,!0):Ni(e,n,!0)}var Si="isInteger",Cc=["typed"],_c=te(Si,Cc,e=>{var{typed:t}=e;return t(Si,{number:Me,BigNumber:function(n){return n.isInt()},bigint:function(n){return!0},Fraction:function(n){return n.d===1n},"Array | Matrix":t.referToSelf(r=>n=>St(n,r))})}),Hu="number",Gn="number, number";function Yu(e){return Math.abs(e)}Yu.signature=Hu;function Gu(e,t){return e+t}Gu.signature=Gn;function Ju(e,t){return e-t}Ju.signature=Gn;function Ku(e,t){return e*t}Ku.signature=Gn;function ju(e){return-e}ju.signature=Hu;function bc(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e-9,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;if(r<=0)throw new Error("Relative tolerance must be greater than 0");if(n<0)throw new Error("Absolute tolerance must be at least 0");return e.isNaN()||t.isNaN()?!1:!e.isFinite()||!t.isFinite()?e.eq(t):e.eq(t)?!0:e.minus(t).abs().lte(e.constructor.max(e.constructor.max(e.abs(),t.abs()).mul(r),n))}var xi="isZero",Bc=["typed","equalScalar"],Nc=te(xi,Bc,e=>{var{typed:t,equalScalar:r}=e;return t(xi,{"number | BigNumber | Complex | Fraction":n=>r(n,0),bigint:n=>n===0n,Unit:t.referToSelf(n=>i=>t.find(n,i.valueType())(i.value)),"Array | Matrix":t.referToSelf(n=>i=>St(i,n))})});function Mc(e,t,r,n){return $r(e.re,t.re,r,n)&&$r(e.im,t.im,r,n)}var Sc=te("compareUnits",["typed"],e=>{var{typed:t}=e;return{"Unit, Unit":t.referToSelf(r=>(n,i)=>{if(!n.equalBase(i))throw new Error("Cannot compare units with different base");return t.find(r,[n.valueType(),i.valueType()])(n.value,i.value)})}}),Wr="equalScalar",xc=["typed","config"],Tc=te(Wr,xc,e=>{var{typed:t,config:r}=e,n=Sc({typed:t});return t(Wr,{"boolean, boolean":function(u,o){return u===o},"number, number":function(u,o){return $r(u,o,r.relTol,r.absTol)},"BigNumber, BigNumber":function(u,o){return u.eq(o)||bc(u,o,r.relTol,r.absTol)},"bigint, bigint":function(u,o){return u===o},"Fraction, Fraction":function(u,o){return u.equals(o)},"Complex, Complex":function(u,o){return Mc(u,o,r.relTol,r.absTol)}},n)});te(Wr,["typed","config"],e=>{var{typed:t,config:r}=e;return t(Wr,{"number, number":function(i,u){return $r(i,u,r.relTol,r.absTol)}})});var Oc="SparseMatrix",Ic=["typed","equalScalar","Matrix"],Pc=te(Oc,Ic,e=>{var{typed:t,equalScalar:r,Matrix:n}=e;function i(h,p){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if(p&&!ct(p))throw new Error("Invalid datatype: "+p);if(Ae(h))u(this,h,p);else if(h&&Se(h.index)&&Se(h.ptr)&&Se(h.size))this._values=h.values,this._index=h.index,this._ptr=h.ptr,this._size=h.size,this._datatype=p||h.datatype;else if(Se(h))o(this,h,p);else{if(h)throw new TypeError("Unsupported type of data ("+bt(h)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=p}}function u(h,p,w){p.type==="SparseMatrix"?(h._values=p._values?Fe(p._values):void 0,h._index=Fe(p._index),h._ptr=Fe(p._ptr),h._size=Fe(p._size),h._datatype=w||p._datatype):o(h,p.valueOf(),w||p._datatype)}function o(h,p,w){h._values=[],h._index=[],h._ptr=[],h._datatype=w;var C=p.length,y=0,A=r,E=0;if(ct(w)&&(A=t.find(r,[w,w])||r,E=t.convert(0,w)),C>0){var m=0;do{h._ptr.push(h._index.length);for(var _=0;_<C;_++){var b=p[_];if(Se(b)){if(m===0&&y<b.length&&(y=b.length),m<b.length){var B=b[m];A(B,E)||(h._values.push(B),h._index.push(_))}}else m===0&&y<1&&(y=1),A(b,E)||(h._values.push(b),h._index.push(_))}m++}while(m<y)}h._ptr.push(h._index.length),h._size=[C,y]}i.prototype=new n,i.prototype.createSparseMatrix=function(h,p){return new i(h,p)},Object.defineProperty(i,"name",{value:"SparseMatrix"}),i.prototype.constructor=i,i.prototype.type="SparseMatrix",i.prototype.isSparseMatrix=!0,i.prototype.getDataType=function(){return Yn(this._values,bt)},i.prototype.storage=function(){return"sparse"},i.prototype.datatype=function(){return this._datatype},i.prototype.create=function(h,p){return new i(h,p)},i.prototype.density=function(){var h=this._size[0],p=this._size[1];return h!==0&&p!==0?this._index.length/(h*p):0},i.prototype.subset=function(h,p,w){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return s(this,h);case 2:case 3:return c(this,h,p,w);default:throw new SyntaxError("Wrong number of arguments")}};function s(h,p){if(!Vn(p))throw new TypeError("Invalid index");var w=p.isScalar();if(w)return h.get(p.min());var C=p.size();if(C.length!==h._size.length)throw new se(C.length,h._size.length);var y,A,E,m,_=p.min(),b=p.max();for(y=0,A=h._size.length;y<A;y++)Ee(_[y],h._size[y]),Ee(b[y],h._size[y]);var B=h._values,S=h._index,T=h._ptr,$=p.dimension(0),X=p.dimension(1),V=[],W=[];$.forEach(function(k,Q){W[k]=Q[0],V[k]=!0});var P=B?[]:void 0,J=[],H=[];return X.forEach(function(k){for(H.push(J.length),E=T[k],m=T[k+1];E<m;E++)y=S[E],V[y]===!0&&(J.push(W[y]),P&&P.push(B[E]))}),H.push(J.length),new i({values:P,index:J,ptr:H,size:C,datatype:h._datatype})}function c(h,p,w,C){if(!p||p.isIndex!==!0)throw new TypeError("Invalid index");var y=p.size(),A=p.isScalar(),E;if(Ae(w)?(E=w.size(),w=w.toArray()):E=We(w),A){if(E.length!==0)throw new TypeError("Scalar expected");h.set(p.min(),w,C)}else{if(y.length!==1&&y.length!==2)throw new se(y.length,h._size.length,"<");if(E.length<y.length){for(var m=0,_=0;y[m]===1&&E[m]===1;)m++;for(;y[m]===1;)_++,m++;w=Lu(w,y.length,_,E)}if(!Bt(y,E))throw new se(y,E,">");if(y.length===1){var b=p.dimension(0);b.forEach(function(T,$){Ee(T),h.set([T,0],w[$[0]],C)})}else{var B=p.dimension(0),S=p.dimension(1);B.forEach(function(T,$){Ee(T),S.forEach(function(X,V){Ee(X),h.set([T,X],w[$[0]][V[0]],C)})})}}return h}i.prototype.get=function(h){if(!Se(h))throw new TypeError("Array expected");if(h.length!==this._size.length)throw new se(h.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var p=h[0],w=h[1];Ee(p,this._size[0]),Ee(w,this._size[1]);var C=f(p,this._ptr[w],this._ptr[w+1],this._index);return C<this._ptr[w+1]&&this._index[C]===p?this._values[C]:0},i.prototype.set=function(h,p,w){if(!Se(h))throw new TypeError("Array expected");if(h.length!==this._size.length)throw new se(h.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var C=h[0],y=h[1],A=this._size[0],E=this._size[1],m=r,_=0;ct(this._datatype)&&(m=t.find(r,[this._datatype,this._datatype])||r,_=t.convert(0,this._datatype)),(C>A-1||y>E-1)&&(D(this,Math.max(C+1,A),Math.max(y+1,E),w),A=this._size[0],E=this._size[1]),Ee(C,A),Ee(y,E);var b=f(C,this._ptr[y],this._ptr[y+1],this._index);return b<this._ptr[y+1]&&this._index[b]===C?m(p,_)?a(b,y,this._values,this._index,this._ptr):this._values[b]=p:m(p,_)||l(b,C,y,p,this._values,this._index,this._ptr),this};function f(h,p,w,C){if(w-p===0)return w;for(var y=p;y<w;y++)if(C[y]===h)return y;return p}function a(h,p,w,C,y){w.splice(h,1),C.splice(h,1);for(var A=p+1;A<y.length;A++)y[A]--}function l(h,p,w,C,y,A,E){y.splice(h,0,C),A.splice(h,0,p);for(var m=w+1;m<E.length;m++)E[m]++}i.prototype.resize=function(h,p,w){if(!zr(h))throw new TypeError("Array or Matrix expected");var C=h.valueOf().map(A=>Array.isArray(A)&&A.length===1?A[0]:A);if(C.length!==2)throw new Error("Only two dimensions matrix are supported");C.forEach(function(A){if(!pe(A)||!Me(A)||A<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Ne(C)+")")});var y=w?this.clone():this;return D(y,C[0],C[1],p)};function D(h,p,w,C){var y=C||0,A=r,E=0;ct(h._datatype)&&(A=t.find(r,[h._datatype,h._datatype])||r,E=t.convert(0,h._datatype),y=t.convert(y,h._datatype));var m=!A(y,E),_=h._size[0],b=h._size[1],B,S,T;if(w>b){for(S=b;S<w;S++)if(h._ptr[S]=h._values.length,m)for(B=0;B<_;B++)h._values.push(y),h._index.push(B);h._ptr[w]=h._values.length}else w<b&&(h._ptr.splice(w+1,b-w),h._values.splice(h._ptr[w],h._values.length),h._index.splice(h._ptr[w],h._index.length));if(b=w,p>_){if(m){var $=0;for(S=0;S<b;S++){h._ptr[S]=h._ptr[S]+$,T=h._ptr[S+1]+$;var X=0;for(B=_;B<p;B++,X++)h._values.splice(T+X,0,y),h._index.splice(T+X,0,B),$++}h._ptr[b]=h._values.length}}else if(p<_){var V=0;for(S=0;S<b;S++){h._ptr[S]=h._ptr[S]-V;var W=h._ptr[S],P=h._ptr[S+1]-V;for(T=W;T<P;T++)B=h._index[T],B>p-1&&(h._values.splice(T,1),h._index.splice(T,1),V++)}h._ptr[S]=h._values.length}return h._size[0]=p,h._size[1]=w,h}i.prototype.reshape=function(h,p){if(!Se(h))throw new TypeError("Array expected");if(h.length!==2)throw new Error("Sparse matrices can only be reshaped in two dimensions");h.forEach(function(k){if(!pe(k)||!Me(k)||k<=-2||k===0)throw new TypeError("Invalid size, must contain positive integers or -1 (size: "+Ne(h)+")")});var w=this._size[0]*this._size[1];h=Hn(h,w);var C=h[0]*h[1];if(w!==C)throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var y=p?this.clone():this;if(this._size[0]===h[0]&&this._size[1]===h[1])return y;for(var A=[],E=0;E<y._ptr.length;E++)for(var m=0;m<y._ptr[E+1]-y._ptr[E];m++)A.push(E);for(var _=y._values.slice(),b=y._index.slice(),B=0;B<y._index.length;B++){var S=b[B],T=A[B],$=S*y._size[1]+T;A[B]=$%h[1],b[B]=Math.floor($/h[1])}y._values.length=0,y._index.length=0,y._ptr.length=h[1]+1,y._size=h.slice();for(var X=0;X<y._ptr.length;X++)y._ptr[X]=0;for(var V=0;V<_.length;V++){var W=b[V],P=A[V],J=_[V],H=f(W,y._ptr[P],y._ptr[P+1],y._index);l(H,W,P,J,y._values,y._index,y._ptr)}return y},i.prototype.clone=function(){var h=new i({values:this._values?Fe(this._values):void 0,index:Fe(this._index),ptr:Fe(this._ptr),size:Fe(this._size),datatype:this._datatype});return h},i.prototype.size=function(){return this._size.slice(0)},i.prototype.map=function(h,p){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var w=this,C=this._size[0],y=this._size[1],A=Vr(h,w,"map"),E=function(_,b,B){return A.fn(_,[b,B],w)};return d(this,0,C-1,0,y-1,E,p)};function d(h,p,w,C,y,A,E){var m=[],_=[],b=[],B=r,S=0;ct(h._datatype)&&(B=t.find(r,[h._datatype,h._datatype])||r,S=t.convert(0,h._datatype));for(var T=function(fe,be,Ce){var ye=A(fe,be,Ce);B(ye,S)||(m.push(ye),_.push(be))},$=C;$<=y;$++){b.push(m.length);var X=h._ptr[$],V=h._ptr[$+1];if(E)for(var W=X;W<V;W++){var P=h._index[W];P>=p&&P<=w&&T(h._values[W],P-p,$-C)}else{for(var J={},H=X;H<V;H++){var k=h._index[H];J[k]=h._values[H]}for(var Q=p;Q<=w;Q++){var ie=Q in J?J[Q]:0;T(ie,Q-p,$-C)}}}return b.push(m.length),new i({values:m,index:_,ptr:b,size:[w-p+1,y-C+1]})}i.prototype.forEach=function(h,p){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var w=this,C=this._size[0],y=this._size[1],A=Vr(h,w,"forEach"),E=0;E<y;E++){var m=this._ptr[E],_=this._ptr[E+1];if(p)for(var b=m;b<_;b++){var B=this._index[b];A.fn(this._values[b],[B,E],w)}else{for(var S={},T=m;T<_;T++){var $=this._index[T];S[$]=this._values[T]}for(var X=0;X<C;X++){var V=X in S?S[X]:0;A.fn(V,[X,E],w)}}}},i.prototype[Symbol.iterator]=function*(){if(!this._values)throw new Error("Cannot iterate a Pattern only matrix");for(var h=this._size[1],p=0;p<h;p++)for(var w=this._ptr[p],C=this._ptr[p+1],y=w;y<C;y++){var A=this._index[y];yield{value:this._values[y],index:[A,p]}}},i.prototype.toArray=function(){return v(this._values,this._index,this._ptr,this._size,!0)},i.prototype.valueOf=function(){return v(this._values,this._index,this._ptr,this._size,!1)};function v(h,p,w,C,y){var A=C[0],E=C[1],m=[],_,b;for(_=0;_<A;_++)for(m[_]=[],b=0;b<E;b++)m[_][b]=0;for(b=0;b<E;b++)for(var B=w[b],S=w[b+1],T=B;T<S;T++)_=p[T],m[_][b]=h?y?Fe(h[T]):h[T]:1;return m}return i.prototype.format=function(h){for(var p=this._size[0],w=this._size[1],C=this.density(),y="Sparse Matrix ["+Ne(p,h)+" x "+Ne(w,h)+"] density: "+Ne(C,h)+`
`,A=0;A<w;A++)for(var E=this._ptr[A],m=this._ptr[A+1],_=E;_<m;_++){var b=this._index[_];y+=`
    (`+Ne(b,h)+", "+Ne(A,h)+") ==> "+(this._values?Ne(this._values[_],h):"X")}return y},i.prototype.toString=function(){return Ne(this.toArray())},i.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},i.prototype.diagonal=function(h){if(h){if(_e(h)&&(h=h.toNumber()),!pe(h)||!Me(h))throw new TypeError("The parameter k must be an integer number")}else h=0;var p=h>0?h:0,w=h<0?-h:0,C=this._size[0],y=this._size[1],A=Math.min(C-w,y-p),E=[],m=[],_=[];_[0]=0;for(var b=p;b<y&&E.length<A;b++)for(var B=this._ptr[b],S=this._ptr[b+1],T=B;T<S;T++){var $=this._index[T];if($===b-p+w){E.push(this._values[T]),m[E.length-1]=$-w;break}}return _.push(E.length),new i({values:E,index:m,ptr:_,size:[A,1]})},i.fromJSON=function(h){return new i(h)},i.diagonal=function(h,p,w,C,y){if(!Se(h))throw new TypeError("Array expected, size parameter");if(h.length!==2)throw new Error("Only two dimensions matrix are supported");if(h=h.map(function(k){if(_e(k)&&(k=k.toNumber()),!pe(k)||!Me(k)||k<1)throw new Error("Size values must be positive integers");return k}),w){if(_e(w)&&(w=w.toNumber()),!pe(w)||!Me(w))throw new TypeError("The parameter k must be an integer number")}else w=0;var A=r,E=0;ct(y)&&(A=t.find(r,[y,y])||r,E=t.convert(0,y));var m=w>0?w:0,_=w<0?-w:0,b=h[0],B=h[1],S=Math.min(b-_,B-m),T;if(Se(p)){if(p.length!==S)throw new Error("Invalid value array length");T=function(Q){return p[Q]}}else if(Ae(p)){var $=p.size();if($.length!==1||$[0]!==S)throw new Error("Invalid matrix length");T=function(Q){return p.get([Q])}}else T=function(){return p};for(var X=[],V=[],W=[],P=0;P<B;P++){W.push(X.length);var J=P-m;if(J>=0&&J<S){var H=T(J);A(H,E)||(V.push(J+_),X.push(H))}}return W.push(X.length),new i({values:X,index:V,ptr:W,size:[b,B]})},i.prototype.swapRows=function(h,p){if(!pe(h)||!Me(h)||!pe(p)||!Me(p))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return Ee(h,this._size[0]),Ee(p,this._size[0]),i._swapRows(h,p,this._size[1],this._values,this._index,this._ptr),this},i._forEachRow=function(h,p,w,C,y){for(var A=C[h],E=C[h+1],m=A;m<E;m++)y(w[m],p[m])},i._swapRows=function(h,p,w,C,y,A){for(var E=0;E<w;E++){var m=A[E],_=A[E+1],b=f(h,m,_,y),B=f(p,m,_,y);if(b<_&&B<_&&y[b]===h&&y[B]===p){if(C){var S=C[b];C[b]=C[B],C[B]=S}continue}if(b<_&&y[b]===h&&(B>=_||y[B]!==p)){var T=C?C[b]:void 0;y.splice(B,0,p),C&&C.splice(B,0,T),y.splice(B<=b?b+1:b,1),C&&C.splice(B<=b?b+1:b,1);continue}if(B<_&&y[B]===p&&(b>=_||y[b]!==h)){var $=C?C[B]:void 0;y.splice(b,0,h),C&&C.splice(b,0,$),y.splice(b<=B?B+1:B,1),C&&C.splice(b<=B?B+1:B,1)}}},i},{isClass:!0}),Rc="number",zc=["typed"];function qc(e){var t=e.match(/(0[box])([0-9a-fA-F]*)\.([0-9a-fA-F]*)/);if(t){var r={"0b":2,"0o":8,"0x":16}[t[1]],n=t[2],i=t[3];return{input:e,radix:r,integerPart:n,fractionalPart:i}}else return null}function $c(e){for(var t=parseInt(e.integerPart,e.radix),r=0,n=0;n<e.fractionalPart.length;n++){var i=parseInt(e.fractionalPart[n],e.radix);r+=i/Math.pow(e.radix,n+1)}var u=t+r;if(isNaN(u))throw new SyntaxError('String "'+e.input+'" is not a valid number');return u}var Lc=te(Rc,zc,e=>{var{typed:t}=e,r=t("number",{"":function(){return 0},number:function(i){return i},string:function(i){if(i==="NaN")return NaN;var u=qc(i);if(u)return $c(u);var o=0,s=i.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);s&&(o=Number(s[2]),i=s[1]);var c=Number(i);if(isNaN(c))throw new SyntaxError('String "'+i+'" is not a valid number');if(s){if(c>2**o-1)throw new SyntaxError('String "'.concat(i,'" is out of range'));c>=2**(o-1)&&(c=c-2**o)}return c},BigNumber:function(i){return i.toNumber()},bigint:function(i){return Number(i)},Fraction:function(i){return i.valueOf()},Unit:t.referToSelf(n=>i=>{var u=i.clone();return u.value=n(i.value),u}),null:function(i){return 0},"Unit, string | Unit":function(i,u){return i.toNumber(u)},"Array | Matrix":t.referToSelf(n=>i=>St(i,n))});return r.fromJSON=function(n){return parseFloat(n.value)},r}),Uc="bignumber",Zc=["typed","BigNumber"],Vc=te(Uc,Zc,e=>{var{typed:t,BigNumber:r}=e;return t("bignumber",{"":function(){return new r(0)},number:function(i){return new r(i+"")},string:function(i){var u=i.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);if(u){var o=u[2],s=r(u[1]),c=new r(2).pow(Number(o));if(s.gt(c.sub(1)))throw new SyntaxError('String "'.concat(i,'" is out of range'));var f=new r(2).pow(Number(o)-1);return s.gte(f)?s.sub(c):s}return new r(i)},BigNumber:function(i){return i},bigint:function(i){return new r(i.toString())},Unit:t.referToSelf(n=>i=>{var u=i.clone();return u.value=n(i.value),u}),Fraction:function(i){return new r(String(i.n)).div(String(i.d)).times(String(i.s))},null:function(i){return new r(0)},"Array | Matrix":t.referToSelf(n=>i=>St(i,n))})}),Wc="fraction",Xc=["typed","Fraction"],kc=te(Wc,Xc,e=>{var{typed:t,Fraction:r}=e;return t("fraction",{number:function(i){if(!isFinite(i)||isNaN(i))throw new Error(i+" cannot be represented as a fraction");return new r(i)},string:function(i){return new r(i)},"number, number":function(i,u){return new r(i,u)},"bigint, bigint":function(i,u){return new r(i,u)},null:function(i){return new r(0)},BigNumber:function(i){return new r(i.toString())},bigint:function(i){return new r(i.toString())},Fraction:function(i){return i},Unit:t.referToSelf(n=>i=>{var u=i.clone();return u.value=n(i.value),u}),Object:function(i){return new r(i)},"Array | Matrix":t.referToSelf(n=>i=>St(i,n))})}),Ti="matrix",Hc=["typed","Matrix","DenseMatrix","SparseMatrix"],Yc=te(Ti,Hc,e=>{var{typed:t,Matrix:r,DenseMatrix:n,SparseMatrix:i}=e;return t(Ti,{"":function(){return u([])},string:function(s){return u([],s)},"string, string":function(s,c){return u([],s,c)},Array:function(s){return u(s)},Matrix:function(s){return u(s,s.storage())},"Array | Matrix, string":u,"Array | Matrix, string, string":u});function u(o,s,c){if(s==="dense"||s==="default"||s===void 0)return new n(o,c);if(s==="sparse")return new i(o,c);throw new TypeError("Unknown matrix type "+JSON.stringify(s)+".")}}),Oi="unaryMinus",Gc=["typed"],Jc=te(Oi,Gc,e=>{var{typed:t}=e;return t(Oi,{number:ju,"Complex | BigNumber | Fraction":r=>r.neg(),bigint:r=>-r,Unit:t.referToSelf(r=>n=>{var i=n.clone();return i.value=t.find(r,i.valueType())(n.value),i}),"Array | Matrix":t.referToSelf(r=>n=>St(n,r,!0))})}),Ii="abs",Kc=["typed"],jc=te(Ii,Kc,e=>{var{typed:t}=e;return t(Ii,{number:Yu,"Complex | BigNumber | Fraction | Unit":r=>r.abs(),bigint:r=>r<0n?-r:r,"Array | Matrix":t.referToSelf(r=>n=>St(n,r,!0))})}),Pi="addScalar",Qc=["typed"],el=te(Pi,Qc,e=>{var{typed:t}=e;return t(Pi,{"number, number":Gu,"Complex, Complex":function(n,i){return n.add(i)},"BigNumber, BigNumber":function(n,i){return n.plus(i)},"bigint, bigint":function(n,i){return n+i},"Fraction, Fraction":function(n,i){return n.add(i)},"Unit, Unit":t.referToSelf(r=>(n,i)=>{if(n.value===null||n.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(i.value===null||i.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!n.equalBase(i))throw new Error("Units do not match");var u=n.clone();return u.value=t.find(r,[u.valueType(),i.valueType()])(u.value,i.value),u.fixPrefix=!1,u})})}),Ri="subtractScalar",tl=["typed"],rl=te(Ri,tl,e=>{var{typed:t}=e;return t(Ri,{"number, number":Ju,"Complex, Complex":function(n,i){return n.sub(i)},"BigNumber, BigNumber":function(n,i){return n.minus(i)},"bigint, bigint":function(n,i){return n-i},"Fraction, Fraction":function(n,i){return n.sub(i)},"Unit, Unit":t.referToSelf(r=>(n,i)=>{if(n.value===null||n.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(i.value===null||i.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!n.equalBase(i))throw new Error("Units do not match");var u=n.clone();return u.value=t.find(r,[u.valueType(),i.valueType()])(u.value,i.value),u.fixPrefix=!1,u})})}),nl="matAlgo11xS0s",il=["typed","equalScalar"],Qu=te(nl,il,e=>{var{typed:t,equalScalar:r}=e;return function(i,u,o,s){var c=i._values,f=i._index,a=i._ptr,l=i._size,D=i._datatype;if(!c)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var d=l[0],v=l[1],h,p=r,w=0,C=o;typeof D=="string"&&(h=D,p=t.find(r,[h,h]),w=t.convert(0,h),u=t.convert(u,h),C=t.find(o,[h,h]));for(var y=[],A=[],E=[],m=0;m<v;m++){E[m]=A.length;for(var _=a[m],b=a[m+1],B=_;B<b;B++){var S=f[B],T=s?C(u,c[B]):C(c[B],u);p(T,w)||(A.push(S),y.push(T))}}return E[v]=A.length,i.createSparseMatrix({values:y,index:A,ptr:E,size:[d,v],datatype:h})}}),ul="matAlgo14xDs",ol=["typed"],Jn=te(ul,ol,e=>{var{typed:t}=e;return function(i,u,o,s){var c=i._data,f=i._size,a=i._datatype,l,D=o;typeof a=="string"&&(l=a,u=t.convert(u,l),D=t.find(o,[l,l]));var d=f.length>0?r(D,0,f,f[0],c,u,s):[];return i.createDenseMatrix({data:d,size:Fe(f),datatype:l})};function r(n,i,u,o,s,c,f){var a=[];if(i===u.length-1)for(var l=0;l<o;l++)a[l]=f?n(c,s[l]):n(s[l],c);else for(var D=0;D<o;D++)a[D]=r(n,i+1,u,u[i+1],s[D],c,f);return a}}),al="matAlgo13xDD",sl=["typed"],fl=te(al,sl,e=>{var{typed:t}=e;return function(i,u,o){var s=i._data,c=i._size,f=i._datatype,a=u._data,l=u._size,D=u._datatype,d=[];if(c.length!==l.length)throw new se(c.length,l.length);for(var v=0;v<c.length;v++){if(c[v]!==l[v])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+l+")");d[v]=c[v]}var h,p=o;typeof f=="string"&&f===D&&(h=f,p=t.find(o,[h,h]));var w=d.length>0?r(p,0,d,d[0],s,a):[];return i.createDenseMatrix({data:w,size:d,datatype:h})};function r(n,i,u,o,s,c){var f=[];if(i===u.length-1)for(var a=0;a<o;a++)f[a]=n(s[a],c[a]);else for(var l=0;l<o;l++)f[l]=r(n,i+1,u,u[i+1],s[l],c[l]);return f}});function Oe(e,t){if(Bt(e.size(),t.size()))return[e,t];var r=Wu(e.size(),t.size());return[e,t].map(n=>cl(n,r))}function cl(e,t){return Bt(e.size(),t)?e:e.create(xn(e.valueOf(),t),e.datatype())}var ll="matrixAlgorithmSuite",hl=["typed","matrix"],Dl=te(ll,hl,e=>{var{typed:t,matrix:r}=e,n=fl({typed:t}),i=Jn({typed:t});return function(o){var s=o.elop,c=o.SD||o.DS,f;s?(f={"DenseMatrix, DenseMatrix":(d,v)=>n(...Oe(d,v),s),"Array, Array":(d,v)=>n(...Oe(r(d),r(v)),s).valueOf(),"Array, DenseMatrix":(d,v)=>n(...Oe(r(d),v),s),"DenseMatrix, Array":(d,v)=>n(...Oe(d,r(v)),s)},o.SS&&(f["SparseMatrix, SparseMatrix"]=(d,v)=>o.SS(...Oe(d,v),s,!1)),o.DS&&(f["DenseMatrix, SparseMatrix"]=(d,v)=>o.DS(...Oe(d,v),s,!1),f["Array, SparseMatrix"]=(d,v)=>o.DS(...Oe(r(d),v),s,!1)),c&&(f["SparseMatrix, DenseMatrix"]=(d,v)=>c(...Oe(v,d),s,!0),f["SparseMatrix, Array"]=(d,v)=>c(...Oe(r(v),d),s,!0))):(f={"DenseMatrix, DenseMatrix":t.referToSelf(d=>(v,h)=>n(...Oe(v,h),d)),"Array, Array":t.referToSelf(d=>(v,h)=>n(...Oe(r(v),r(h)),d).valueOf()),"Array, DenseMatrix":t.referToSelf(d=>(v,h)=>n(...Oe(r(v),h),d)),"DenseMatrix, Array":t.referToSelf(d=>(v,h)=>n(...Oe(v,r(h)),d))},o.SS&&(f["SparseMatrix, SparseMatrix"]=t.referToSelf(d=>(v,h)=>o.SS(...Oe(v,h),d,!1))),o.DS&&(f["DenseMatrix, SparseMatrix"]=t.referToSelf(d=>(v,h)=>o.DS(...Oe(v,h),d,!1)),f["Array, SparseMatrix"]=t.referToSelf(d=>(v,h)=>o.DS(...Oe(r(v),h),d,!1))),c&&(f["SparseMatrix, DenseMatrix"]=t.referToSelf(d=>(v,h)=>c(...Oe(h,v),d,!0)),f["SparseMatrix, Array"]=t.referToSelf(d=>(v,h)=>c(...Oe(r(h),v),d,!0))));var a=o.scalar||"any",l=o.Ds||o.Ss;l&&(s?(f["DenseMatrix,"+a]=(d,v)=>i(d,v,s,!1),f[a+", DenseMatrix"]=(d,v)=>i(v,d,s,!0),f["Array,"+a]=(d,v)=>i(r(d),v,s,!1).valueOf(),f[a+", Array"]=(d,v)=>i(r(v),d,s,!0).valueOf()):(f["DenseMatrix,"+a]=t.referToSelf(d=>(v,h)=>i(v,h,d,!1)),f[a+", DenseMatrix"]=t.referToSelf(d=>(v,h)=>i(h,v,d,!0)),f["Array,"+a]=t.referToSelf(d=>(v,h)=>i(r(v),h,d,!1).valueOf()),f[a+", Array"]=t.referToSelf(d=>(v,h)=>i(r(h),v,d,!0).valueOf())));var D=o.sS!==void 0?o.sS:o.Ss;return s?(o.Ss&&(f["SparseMatrix,"+a]=(d,v)=>o.Ss(d,v,s,!1)),D&&(f[a+", SparseMatrix"]=(d,v)=>D(v,d,s,!0))):(o.Ss&&(f["SparseMatrix,"+a]=t.referToSelf(d=>(v,h)=>o.Ss(v,h,d,!1))),D&&(f[a+", SparseMatrix"]=t.referToSelf(d=>(v,h)=>D(h,v,d,!0)))),s&&s.signatures&&yu(f,s.signatures),f}}),dl="matAlgo01xDSid",pl=["typed"],vl=te(dl,pl,e=>{var{typed:t}=e;return function(n,i,u,o){var s=n._data,c=n._size,f=n._datatype||n.getDataType(),a=i._values,l=i._index,D=i._ptr,d=i._size,v=i._datatype||i._data===void 0?i._datatype:i.getDataType();if(c.length!==d.length)throw new se(c.length,d.length);if(c[0]!==d[0]||c[1]!==d[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+d+")");if(!a)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var h=c[0],p=c[1],w=typeof f=="string"&&f!=="mixed"&&f===v?f:void 0,C=w?t.find(u,[w,w]):u,y,A,E=[];for(y=0;y<h;y++)E[y]=[];var m=[],_=[];for(A=0;A<p;A++){for(var b=A+1,B=D[A],S=D[A+1],T=B;T<S;T++)y=l[T],m[y]=o?C(a[T],s[y][A]):C(s[y][A],a[T]),_[y]=b;for(y=0;y<h;y++)_[y]===b?E[y][A]=m[y]:E[y][A]=s[y][A]}return n.createDenseMatrix({data:E,size:[h,p],datatype:f===n._datatype&&v===i._datatype?w:void 0})}}),ml="matAlgo04xSidSid",gl=["typed","equalScalar"],wl=te(ml,gl,e=>{var{typed:t,equalScalar:r}=e;return function(i,u,o){var s=i._values,c=i._index,f=i._ptr,a=i._size,l=i._datatype||i._data===void 0?i._datatype:i.getDataType(),D=u._values,d=u._index,v=u._ptr,h=u._size,p=u._datatype||u._data===void 0?u._datatype:u.getDataType();if(a.length!==h.length)throw new se(a.length,h.length);if(a[0]!==h[0]||a[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+a+") must match Matrix B ("+h+")");var w=a[0],C=a[1],y,A=r,E=0,m=o;typeof l=="string"&&l===p&&l!=="mixed"&&(y=l,A=t.find(r,[y,y]),E=t.convert(0,y),m=t.find(o,[y,y]));var _=s&&D?[]:void 0,b=[],B=[],S=s&&D?[]:void 0,T=s&&D?[]:void 0,$=[],X=[],V,W,P,J,H;for(W=0;W<C;W++){B[W]=b.length;var k=W+1;for(J=f[W],H=f[W+1],P=J;P<H;P++)V=c[P],b.push(V),$[V]=k,S&&(S[V]=s[P]);for(J=v[W],H=v[W+1],P=J;P<H;P++)if(V=d[P],$[V]===k){if(S){var Q=m(S[V],D[P]);A(Q,E)?$[V]=null:S[V]=Q}}else b.push(V),X[V]=k,T&&(T[V]=D[P]);if(S&&T)for(P=B[W];P<b.length;)V=b[P],$[V]===k?(_[P]=S[V],P++):X[V]===k?(_[P]=T[V],P++):b.splice(P,1)}return B[C]=b.length,i.createSparseMatrix({values:_,index:b,ptr:B,size:[w,C],datatype:l===i._datatype&&p===u._datatype?y:void 0})}}),yl="matAlgo10xSids",El=["typed","DenseMatrix"],Fl=te(yl,El,e=>{var{typed:t,DenseMatrix:r}=e;return function(i,u,o,s){var c=i._values,f=i._index,a=i._ptr,l=i._size,D=i._datatype;if(!c)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var d=l[0],v=l[1],h,p=o;typeof D=="string"&&(h=D,u=t.convert(u,h),p=t.find(o,[h,h]));for(var w=[],C=[],y=[],A=0;A<v;A++){for(var E=A+1,m=a[A],_=a[A+1],b=m;b<_;b++){var B=f[b];C[B]=c[b],y[B]=E}for(var S=0;S<d;S++)A===0&&(w[S]=[]),y[S]===E?w[S][A]=s?p(u,C[S]):p(C[S],u):w[S][A]=u}return new r({data:w,size:[d,v],datatype:h})}}),Al="multiplyScalar",Cl=["typed"],_l=te(Al,Cl,e=>{var{typed:t}=e;return t("multiplyScalar",{"number, number":Ku,"Complex, Complex":function(n,i){return n.mul(i)},"BigNumber, BigNumber":function(n,i){return n.times(i)},"bigint, bigint":function(n,i){return n*i},"Fraction, Fraction":function(n,i){return n.mul(i)},"number | Fraction | BigNumber | Complex, Unit":(r,n)=>n.multiply(r),"Unit, number | Fraction | BigNumber | Complex | Unit":(r,n)=>r.multiply(n)})}),zi="multiply",bl=["typed","matrix","addScalar","multiplyScalar","equalScalar","dot"],Bl=te(zi,bl,e=>{var{typed:t,matrix:r,addScalar:n,multiplyScalar:i,equalScalar:u,dot:o}=e,s=Qu({typed:t,equalScalar:u}),c=Jn({typed:t});function f(E,m){switch(E.length){case 1:switch(m.length){case 1:if(E[0]!==m[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(E[0]!==m[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+E[0]+") must match Matrix rows ("+m[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+m.length+" dimensions)")}break;case 2:switch(m.length){case 1:if(E[1]!==m[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+E[1]+") must match Vector length ("+m[0]+")");break;case 2:if(E[1]!==m[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+E[1]+") must match Matrix B rows ("+m[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+m.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+E.length+" dimensions)")}}function a(E,m,_){if(_===0)throw new Error("Cannot multiply two empty vectors");return o(E,m)}function l(E,m){if(m.storage()!=="dense")throw new Error("Support for SparseMatrix not implemented");return D(E,m)}function D(E,m){var _=E._data,b=E._size,B=E._datatype||E.getDataType(),S=m._data,T=m._size,$=m._datatype||m.getDataType(),X=b[0],V=T[1],W,P=n,J=i;B&&$&&B===$&&typeof B=="string"&&B!=="mixed"&&(W=B,P=t.find(n,[W,W]),J=t.find(i,[W,W]));for(var H=[],k=0;k<V;k++){for(var Q=J(_[0],S[0][k]),ie=1;ie<X;ie++)Q=P(Q,J(_[ie],S[ie][k]));H[k]=Q}return E.createDenseMatrix({data:H,size:[V],datatype:B===E._datatype&&$===m._datatype?W:void 0})}var d=t("_multiplyMatrixVector",{"DenseMatrix, any":h,"SparseMatrix, any":C}),v=t("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":p,"DenseMatrix, SparseMatrix":w,"SparseMatrix, DenseMatrix":y,"SparseMatrix, SparseMatrix":A});function h(E,m){var _=E._data,b=E._size,B=E._datatype||E.getDataType(),S=m._data,T=m._datatype||m.getDataType(),$=b[0],X=b[1],V,W=n,P=i;B&&T&&B===T&&typeof B=="string"&&B!=="mixed"&&(V=B,W=t.find(n,[V,V]),P=t.find(i,[V,V]));for(var J=[],H=0;H<$;H++){for(var k=_[H],Q=P(k[0],S[0]),ie=1;ie<X;ie++)Q=W(Q,P(k[ie],S[ie]));J[H]=Q}return E.createDenseMatrix({data:J,size:[$],datatype:B===E._datatype&&T===m._datatype?V:void 0})}function p(E,m){var _=E._data,b=E._size,B=E._datatype||E.getDataType(),S=m._data,T=m._size,$=m._datatype||m.getDataType(),X=b[0],V=b[1],W=T[1],P,J=n,H=i;B&&$&&B===$&&typeof B=="string"&&B!=="mixed"&&B!=="mixed"&&(P=B,J=t.find(n,[P,P]),H=t.find(i,[P,P]));for(var k=[],Q=0;Q<X;Q++){var ie=_[Q];k[Q]=[];for(var re=0;re<W;re++){for(var fe=H(ie[0],S[0][re]),be=1;be<V;be++)fe=J(fe,H(ie[be],S[be][re]));k[Q][re]=fe}}return E.createDenseMatrix({data:k,size:[X,W],datatype:B===E._datatype&&$===m._datatype?P:void 0})}function w(E,m){var _=E._data,b=E._size,B=E._datatype||E.getDataType(),S=m._values,T=m._index,$=m._ptr,X=m._size,V=m._datatype||m._data===void 0?m._datatype:m.getDataType();if(!S)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var W=b[0],P=X[1],J,H=n,k=i,Q=u,ie=0;B&&V&&B===V&&typeof B=="string"&&B!=="mixed"&&(J=B,H=t.find(n,[J,J]),k=t.find(i,[J,J]),Q=t.find(u,[J,J]),ie=t.convert(0,J));for(var re=[],fe=[],be=[],Ce=m.createSparseMatrix({values:re,index:fe,ptr:be,size:[W,P],datatype:B===E._datatype&&V===m._datatype?J:void 0}),ye=0;ye<P;ye++){be[ye]=fe.length;var ve=$[ye],Ze=$[ye+1];if(Ze>ve)for(var ce=0,ue=0;ue<W;ue++){for(var Qe=ue+1,Re=void 0,le=ve;le<Ze;le++){var Te=T[le];ce!==Qe?(Re=k(_[ue][Te],S[le]),ce=Qe):Re=H(Re,k(_[ue][Te],S[le]))}ce===Qe&&!Q(Re,ie)&&(fe.push(ue),re.push(Re))}}return be[P]=fe.length,Ce}function C(E,m){var _=E._values,b=E._index,B=E._ptr,S=E._datatype||E._data===void 0?E._datatype:E.getDataType();if(!_)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var T=m._data,$=m._datatype||m.getDataType(),X=E._size[0],V=m._size[0],W=[],P=[],J=[],H,k=n,Q=i,ie=u,re=0;S&&$&&S===$&&typeof S=="string"&&S!=="mixed"&&(H=S,k=t.find(n,[H,H]),Q=t.find(i,[H,H]),ie=t.find(u,[H,H]),re=t.convert(0,H));var fe=[],be=[];J[0]=0;for(var Ce=0;Ce<V;Ce++){var ye=T[Ce];if(!ie(ye,re))for(var ve=B[Ce],Ze=B[Ce+1],ce=ve;ce<Ze;ce++){var ue=b[ce];be[ue]?fe[ue]=k(fe[ue],Q(ye,_[ce])):(be[ue]=!0,P.push(ue),fe[ue]=Q(ye,_[ce]))}}for(var Qe=P.length,Re=0;Re<Qe;Re++){var le=P[Re];W[Re]=fe[le]}return J[1]=P.length,E.createSparseMatrix({values:W,index:P,ptr:J,size:[X,1],datatype:S===E._datatype&&$===m._datatype?H:void 0})}function y(E,m){var _=E._values,b=E._index,B=E._ptr,S=E._datatype||E._data===void 0?E._datatype:E.getDataType();if(!_)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var T=m._data,$=m._datatype||m.getDataType(),X=E._size[0],V=m._size[0],W=m._size[1],P,J=n,H=i,k=u,Q=0;S&&$&&S===$&&typeof S=="string"&&S!=="mixed"&&(P=S,J=t.find(n,[P,P]),H=t.find(i,[P,P]),k=t.find(u,[P,P]),Q=t.convert(0,P));for(var ie=[],re=[],fe=[],be=E.createSparseMatrix({values:ie,index:re,ptr:fe,size:[X,W],datatype:S===E._datatype&&$===m._datatype?P:void 0}),Ce=[],ye=[],ve=0;ve<W;ve++){fe[ve]=re.length;for(var Ze=ve+1,ce=0;ce<V;ce++){var ue=T[ce][ve];if(!k(ue,Q))for(var Qe=B[ce],Re=B[ce+1],le=Qe;le<Re;le++){var Te=b[le];ye[Te]!==Ze?(ye[Te]=Ze,re.push(Te),Ce[Te]=H(ue,_[le])):Ce[Te]=J(Ce[Te],H(ue,_[le]))}}for(var et=fe[ve],pt=re.length,vt=et;vt<pt;vt++){var Lt=re[vt];ie[vt]=Ce[Lt]}}return fe[W]=re.length,be}function A(E,m){var _=E._values,b=E._index,B=E._ptr,S=E._datatype||E._data===void 0?E._datatype:E.getDataType(),T=m._values,$=m._index,X=m._ptr,V=m._datatype||m._data===void 0?m._datatype:m.getDataType(),W=E._size[0],P=m._size[1],J=_&&T,H,k=n,Q=i;S&&V&&S===V&&typeof S=="string"&&S!=="mixed"&&(H=S,k=t.find(n,[H,H]),Q=t.find(i,[H,H]));for(var ie=J?[]:void 0,re=[],fe=[],be=E.createSparseMatrix({values:ie,index:re,ptr:fe,size:[W,P],datatype:S===E._datatype&&V===m._datatype?H:void 0}),Ce=J?[]:void 0,ye=[],ve,Ze,ce,ue,Qe,Re,le,Te,et=0;et<P;et++){fe[et]=re.length;var pt=et+1;for(Qe=X[et],Re=X[et+1],ue=Qe;ue<Re;ue++)if(Te=$[ue],J)for(Ze=B[Te],ce=B[Te+1],ve=Ze;ve<ce;ve++)le=b[ve],ye[le]!==pt?(ye[le]=pt,re.push(le),Ce[le]=Q(T[ue],_[ve])):Ce[le]=k(Ce[le],Q(T[ue],_[ve]));else for(Ze=B[Te],ce=B[Te+1],ve=Ze;ve<ce;ve++)le=b[ve],ye[le]!==pt&&(ye[le]=pt,re.push(le));if(J)for(var vt=fe[et],Lt=re.length,Ut=vt;Ut<Lt;Ut++){var sn=re[Ut];ie[Ut]=Ce[sn]}}return fe[P]=re.length,be}return t(zi,i,{"Array, Array":t.referTo("Matrix, Matrix",E=>(m,_)=>{f(We(m),We(_));var b=E(r(m),r(_));return Ae(b)?b.valueOf():b}),"Matrix, Matrix":function(m,_){var b=m.size(),B=_.size();return f(b,B),b.length===1?B.length===1?a(m,_,b[0]):l(m,_):B.length===1?d(m,_):v(m,_)},"Matrix, Array":t.referTo("Matrix,Matrix",E=>(m,_)=>E(m,r(_))),"Array, Matrix":t.referToSelf(E=>(m,_)=>E(r(m,_.storage()),_)),"SparseMatrix, any":function(m,_){return s(m,_,i,!1)},"DenseMatrix, any":function(m,_){return c(m,_,i,!1)},"any, SparseMatrix":function(m,_){return s(_,m,i,!0)},"any, DenseMatrix":function(m,_){return c(_,m,i,!0)},"Array, any":function(m,_){return c(r(m),_,i,!1).valueOf()},"any, Array":function(m,_){return c(r(_),m,i,!0).valueOf()},"any, any":i,"any, any, ...any":t.referToSelf(E=>(m,_,b)=>{for(var B=E(m,_),S=0;S<b.length;S++)B=E(B,b[S]);return B})})}),qi="conj",Nl=["typed"],Ml=te(qi,Nl,e=>{var{typed:t}=e;return t(qi,{"number | BigNumber | Fraction":r=>r,Complex:r=>r.conjugate(),"Array | Matrix":t.referToSelf(r=>n=>St(n,r))})}),$i="concat",Sl=["typed","matrix","isInteger"],xl=te($i,Sl,e=>{var{typed:t,matrix:r,isInteger:n}=e;return t($i,{"...Array | Matrix | number | BigNumber":function(u){var o,s=u.length,c=-1,f,a=!1,l=[];for(o=0;o<s;o++){var D=u[o];if(Ae(D)&&(a=!0),pe(D)||_e(D)){if(o!==s-1)throw new Error("Dimension must be specified as last argument");if(f=c,c=D.valueOf(),!n(c))throw new TypeError("Integer number expected for dimension");if(c<0||o>0&&c>f)throw new $t(c,f+1)}else{var d=Fe(D).valueOf(),v=We(d);if(l[o]=d,f=c,c=v.length-1,o>0&&c!==f)throw new se(f+1,c+1)}}if(l.length===0)throw new SyntaxError("At least one matrix expected");for(var h=l.shift();l.length;)h=Vu(h,l.shift(),c);return a?r(h):h},"...string":function(u){return u.join("")}})}),Li="identity",Tl=["typed","config","matrix","BigNumber","DenseMatrix","SparseMatrix"],Ol=te(Li,Tl,e=>{var{typed:t,config:r,matrix:n,BigNumber:i,DenseMatrix:u,SparseMatrix:o}=e;return t(Li,{"":function(){return r.matrix==="Matrix"?n([]):[]},string:function(a){return n(a)},"number | BigNumber":function(a){return c(a,a,r.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, string":function(a,l){return c(a,a,l)},"number | BigNumber, number | BigNumber":function(a,l){return c(a,l,r.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, number | BigNumber, string":function(a,l,D){return c(a,l,D)},Array:function(a){return s(a)},"Array, string":function(a,l){return s(a,l)},Matrix:function(a){return s(a.valueOf(),a.storage())},"Matrix, string":function(a,l){return s(a.valueOf(),l)}});function s(f,a){switch(f.length){case 0:return a?n(a):[];case 1:return c(f[0],f[0],a);case 2:return c(f[0],f[1],a);default:throw new Error("Vector containing two values expected")}}function c(f,a,l){var D=_e(f)||_e(a)?i:null;if(_e(f)&&(f=f.toNumber()),_e(a)&&(a=a.toNumber()),!Me(f)||f<1)throw new Error("Parameters in function identity must be positive integers");if(!Me(a)||a<1)throw new Error("Parameters in function identity must be positive integers");var d=D?new i(1):1,v=D?new D(0):0,h=[f,a];if(l){if(l==="sparse")return o.diagonal(h,d,0,v);if(l==="dense")return u.diagonal(h,d,0,v);throw new TypeError('Unknown matrix type "'.concat(l,'"'))}for(var p=Mn([],h,v),w=f<a?f:a,C=0;C<w;C++)p[C][C]=d;return p}});function Il(){throw new Error('No "bignumber" implementation available')}function Pl(){throw new Error('No "fraction" implementation available')}function Rl(){throw new Error('No "matrix" implementation available')}var Ui="size",zl=["typed","config","?matrix"],ql=te(Ui,zl,e=>{var{typed:t,config:r,matrix:n}=e;return t(Ui,{Matrix:function(u){return u.create(u.size(),"number")},Array:We,string:function(u){return r.matrix==="Array"?[u.length]:n([u.length],"dense","number")},"number | Complex | BigNumber | Unit | boolean | null":function(u){return r.matrix==="Array"?[]:n?n([],"dense","number"):Rl()}})}),$l="numeric",Ll=["number","?bignumber","?fraction"],Ul=te($l,Ll,e=>{var{number:t,bignumber:r,fraction:n}=e,i={string:!0,number:!0,BigNumber:!0,Fraction:!0},u={number:o=>t(o),BigNumber:r?o=>r(o):Il,bigint:o=>BigInt(o),Fraction:n?o=>n(o):Pl};return function(s){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"number",f=arguments.length>2?arguments[2]:void 0;if(f!==void 0)throw new SyntaxError("numeric() takes one or two arguments");var a=bt(s);if(!(a in i))throw new TypeError("Cannot convert "+s+' of type "'+a+'"; valid input types are '+Object.keys(i).join(", "));if(!(c in u))throw new TypeError("Cannot convert "+s+' to type "'+c+'"; valid output types are '+Object.keys(u).join(", "));return c===a?s:u[c](s)}}),Zi="divideScalar",Zl=["typed","numeric"],Vl=te(Zi,Zl,e=>{var{typed:t,numeric:r}=e;return t(Zi,{"number, number":function(i,u){return i/u},"Complex, Complex":function(i,u){return i.div(u)},"BigNumber, BigNumber":function(i,u){return i.div(u)},"bigint, bigint":function(i,u){return i/u},"Fraction, Fraction":function(i,u){return i.div(u)},"Unit, number | Complex | Fraction | BigNumber | Unit":(n,i)=>n.divide(i),"number | Fraction | Complex | BigNumber, Unit":(n,i)=>i.divideInto(n)})}),Vi="add",Wl=["typed","matrix","addScalar","equalScalar","DenseMatrix","SparseMatrix","concat"],Xl=te(Vi,Wl,e=>{var{typed:t,matrix:r,addScalar:n,equalScalar:i,DenseMatrix:u,SparseMatrix:o,concat:s}=e,c=vl({typed:t}),f=wl({typed:t,equalScalar:i}),a=Fl({typed:t,DenseMatrix:u}),l=Dl({typed:t,matrix:r,concat:s});return t(Vi,{"any, any":n,"any, any, ...any":t.referToSelf(D=>(d,v,h)=>{for(var p=D(d,v),w=0;w<h.length;w++)p=D(p,h[w]);return p})},l({elop:n,DS:c,SS:f,Ss:a}))}),Wi="dot",kl=["typed","addScalar","multiplyScalar","conj","size"],Hl=te(Wi,kl,e=>{var{typed:t,addScalar:r,multiplyScalar:n,conj:i,size:u}=e;return t(Wi,{"Array | DenseMatrix, Array | DenseMatrix":s,"SparseMatrix, SparseMatrix":c});function o(a,l){var D=f(a),d=f(l),v,h;if(D.length===1)v=D[0];else if(D.length===2&&D[1]===1)v=D[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+D.join(", ")+")");if(d.length===1)h=d[0];else if(d.length===2&&d[1]===1)h=d[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+d.join(", ")+")");if(v!==h)throw new RangeError("Vectors must have equal length ("+v+" != "+h+")");if(v===0)throw new RangeError("Cannot calculate the dot product of empty vectors");return v}function s(a,l){var D=o(a,l),d=Ae(a)?a._data:a,v=Ae(a)?a._datatype||a.getDataType():void 0,h=Ae(l)?l._data:l,p=Ae(l)?l._datatype||l.getDataType():void 0,w=f(a).length===2,C=f(l).length===2,y=r,A=n;if(v&&p&&v===p&&typeof v=="string"&&v!=="mixed"){var E=v;y=t.find(r,[E,E]),A=t.find(n,[E,E])}if(!w&&!C){for(var m=A(i(d[0]),h[0]),_=1;_<D;_++)m=y(m,A(i(d[_]),h[_]));return m}if(!w&&C){for(var b=A(i(d[0]),h[0][0]),B=1;B<D;B++)b=y(b,A(i(d[B]),h[B][0]));return b}if(w&&!C){for(var S=A(i(d[0][0]),h[0]),T=1;T<D;T++)S=y(S,A(i(d[T][0]),h[T]));return S}if(w&&C){for(var $=A(i(d[0][0]),h[0][0]),X=1;X<D;X++)$=y($,A(i(d[X][0]),h[X][0]));return $}}function c(a,l){o(a,l);for(var D=a._index,d=a._values,v=l._index,h=l._values,p=0,w=r,C=n,y=0,A=0;y<D.length&&A<v.length;){var E=D[y],m=v[A];if(E<m){y++;continue}if(E>m){A++;continue}E===m&&(p=w(p,C(d[y],h[A])),y++,A++)}return p}function f(a){return Ae(a)?a.size():u(a)}}),Xi="det",Yl=["typed","matrix","subtractScalar","multiply","divideScalar","isZero","unaryMinus"],Gl=te(Xi,Yl,e=>{var{typed:t,matrix:r,subtractScalar:n,multiply:i,divideScalar:u,isZero:o,unaryMinus:s}=e;return t(Xi,{any:function(a){return Fe(a)},"Array | Matrix":function(a){var l;switch(Ae(a)?l=a.size():Array.isArray(a)?(a=r(a),l=a.size()):l=[],l.length){case 0:return Fe(a);case 1:if(l[0]===1)return Fe(a.valueOf()[0]);if(l[0]===0)return 1;throw new RangeError("Matrix must be square (size: "+Ne(l)+")");case 2:{var D=l[0],d=l[1];if(D===d)return c(a.clone().valueOf(),D);if(d===0)return 1;throw new RangeError("Matrix must be square (size: "+Ne(l)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+Ne(l)+")")}}});function c(f,a,l){if(a===1)return Fe(f[0][0]);if(a===2)return n(i(f[0][0],f[1][1]),i(f[1][0],f[0][1]));for(var D=!1,d=new Array(a).fill(0).map((_,b)=>b),v=0;v<a;v++){var h=d[v];if(o(f[h][v])){var p=void 0;for(p=v+1;p<a;p++)if(!o(f[d[p]][v])){h=d[p],d[p]=d[v],d[v]=h,D=!D;break}if(p===a)return f[h][v]}for(var w=f[h][v],C=v===0?1:f[d[v-1]][v-1],y=v+1;y<a;y++)for(var A=d[y],E=v+1;E<a;E++)f[A][E]=u(n(i(f[A][E],w),i(f[A][v],f[h][E])),C)}var m=f[d[a-1]][a-1];return D?s(m):m}}),ki="inv",Jl=["typed","matrix","divideScalar","addScalar","multiply","unaryMinus","det","identity","abs"],Kl=te(ki,Jl,e=>{var{typed:t,matrix:r,divideScalar:n,addScalar:i,multiply:u,unaryMinus:o,det:s,identity:c,abs:f}=e;return t(ki,{"Array | Matrix":function(D){var d=Ae(D)?D.size():We(D);switch(d.length){case 1:if(d[0]===1)return Ae(D)?r([n(1,D.valueOf()[0])]):[n(1,D[0])];throw new RangeError("Matrix must be square (size: "+Ne(d)+")");case 2:{var v=d[0],h=d[1];if(v===h)return Ae(D)?r(a(D.valueOf(),v,h),D.storage()):a(D,v,h);throw new RangeError("Matrix must be square (size: "+Ne(d)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+Ne(d)+")")}},any:function(D){return n(1,D)}});function a(l,D,d){var v,h,p,w,C;if(D===1){if(w=l[0][0],w===0)throw Error("Cannot calculate inverse, determinant is zero");return[[n(1,w)]]}else if(D===2){var y=s(l);if(y===0)throw Error("Cannot calculate inverse, determinant is zero");return[[n(l[1][1],y),n(o(l[0][1]),y)],[n(o(l[1][0]),y),n(l[0][0],y)]]}else{var A=l.concat();for(v=0;v<D;v++)A[v]=A[v].concat();for(var E=c(D).valueOf(),m=0;m<d;m++){var _=f(A[m][m]),b=m;for(v=m+1;v<D;)f(A[v][m])>_&&(_=f(A[v][m]),b=v),v++;if(_===0)throw Error("Cannot calculate inverse, determinant is zero");v=b,v!==m&&(C=A[m],A[m]=A[v],A[v]=C,C=E[m],E[m]=E[v],E[v]=C);var B=A[m],S=E[m];for(v=0;v<D;v++){var T=A[v],$=E[v];if(v!==m){if(T[m]!==0){for(p=n(o(T[m]),B[m]),h=m;h<d;h++)T[h]=i(T[h],u(p,B[h]));for(h=0;h<d;h++)$[h]=i($[h],u(p,S[h]))}}else{for(p=B[m],h=m;h<d;h++)T[h]=n(T[h],p);for(h=0;h<d;h++)$[h]=n($[h],p)}}}return E}}}),jl="divide",Ql=["typed","matrix","multiply","equalScalar","divideScalar","inv"],e0=te(jl,Ql,e=>{var{typed:t,matrix:r,multiply:n,equalScalar:i,divideScalar:u,inv:o}=e,s=Qu({typed:t,equalScalar:i}),c=Jn({typed:t});return t("divide",yu({"Array | Matrix, Array | Matrix":function(a,l){return n(a,o(l))},"DenseMatrix, any":function(a,l){return c(a,l,u,!1)},"SparseMatrix, any":function(a,l){return s(a,l,u,!1)},"Array, any":function(a,l){return c(r(a),l,u,!1).valueOf()},"any, Array | Matrix":function(a,l){return n(a,o(l))}},u.signatures))}),Kn=kf({config:wr}),t0=Kf({}),eo=ic({}),jn=ac({}),un=Ac({Matrix:jn}),ge=Ys({BigNumber:Kn,Complex:t0,DenseMatrix:un,Fraction:eo}),r0=jc({typed:ge}),on=el({typed:ge}),n0=Ml({typed:ge}),yr=Tc({config:wr,typed:ge}),i0=_c({typed:ge}),u0=Nc({equalScalar:yr,typed:ge}),to=_l({typed:ge}),o0=Lc({typed:ge}),Qn=Pc({Matrix:jn,equalScalar:yr,typed:ge}),a0=rl({typed:ge}),s0=Vc({BigNumber:Kn,typed:ge}),xt=Yc({DenseMatrix:un,Matrix:jn,SparseMatrix:Qn,typed:ge}),f0=xl({isInteger:i0,matrix:xt,typed:ge}),je=kc({Fraction:eo,typed:ge}),c0=Ol({BigNumber:Kn,DenseMatrix:un,SparseMatrix:Qn,config:wr,matrix:xt,typed:ge}),l0=Ul({bignumber:s0,fraction:je,number:o0}),h0=ql({matrix:xt,config:wr,typed:ge}),ro=Jc({typed:ge}),D0=Xl({DenseMatrix:un,SparseMatrix:Qn,addScalar:on,concat:f0,equalScalar:yr,matrix:xt,typed:ge}),ei=Vl({numeric:l0,typed:ge}),d0=Hl({addScalar:on,conj:n0,multiplyScalar:to,size:h0,typed:ge}),Dr=Bl({addScalar:on,dot:d0,equalScalar:yr,matrix:xt,multiplyScalar:to,typed:ge}),p0=Gl({divideScalar:ei,isZero:u0,matrix:xt,multiply:Dr,subtractScalar:a0,typed:ge,unaryMinus:ro}),v0=Kl({abs:r0,addScalar:on,det:p0,divideScalar:ei,identity:c0,matrix:xt,multiply:Dr,typed:ge,unaryMinus:ro}),m0=e0({divideScalar:ei,equalScalar:yr,inv:v0,matrix:xt,multiply:Dr,typed:ge});class dr{static parse(t,r,n,i,u){return new dr({type:Number(t),bpm:r,scroll:n,time:i,branch:u})}constructor(t){this.type=t.type,this.bpm=t.bpm,this.scroll=t.scroll,this.time=t.time,this.branch=t.branch}}(e=>{(t=>{t.empty=0,t.don=1,t.ka=2,t.DON=3,t.KA=4,t.roll=5,t.ROLL=6,t.balloon=7,t.endroll=8,t.CODON=10,t.COKA=11})(e.NoteType||(e.NoteType={}))})(dr||(dr={}));class Xr{static parseTempBars(t,r){const n={bpm:je(r.song.getBPM()),scroll:je(1),barline:!0,branch:0,branchTime:null,time:je(0),measure:{n:4,d:4}};return t.map(u=>Xr.parse(u,n,r))}static parse(t,r,n){const i=[],u=[],o=[];let s=r.time,c=r.bpm,f=r.scroll,a=r.barline,l=!0,D=r.branch,d=0;return t.forEach(v=>{v.type==="notes"&&(v.value.endsWith(",")?d+=v.value.length-1:d+=v.value.length)}),t.forEach(v=>{if(v.type==="command"){const h=Zn.parse(v.value,r.time);switch(o.push(h),i.push(h),h.name){case"BPMCHANGE":{r.bpm=je(Number(h.value)),l&&(c=r.bpm);break}case"SCROLL":{r.scroll=je(Number(h.value)),l&&(f=r.scroll);break}case"MEASURE":{const p=h.value.split("/");r.measure={n:Number(p[0]),d:Number(p[1])};break}case"BARLINEON":{r.barline=!0,l&&(a=r.barline);break}case"BARLINEOFF":{r.barline=!1,l&&(a=r.barline);break}case"BRANCHSTART":{r.branch=0,r.branchTime=r.time,l&&(D=r.branch);break}case"N":{r.time=r.branchTime,r.branch=1,l&&(s=r.time),l&&(D=r.branch);break}case"E":{r.time=r.branchTime,r.branch=2,l&&(s=r.time),l&&(D=r.branch);break}case"M":{r.time=r.branchTime,r.branch=3,l&&(s=r.time),l&&(D=r.branch);break}case"BRANCHEND":{r.branch=0,r.branchTime=null,l&&(D=r.branch);break}}}else{l=!1;for(const h of v.value){if(h===",")break;const p=je(d===0?0:m0(Dr(240,r.measure.n/r.measure.d),Dr(r.bpm,d)));if(h!=="0"){const w=dr.parse(h,r.bpm,r.scroll,r.time,r.branch);u.push(w),i.push(w)}r.time=je(D0(r.time,p))}}}),new Xr({time:s,entries:i,notes:u,commands:o,course:n,bpm:c,scroll:f,barline:a,branch:D})}constructor(t){this.entries=t.entries,this.notes=t.notes,this.commands=t.commands,this.course=t.course,this.time=t.time,this.bpm=t.bpm,this.scroll=t.scroll,this.barline=t.barline,this.branch=t.branch}toJSON(){return{entries:this.entries,notes:this.notes,commands:this.commands,time:this.time}}}class ti{static parse(t,r){var v,h;const n=t.split(`
`).map(p=>p.trim()),i={},u=[],o=[],s=[],c=[[]];let f=0,a=!0;for(;f<n.length;){const p=n[f];if(p==="#START")a=!1;else if(a){const[w,C]=an.parseMetadata(p);w&&(i[w]=C)}else p.startsWith("#")?((v=c.at(-1))==null||v.push({type:"command",value:p}),p==="#END"&&c.pop()):((h=c.at(-1))==null||h.push({type:"notes",value:p}),p.endsWith(",")&&c.push([]));f++}let l;{const p=(i.COURSE??"easy").toLowerCase();if(p==="easy"||p==="0")l="easy";else if(p==="normal"||p==="1")l="normal";else if(p==="hard"||p==="2")l="hard";else if(p==="oni"||p==="3")l="oni";else if(p==="edit"||p==="4")l="edit";else throw new Ir("UNKNOWN_DIFFICULTY")}const D=new ti({metadata:i,notes:u,entries:o,difficulty:l,commands:s,bars:[],song:r}),d=Xr.parseTempBars(c,D);return D.bars=d,d.forEach(p=>{u.push(...p.notes),s.push(...p.commands),o.push(...p.entries)}),D}constructor(t){this.metadata=t.metadata,this.entries=t.entries,this.notes=t.notes,this.commands=t.commands,this.difficulty=t.difficulty,this.bars=t.bars,this.song=t.song}toJSON(){return{metadata:this.metadata,notes:this.notes,commands:this.commands,difficulty:this.difficulty,bars:this.bars}}}class an{constructor(t){this.metadata={},this.courses={},this.metadata=t.metadata,this.courses=t.courses}static parse(t){const r=t.split(`
`).map(s=>s.trim()),n={},i={},u=new an({courses:n,metadata:i});let o=0;for(;o<r.length;){const s=r[o];if(s.length===0)o++;else if(s.startsWith("COURSE")){let c=o+1;for(;;){if(c>=r.length)throw new Ir("TJA_COURSE_NOT_ENDED");if(r[c]==="#END")break;c++}const f=r.slice(o,c+1).join(`
`),a=ti.parse(f,u);n[a.difficulty]=a,o=c+1}else{const c=this.parseMetadata(s);i[c[0]]=c[1],o++}}return u}static parseMetadata(t){let r="",n="",i=0;for(let u=0;u<t.length;u++){const o=t[u];o===":"?i=1:i===0?r+=o:n+=o}return[r.trim(),n.trim()]}getBPM(){const t=Number(this.metadata.BPM??"1");return Number.isNaN(t)?1:t}getOffset(){const t=Number(this.metadata.OFFSET??"0");return Number.isNaN(t)?0:t}getSongVol(){const t=Number(this.metadata.SONGVOL??"0");return Number.isNaN(t)?0:t}getSEVol(){const t=Number(this.metadata.SEVOL??"0");return Number.isNaN(t)?0:t}getDemoStart(){const t=Number(this.metadata.DEMOSTART??"0");return Number.isNaN(t)?0:t}}class g0{constructor(t){this.isPlaying=!1,this.sourceNode=null,this.audioContext=null,this.coursePlayer=t}async setAudio(t){this.audioContext=new AudioContext,this.audioBuffer=await this.audioContext.decodeAudioData(await t.arrayBuffer())}play(){this.isPlaying,this.audioContext&&this.audioBuffer&&(this.sourceNode=this.audioContext.createBufferSource(),this.sourceNode.buffer=this.audioBuffer,this.sourceNode.connect(this.audioContext.destination),this.sourceNode.start(this.audioContext.currentTime+1)),this.isPlaying=!0}stop(){var t;this.isPlaying&&((t=this.sourceNode)==null||t.stop(),this.isPlaying=!0)}}class it{constructor(t){this.coursePlayer=t}getXCoor({elapsed:t,bpm:r,scroll:n,time:i}){return this.coursePlayer.hitXCoor+(i.valueOf()-t/1e3)*this.coursePlayer.width*(n.valueOf()*r.valueOf()/240)}render(t,r){const{ctx:n}=this.coursePlayer;switch(t.type){case it.RENDERING_DATA_TYPE.BAR:return r>0&&t.bar.branch>0&&t.bar.branch!=r||t.x<0-this.coursePlayer.noteRadius*2?!1:(t.x>this.coursePlayer.width+this.coursePlayer.noteRadius*2||!t.bar.barline||(n.fillStyle="white",n.fillRect(t.x-1,0,2,this.coursePlayer.height)),!0);case it.RENDERING_DATA_TYPE.NORMAL:{if(r>0&&t.note.branch>0&&t.note.branch!=r)return!1;let i=t.noteType===3||t.noteType===4,u=i?this.coursePlayer.noteRadius*1.3:this.coursePlayer.noteRadius;if(t.x<0-u*2)return!1;if(t.x>this.coursePlayer.width+u*2)return!0;let o=t.noteType%2===0?"#42bfbd":"#f84927";return n.beginPath(),n.lineWidth=0,n.arc(t.x,this.coursePlayer.height/2,u,0,2*Math.PI),n.fillStyle="black",n.fill(),n.closePath(),n.beginPath(),n.lineWidth=0,n.arc(t.x,this.coursePlayer.height/2,i?u*(1-1/(12*1.3)):u*(1-1/12),0,2*Math.PI),n.fillStyle="#ece7d9",n.fill(),n.closePath(),n.beginPath(),n.lineWidth=0,n.arc(t.x,this.coursePlayer.height/2,u*3/4,0,2*Math.PI),n.fillStyle=o??"",n.fill(),n.closePath(),!0}case it.RENDERING_DATA_TYPE.ROLL:{if(r>0&&t.startNote.branch>0&&t.startNote.branch!=r)return!1;let i=t.noteType===6,u=i?this.coursePlayer.noteRadius*1.3:this.coursePlayer.noteRadius;if(t.endX<0-u*2)return!1;if(t.startX>this.coursePlayer.width+u*2)return!0;const o=Math.max(t.startX,0),s=Math.min(t.endX,this.coursePlayer.width),c="#f7b800",f=this.coursePlayer.noteRadius/12,a=f/2;return n.beginPath(),n.lineWidth=f,n.moveTo(o,this.coursePlayer.height/2-u+a),n.lineTo(s,this.coursePlayer.height/2-u+a),n.arc(s,this.coursePlayer.height/2,u-a,Math.PI*-1*.5,Math.PI*.5),n.moveTo(s,this.coursePlayer.height/2+u-a),n.lineTo(o,this.coursePlayer.height/2+u-a),n.arc(o,this.coursePlayer.height/2,u-a,Math.PI*.5,Math.PI*1.5),n.fillStyle=c,n.fill(),n.strokeStyle="black",n.stroke(),n.closePath(),n.beginPath(),n.lineWidth=0,n.arc(t.startX,this.coursePlayer.height/2,u,0,2*Math.PI),n.fillStyle="black",n.fill(),n.closePath(),n.beginPath(),n.lineWidth=0,n.arc(t.startX,this.coursePlayer.height/2,i?u*(1-1/(12*1.3)):u*(1-1/12),0,2*Math.PI),n.fillStyle="#ece7d9",n.fill(),n.closePath(),n.beginPath(),n.lineWidth=0,n.arc(t.startX,this.coursePlayer.height/2,u*3/4,0,2*Math.PI),n.fillStyle=c,n.fill(),n.closePath(),!0}case it.RENDERING_DATA_TYPE.BALLOON:{if(r>0&&t.startNote.branch>0&&t.startNote.branch!=r)return!1;let i=this.coursePlayer.noteRadius;const u=t.startX>this.coursePlayer.hitXCoor?t.startX:t.endX>this.coursePlayer.hitXCoor?this.coursePlayer.hitXCoor:t.endX;if(u<0-i*2)return!1;if(u>this.coursePlayer.width+i*2)return!0;const o="#f97900";return n.beginPath(),n.lineWidth=0,n.arc(u,this.coursePlayer.height/2,i,0,2*Math.PI),n.fillStyle="black",n.fill(),n.closePath(),n.beginPath(),n.lineWidth=0,n.arc(u,this.coursePlayer.height/2,this.coursePlayer.noteRadius?i*(1-1/(12*1.3)):i*(1-1/12),0,2*Math.PI),n.fillStyle="#ece7d9",n.fill(),n.closePath(),n.beginPath(),n.lineWidth=0,n.arc(u,this.coursePlayer.height/2,i*3/4,0,2*Math.PI),n.fillStyle=o,n.fill(),n.closePath(),!0}default:return!1}}}(e=>{e.RENDERING_DATA_TYPE={BAR:0,NORMAL:1,ROLL:2,BALLOON:3}})(it||(it={}));class w0{constructor(t,r){this.animationId=null,this.branch=1,this.isPlaying=!1,this.playingOption={speed:1.1,noScroll:!1},this.course=t,this.canvas=document.createElement("canvas"),this.canvas.width=(r==null?void 0:r.width)??1e3,this.canvas.height=this.height,this.ctx=this.canvas.getContext("2d"),this.courseRenderer=new it(this),this.canvas.style.backgroundColor="#282828",this.audioPlayer=new g0(this)}get width(){return this.canvas.width}set width(t){this.canvas.width=t,this.canvas.height=this.height}get height(){return this.canvas.width*320/237*13/128}get hitXCoor(){return this.canvas.width*320/237/16}get noteRadius(){return this.width*320/237*87/3200}get yCoor(){return this.height/2}get speed(){return this.playingOption.speed}set speed(t){this.playingOption.speed=t}setBranch(t){this.branch=t}play(){if(this.isPlaying)return;this.ctx.reset();let t;const r=[],n=[],i=this;let u=null;this.course.bars.forEach(c=>{n.push({type:it.RENDERING_DATA_TYPE.BAR,x:0,bar:c}),c.notes.forEach(f=>{switch(f.type){case 1:case 2:case 3:case 4:return r.push({type:it.RENDERING_DATA_TYPE.NORMAL,x:0,noteType:f.type,note:f});case 5:case 6:case 7:return u=f;case 8:{if(!u)return;switch(u.type){case 5:case 6:return r.push({type:it.RENDERING_DATA_TYPE.ROLL,startX:0,endX:0,noteType:u.type,startNote:u,endNote:f}),u=null;case 7:return r.push({type:it.RENDERING_DATA_TYPE.BALLOON,startX:0,endX:0,noteType:u.type,startNote:u,endNote:f}),u=null}}}})});function o(c){t||(t=c-i.course.song.getOffset()*1e3+1e3),i.ctx.reset(),s();const f=c-t;let a=!1;n.toReversed().forEach(l=>{let D=l.bar;l.x=i.courseRenderer.getXCoor({elapsed:f,bpm:D.bpm,scroll:i.playingOption.noScroll?je(1):D.scroll.valueOf()*i.playingOption.speed,time:D.time}),a=i.courseRenderer.render(l,i.branch)||a}),r.toReversed().forEach(l=>{switch(l.type){case 1:{let D=l.note;l.x=i.courseRenderer.getXCoor({elapsed:f,bpm:D.bpm,scroll:i.playingOption.noScroll?je(1):D.scroll.valueOf()*i.playingOption.speed,time:D.time});break}case 2:case 3:{let D=l.startNote,d=l.endNote;l.startX=i.courseRenderer.getXCoor({elapsed:f,bpm:D.bpm,scroll:i.playingOption.noScroll?je(1):D.scroll.valueOf()*i.playingOption.speed,time:D.time}),l.endX=i.courseRenderer.getXCoor({elapsed:f,bpm:d.bpm,scroll:i.playingOption.noScroll?je(1):d.scroll.valueOf()*i.playingOption.speed,time:d.time});break}}a=i.courseRenderer.render(l,i.branch)||a}),a?i.animationId=requestAnimationFrame(o):i.stop()}this.animationId=requestAnimationFrame(o),this.audioPlayer.play(),this.isPlaying=!0;function s(){const{ctx:c}=i,f="gray";c.beginPath(),c.arc(i.hitXCoor,i.height/2,i.noteRadius,0,2*Math.PI),c.stroke(),c.fillStyle=f,c.fill(),c.closePath()}}stop(){this.isPlaying&&(this.animationId&&cancelAnimationFrame(this.animationId),this.audioPlayer.stop(),this.isPlaying=!1)}}async function y0(e,t,r,n,i,u,o){var f,a,l;const s=(a=(f=he(t))==null?void 0:f.files)==null?void 0:a[0];if(!s||!he(t))return;r(),(l=he(n))==null||l.replaceChildren(),ze(i,null),ze(u,null);try{const D=await c(s);ze(o,Pt(an.parse(D))),alert("로딩 완료")}catch{alert("로딩 실패")}function c(D){return new Promise((d,v)=>{const h=new FileReader;h.onload=()=>d(h.result),h.onerror=()=>v(h.error),h.readAsText(D)})}}async function E0(e,t,r,n,i,u){var c,f,a,l,D;const o=(f=(c=he(t))==null?void 0:c.courses)==null?void 0:f[he(r)];if(!o)return;ze(n,Pt(new w0(o,{width:1920}))),(a=he(i))==null||a.append(he(n).canvas),he(n).canvas.style.width="100%";const s=(D=(l=he(u))==null?void 0:l.files)==null?void 0:D[0];s&&await he(n).audioPlayer.setAudio(s),he(n).play()}var F0=Un("<option> </option>"),A0=Un('<select></select> <button>재생</button> <button>정지</button> <input type="number">',1),C0=Un('<main></main> <div class="player-container"></div> TJA:<input type="file" accept=".tja"> 오디오: <input type="file" accept="audio/*"> <!>',1);function _0(e,t){lu(t,!0);let r=Tt(void 0),n=Tt(void 0),i=Tt(void 0),u=Tt(null),o=Tt(null),s=Tt(null),c=Tt(1);va(()=>{he(s)&&(he(s).speed=he(c))});function f(){var h,p;(h=he(r))==null||h.replaceChildren(),(p=he(s))==null||p.stop()}var a=C0(),l=Ot(fn(a),2);ln(l,h=>ze(r,h),()=>he(r));var D=Ot(l,2);ln(D,h=>ze(n,h),()=>he(n)),D.__change=[y0,n,f,r,o,s,u];var d=Ot(D,2);ln(d,h=>ze(i,h),()=>he(i));var v=Ot(d,2);fi(v,()=>he(u),h=>{var p=A0(),w=fn(p);Za(w,20,()=>["easy","normal","hard","oni","edit"],La,(E,m)=>{var _=Ia(),b=fn(_);fi(b,()=>he(u).courses[m],B=>{var S=F0(),T={},$=ha(S);ga(()=>{T!==(T=m)&&(S.value=(S.__value=m)==null?"":m),za($,m)}),Cr(B,S)}),Cr(E,_)});var C=Ot(w,2);C.__click=[E0,u,o,s,r,i];var y=Ot(C,2);y.__click=f;var A=Ot(y,2);Ya(w,()=>he(o),E=>ze(o,E)),ka(A,()=>he(c),E=>ze(c,E)),Cr(h,p)}),Cr(e,a),hu()}Ta(["change","click"]);function b0(e){_0(e,{})}qa(b0,{target:document.getElementById("app")});</script>
  </head>
  <body>
    <div id="app"></div>
  </body>
</html>
